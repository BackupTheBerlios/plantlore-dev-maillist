<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r256 - trunk/src/net/sf/plantlore/client
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r256%20-%20trunk/src/net/sf/plantlore/client&In-Reply-To=%3C200605110937.k4B9b0xr005504%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000301.html">
   <LINK REL="Next"  HREF="000303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r256 - trunk/src/net/sf/plantlore/client</H1>
    <B>fraktalek at berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r256%20-%20trunk/src/net/sf/plantlore/client&In-Reply-To=%3C200605110937.k4B9b0xr005504%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r256 - trunk/src/net/sf/plantlore/client">fraktalek at berlios.de
       </A><BR>
    <I>Thu May 11 11:37:00 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000301.html">[Plantlore-dev] Plantlore_en.properties
</A></li>
        <LI>Next message: <A HREF="000303.html">[Plantlore-dev] r257 - trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#302">[ date ]</a>
              <a href="thread.html#302">[ thread ]</a>
              <a href="subject.html#302">[ subject ]</a>
              <a href="author.html#302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fraktalek
Date: 2006-05-11 11:37:00 +0200 (Thu, 11 May 2006)
New Revision: 256

Added:
   trunk/src/net/sf/plantlore/client/AuthorRevisionEditorSearch.java
   trunk/src/net/sf/plantlore/client/AuthorTableModelSearch.java
   trunk/src/net/sf/plantlore/client/ButtonEditorSearch.java
   trunk/src/net/sf/plantlore/client/Search.java
   trunk/src/net/sf/plantlore/client/SearchCtrl.java
   trunk/src/net/sf/plantlore/client/SearchView.form
   trunk/src/net/sf/plantlore/client/SearchView.java
Modified:
   trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
   trunk/src/net/sf/plantlore/client/OverviewTableModel.java
Log:
svn-commit.2.tmp

Modified: trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -83,10 +83,15 @@
     AddEditView editView;
     AddEditCtrl addCtrl;
     AddEditCtrl editCtrl;
+    
+    Search searchModel;
+    SearchView searchView;
+    SearchCtrl searchCtrl;
+    
     Settings settingsModel;
     SettingsView settingsView;
     SettingsCtrl settingsCtrl;
-    Preferences prefs;
+    Preferences prefs;    
     
     // History of one occurrence
     History historyModel;
@@ -403,7 +408,14 @@
         } 
 
         public void actionPerformed(ActionEvent actionEvent) {
-            System.out.println(&quot;Search pressed&quot;);
+            if (searchModel == null) {
+                searchModel = new Search(model.getDatabase());
+                searchView = new SearchView(view, true, searchModel);
+                searchView.setTitle(&quot;Search&quot;);
+                searchCtrl = new SearchCtrl(searchModel, searchView);
+            }
+            searchView.clearComponentData();
+            searchView.setVisible(true);
         }
     }
     

Added: trunk/src/net/sf/plantlore/client/AuthorRevisionEditorSearch.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AuthorRevisionEditorSearch.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/AuthorRevisionEditorSearch.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,80 @@
+/*
+ * AuthorRevisionEditor.java
+ *
+ * Created on 5. kv&#283;ten 2006, 14:42
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package net.sf.plantlore.client;
+
+import java.awt.Component;
+import java.awt.event.ActionEvent;
+import java.util.ArrayList;
+import java.util.HashMap;
+import javax.swing.AbstractAction;
+import javax.swing.AbstractCellEditor;
+import javax.swing.JButton;
+import javax.swing.JOptionPane;
+import javax.swing.JTable;
+import javax.swing.table.TableCellEditor;
+import javax.swing.table.TableModel;
+import net.sf.plantlore.l10n.L10n;
+
+/**
+ *
+ * @author fraktalek
+ */
+public class AuthorRevisionEditorSearch extends AbstractCellEditor implements TableCellEditor {
+    HashMap&lt;Integer,JButton&gt; buttonMap = new HashMap&lt;Integer,JButton&gt;();
+    HashMap&lt;JButton,Integer&gt; buttonMapInverted = new HashMap&lt;JButton,Integer&gt;();
+    Search aemodel;
+    String value = &quot;&quot;;
+    
+    class RevisionAction extends AbstractAction {
+        public RevisionAction() {
+            putValue(NAME, L10n.getString(&quot;addEditRevision&quot;));
+            putValue(SHORT_DESCRIPTION, L10n.getString(&quot;addEditRevisionTT&quot;));
+            putValue(MNEMONIC_KEY, L10n.getMnemonic(&quot;addEditRevision&quot;));            
+        } 
+
+        public void actionPerformed(ActionEvent e) {
+            JButton button = (JButton)e.getSource();
+            int row = buttonMapInverted.get(button);
+            String s = (String)JOptionPane.showInputDialog(null,&quot;Enter the note, please&quot;,&quot;AuthorOccurrence note&quot;,JOptionPane.QUESTION_MESSAGE,null,null,e.getActionCommand());
+            value = s;
+            if (s != null) {
+                aemodel.setResultRevision(row,s);
+            } else { // user pressed cancel
+                value = e.getActionCommand();
+            }
+            fireEditingStopped();
+        }
+    }
+    
+    /** Creates a new instance of AuthorRevisionEditor */
+    public AuthorRevisionEditorSearch(Search aemodel) {
+        this.aemodel = aemodel;
+    }
+
+
+    public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {
+        if (!buttonMap.containsKey(row)) {
+            JButton button = new JButton();
+            button.addActionListener(new RevisionAction());
+            button.setActionCommand(&quot;&quot;);
+            buttonMap.put(row,button);
+            buttonMapInverted.put(button,row);
+        }
+        JButton button = buttonMap.get(row);
+        TableModel tm = table.getModel();
+        button.setActionCommand((String) value);
+        return button;
+    }
+
+    public Object getCellEditorValue() {
+        return value;
+    }
+    
+}

Added: trunk/src/net/sf/plantlore/client/AuthorTableModelSearch.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AuthorTableModelSearch.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/AuthorTableModelSearch.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,189 @@
+/*
+ * AuthorTableModel.java
+ *
+ * Created on 25. duben 2006, 17:42
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package net.sf.plantlore.client;
+
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.util.ArrayList;
+import javax.swing.AbstractAction;
+import javax.swing.JButton;
+import javax.swing.JOptionPane;
+import javax.swing.event.TableModelEvent;
+import javax.swing.event.TableModelListener;
+import javax.swing.table.AbstractTableModel;
+import net.sf.plantlore.common.Pair;
+import net.sf.plantlore.l10n.L10n;
+
+
+/** Table model for the authors table in AddEditView.
+ *
+ */
+public class AuthorTableModelSearch extends AbstractTableModel {
+    ArrayList&lt;Object[]&gt; data = new ArrayList&lt;Object[]&gt;();
+    Object[] row;
+    Search aemodel;
+    
+    public AuthorTableModelSearch(Search aemodel) {
+        this.aemodel = aemodel;
+        row = new Object[4];
+        row[0] = new Pair(&quot;&quot;,0);
+        row[1] = &quot;&quot;;
+/*        JButton b = new JButton(&quot;Add&quot;);
+        b.addActionListener(new AuthorButtonListener(aemodel));
+        b.setActionCommand(&quot;0&quot;); */
+        row[2] = &quot;&quot;;//x
+        row[3] = &quot;&quot;;
+        data.add(row);
+        loadDataFromModel();
+        fireTableDataChanged();
+    }
+    
+    private void loadDataFromModel() {
+        for (int i = 0; i &lt; aemodel.getAuthorCount(); i++)
+            addRow(aemodel.getAuthor(i), aemodel.getAuthorRole(i), aemodel.getResultRevision(i));        
+    }
+    
+    public void reset() {
+        data.clear();
+        row = new Object[4];
+        row[0] = new Pair(&quot;&quot;,0);
+        row[1] = &quot;&quot;;
+/*        JButton b = new JButton(&quot;Add&quot;);
+        b.addActionListener(new AuthorButtonListener(aemodel));
+        b.setActionCommand(&quot;0&quot;); */
+        row[2] = //x;
+        row[3] = &quot;&quot;;
+        data.add(row);
+        loadDataFromModel();
+        fireTableDataChanged();        
+    }
+    
+    public void addRow() {
+        //create a new row
+        row = new Object[4];
+        row[0] = new Pair(&quot;&quot;,0);
+        row[1] = &quot;&quot;;
+/*        JButton b = new JButton(&quot;Add&quot;);
+        b.addActionListener(new AuthorButtonListener(aemodel));
+        b.setActionCommand(&quot;&quot;+data.size()); */
+        row[2] = &quot;&quot;;//x
+        row[3] = &quot;&quot;;
+        
+        //get the last row and update it's text to Remove
+//        Object[] rowTmp = data.get(data.size()-1);
+//        ((JButton)rowTmp[2]).setText(&quot;Remove&quot;);
+        
+        data.add(row);
+
+        //we fire that in case someone would like to register a table model listener with us
+        //and get some reasonable data
+        fireTableRowsInserted(data.size()-1,data.size()-1);
+    }
+    
+    public void addRow(Pair&lt;String, Integer&gt; author, String role, String revision) {
+        addRow();
+        Object[] row = data.get(data.size()-2);
+        row[0] = author;
+        row[1] = role;
+        row[3] = revision;
+        fireTableDataChanged();
+    }
+    
+    public void removeRow(int i) {
+        System.out.println(&quot;AuthorTableModel: removing row #&quot;+i);
+        Object[] row = data.remove(i);
+
+/*        JButton b = (JButton)row[2];
+        for (int j=0; j &lt; data.size(); j++){
+            b = (JButton)data.get(j)[2];
+            b.setActionCommand(&quot;&quot;+j);
+        }
+*/
+        //we fire that in case someone would like to register a table model listener with us
+        //and get some reasonable data
+        fireTableRowsDeleted(i,i);
+
+        //unfortunately have to do this so that each cell regets it's updated renderer
+        //which is needed for the last row mainly
+        //fireTableStructureChanged();
+    }
+    
+    public int getRowCount() {
+        return data.size();
+    }
+    
+    public int getColumnCount() {
+        return row.length;
+    }
+    
+    public Object getValueAt(int i, int i0) {
+        return data.get(i)[i0];
+    }
+    
+    /** Has to be overriden so that our data (and table) get updated after editing.
+     */
+    public void setValueAt(Object o, int r, int c) {
+        if (c == 2) //we don't want to lose our nice buttons with listeners, proper text, ...
+            return;
+        Object[] row = data.get(r);
+        row[c] = o;
+        if (c == 0)
+            aemodel.setAuthor(r, (Pair&lt;String, Integer&gt;) o);
+        if (c == 1)
+            aemodel.setAuthorRole(r, (String) o);
+        if (c == 3)
+            aemodel.setResultRevision(r, (String) o);
+    }
+    
+    public Class getColumnClass(int c) {
+        //can't do this:
+        //return getValueAt(0,c).getClass();
+        //otherwise it throws NullPointerException perhaps thanks to some multiple threads running simultaneously
+        //so that the table view exists earlier than this model fetched data :-(
+        switch (c) {
+            case 0:
+                return Pair.class;
+            case 1:
+                return String.class;
+            case 2:
+                return JButton.class;
+            case 3:
+                return JButton.class;
+            default:
+                return null;
+        }                                
+    }
+    
+    public boolean isCellEditable(int row, int col) {
+        //we don't want the last row to be editable except it's last(=button) column
+        if (row == data.size()-1)
+            if (col == 2)
+                return true;
+            else
+                return false;
+        else
+            return true;
+    }
+    public String getColumnName(int col) {
+        switch (col) {
+            case 0:
+                return &quot;Name&quot;;
+            case 1:
+                return &quot;Role&quot;;
+            case 2:
+                return &quot;&quot;;
+            case 3:
+                return &quot;Revision&quot;;
+            default:
+                return &quot;&quot;;
+        }
+    }
+}
+    
\ No newline at end of file

Added: trunk/src/net/sf/plantlore/client/ButtonEditorSearch.java
===================================================================
--- trunk/src/net/sf/plantlore/client/ButtonEditorSearch.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/ButtonEditorSearch.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,102 @@
+/*
+ * ButtonEditor.java
+ *
+ * Created on 24. duben 2006, 17:39
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package net.sf.plantlore.client;
+
+import java.awt.Component;
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.awt.event.MouseAdapter;
+import java.awt.event.MouseEvent;
+import java.util.ArrayList;
+import java.util.HashMap;
+import javax.swing.AbstractCellEditor;
+import javax.swing.JButton;
+import javax.swing.JTable;
+import javax.swing.table.TableCellEditor;
+import javax.swing.table.TableCellRenderer;
+import javax.swing.table.TableModel;
+
+/** Button Editor and Renderer used by the author table in AddEdit dialog.
+ *
+ * Simply returns the buttons stored in the table model.
+ * @author reimei
+ */
+public class ButtonEditorSearch extends AbstractCellEditor implements TableCellEditor, TableCellRenderer  {
+    HashMap&lt;Integer,JButton&gt; editors = new HashMap&lt;Integer,JButton&gt;();
+    JButton addButton, removeButton;
+    Search aemodel;
+    
+    /** Listener for buttons in the table.
+     * Adds or removes rows calling the view according to the button's text.
+     */
+    class AuthorButtonListener implements ActionListener {
+        Search aemodel;
+
+        public AuthorButtonListener(Search aemodel) {
+            this.aemodel = aemodel;
+        }
+
+        public void actionPerformed(ActionEvent actionEvent) {
+            JButton btn = (JButton) actionEvent.getSource();
+            if (btn.getText().equals(&quot;Add&quot;))
+                aemodel.addAuthorRow();
+            else
+                aemodel.removeAuthorRow(Integer.parseInt(actionEvent.getActionCommand()));     
+            fireEditingStopped();
+        }
+    }
+
+    /** Creates a new instance of ButtonEditor */
+    public ButtonEditorSearch(Search aemodel) {
+        this.aemodel = aemodel;
+        addButton = new JButton(&quot;Add&quot;);
+        removeButton = new JButton(&quot;Remove&quot;);
+    }
+
+    public Object getCellEditorValue() {
+        System.out.println(&quot;ButtonEditor.java: returning cell editor value&quot;);
+        return &quot;Kdo vi co a jak&quot;;
+    }
+    public Component getTableCellEditorComponent(JTable table, Object value,
+                                                 boolean isSelected,
+                                                 int row,
+                                                 int column) {
+        TableModel tm = table.getModel();
+        int rowCount = tm.getRowCount();
+        
+        if (!editors.containsKey(row)) {
+            JButton button = new JButton();
+            button.addActionListener(new AuthorButtonListener(aemodel));
+            editors.put(row, button);
+        }
+        
+        JButton button = editors.get(row);
+        if (row == (rowCount-1)) {
+            button.setText(&quot;Add&quot;);
+            button.setActionCommand(&quot;&quot;);
+        } else {
+            button.setText(&quot;Remove&quot;);
+            button.setActionCommand(&quot;&quot;+row);
+        }
+        
+        return button;
+    }
+
+    public Component getTableCellRendererComponent(JTable table, Object object, boolean b, boolean b0, int row, int i0) {
+        TableModel tm = table.getModel();
+        int rowCount = tm.getRowCount();
+        
+        if (row == (rowCount-1)) {
+            return addButton;
+        } else {
+            return removeButton;
+        }
+    }
+}

Modified: trunk/src/net/sf/plantlore/client/OverviewTableModel.java
===================================================================
--- trunk/src/net/sf/plantlore/client/OverviewTableModel.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/OverviewTableModel.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -60,10 +60,10 @@
         }
     }
     
-    private Object[][] data = {
+    private Object[][] data;/* = {
         {true, &quot;Pampeliska&quot;, &quot;neznamy&quot;, &quot;Praha&quot;, new Integer(1995), &quot;phy&quot;, &quot;cechy&quot;, new Boolean(false), new Integer(10), new Integer(12), new Integer(-5), &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},
         {false,&quot;Hermanek&quot;, &quot;Jakub&quot;, &quot;Zelezny Brod&quot;, new Integer(1990), &quot;phy&quot;, &quot;cechy&quot;, new Boolean(true), new Integer(10), new Integer(12), new Integer(-5), &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}
-    };
+    };*/
     
     /** Simple mode if true - only first three columns are displayed
      * Extended mode if false - all columns are displayed
@@ -183,6 +183,7 @@
         Plant plant;
         Object[] resultObj, records;
         resultsCount = db.getNumRows(getResultid());
+        System.out.println(&quot;resultsCount=&quot;+resultsCount);
         if (resultsCount &gt; 0) {
             logger.debug(&quot;resultsCount = &quot;+resultsCount);
             to = Math.min(resultsCount-1, from + pageSize - 1);
@@ -193,6 +194,7 @@
             logger.debug(&quot;records.length = &quot; + records.length);
 
             for (int i = 0; i &lt; data.length ; i++) {
+                System.out.println(&quot;i=&quot;+i);
                 resultObj = (Object[])records[i];
                 result = (Occurrence)resultObj[0];
                 Record999 r = new Record999(result.getId(), false, from + i + 1);//we want to show the user numbers starting from 1 therefor the +1
@@ -205,7 +207,7 @@
                 row[0] = r.selected;
                 row[1] = r.number;
                 row[2] = result.getPlant().getTaxon();
-                row[3] = ((Object[])getAuthorsOf(result))[0];//occurrence must have at least one author, we'll choose the first one
+                row[3] = ((Pair&lt;String,Integer&gt;)((Object[])getAuthorsOf(result))[0]).getFirst();//occurrence must have at least one author, we'll choose the first one
                 row[4] = result.getHabitat().getNearestVillage().getName();
                 row[5] = result.getHabitat().getDescription();
                 row[6] = result.getYearCollected();
@@ -228,6 +230,8 @@
                 row[23] = result.getTimeCollected();
                 row[24] = result; //won't  be displayed, because in getColumnCount we pretend not to have this column
                 data[i] = row;
+                for (int k=0; k &lt; 24 ; k++)
+                    System.out.println(&quot;row &quot;+k+&quot;=#&quot;+row[k]+&quot;#&quot;);
             }//i        
         }//if resultsCount &gt; 1
     }
@@ -254,7 +258,10 @@
     }
     
     public int getRowCount() {
-        return data.length;
+        if (data != null)
+            return data.length;
+        else
+            return 0;
     }
     
     public int getColumnCount() {
@@ -418,10 +425,12 @@
     }
     
     public int getResultid() {
+        System.out.println(&quot;returning resultid &quot;+resultid);
         return resultid;
     }
 
     public void setResultid(int resultid) {
+        System.out.println(&quot;setting resultid to &quot;+resultid);
         this.resultid = resultid;
     }
 

Added: trunk/src/net/sf/plantlore/client/Search.java
===================================================================
--- trunk/src/net/sf/plantlore/client/Search.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/Search.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,974 @@
+/*
+ * AddEdit.java
+ *
+ * Created on 20. duben 2006, 14:26
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package net.sf.plantlore.client;
+
+import java.rmi.RemoteException;
+import java.util.ArrayList;
+import java.util.Calendar;
+import java.util.Date;
+import java.util.Observable;
+import net.sf.plantlore.common.Pair;
+import net.sf.plantlore.common.PlantloreConstants;
+import net.sf.plantlore.common.record.Author;
+import net.sf.plantlore.common.record.AuthorOccurrence;
+import net.sf.plantlore.common.record.Habitat;
+import net.sf.plantlore.common.record.Metadata;
+import net.sf.plantlore.common.record.Occurrence;
+import net.sf.plantlore.common.record.Phytochorion;
+import net.sf.plantlore.common.record.Plant;
+import net.sf.plantlore.common.record.Publication;
+import net.sf.plantlore.common.record.Territory;
+import net.sf.plantlore.common.record.Village;
+import net.sf.plantlore.middleware.DBLayer;
+import net.sf.plantlore.middleware.SelectQuery;
+import net.sf.plantlore.server.DBLayerException;
+import org.apache.log4j.Logger;
+
+/**
+ *
+ * @author fraktalek
+ */
+public class Search extends Observable {
+    public static final int INTERVAL = 1;
+    public static final int MONTH = 2;
+    
+    private Logger logger;
+    private DBLayer database;      
+    
+    private int coordinateSystem;
+    private Occurrence o; //original occurrence
+    
+    //list of authors user selects
+    private ArrayList&lt;Pair&lt;Pair&lt;String,Integer&gt;,String&gt;&gt; authorList;
+    private ArrayList&lt;String&gt; resultRevision;
+    
+    private Pair&lt;String,Integer&gt; village = new Pair&lt;String,Integer&gt;(&quot;&quot;,-1);
+    
+    private ArrayList&lt;String&gt; taxonList = new ArrayList&lt;String&gt;();
+    private String taxonOriginal;
+    
+    private String localityDescription;
+    private Integer year;
+    private String habitatNote;
+    private String occurrenceNote;
+    private Pair&lt;String, Integer&gt; territoryName = new Pair&lt;String,Integer&gt;(&quot;&quot;,-1);
+    private Pair&lt;String, Integer&gt; phytName = new Pair&lt;String,Integer&gt;(&quot;&quot;,-1);
+    private Pair&lt;String, Integer&gt; phytCode = new Pair&lt;String,Integer&gt;(&quot;&quot;,-1);
+    private String phytCountry;
+    private String quadrant;
+    private Double altitude;
+    private Double longitude;
+    private Double latitude;
+    private String source;
+    private Pair&lt;String,Integer&gt; publication = new Pair&lt;String,Integer&gt;(&quot;&quot;,-1);
+    private String herbarium;
+    private Pair&lt;String,Integer&gt; project = new Pair&lt;String,Integer&gt;(&quot;&quot;,-1);
+    private Integer month;
+    private Date fromDate, toDate;
+    
+    private boolean yearChanged = false;
+    private boolean dayChanged = false;
+    private boolean monthChanged = false;
+    private boolean timeChanged = false;
+    
+    
+    private Pair&lt;String, Integer&gt;[] plants = null;
+    private Pair&lt;String, Integer&gt;[] authors = null;
+    private String[] authorRoles = null;
+    private Pair&lt;String, Integer&gt;[] villages = null;
+    private Pair&lt;String, Integer&gt;[] territories = null;
+    private Pair&lt;String, Integer&gt;[] phytNames = null;
+    private Pair&lt;String, Integer&gt;[] phytCodes = null;
+    private String[] countries = null;
+    private String[] sources = null;
+    private Pair&lt;String, Integer&gt;[] publications = null;
+    private Pair&lt;String, Integer&gt;[] projects = null;
+
+    //helper variable to avoid recursion potentially caused by phytCode and phytName updates
+    private Boolean skipUpdate = false;
+
+    private int timeChoice = INTERVAL;
+    private Boolean editMode = false;
+    
+    
+    /** Creates a new instance of AddEdit */
+    public Search(DBLayer database) {
+        this.database = database;
+        this.editMode = editMode;
+        logger = Logger.getLogger(this.getClass().getPackage().getName());                
+    }
+ 
+
+    public Pair&lt;String, Integer&gt; getAuthor(int i) {
+        return ((Pair&lt;Pair&lt;String,Integer&gt;,String&gt;)authorList.get(i)).getFirst();
+    }
+    
+    public String getAuthorRole(int i) {
+        return ((Pair&lt;Pair&lt;String,Integer&gt;,String&gt;)authorList.get(i)).getSecond();
+    }
+    
+    public int getAuthorCount() {
+        return authorList.size();
+    }
+    
+    public void addAuthor(Pair&lt;Pair&lt;String, Integer&gt;,String&gt; author) {
+        authorList.add(author);
+        logger.debug(&quot;Added author &quot;+author.getFirst()+&quot; as &quot;+author.getSecond());
+    }
+    
+    public Pair&lt;String, Integer&gt; getVillage() {
+        return village;
+    }
+
+    public void setVillage(Pair&lt;String, Integer&gt; village) {
+        this.village = village;
+        logger.debug(&quot;Village set to &quot;+village);
+    }
+
+    public String getTaxon(int i) {
+        return (String) taxonList.get(i);
+    }
+
+    public String getLocalityDescription() {
+        return localityDescription;
+    }
+
+    public void setLocalityDescription(String localityDescription) {
+        this.localityDescription = localityDescription;
+        logger.debug(&quot;LocalityDescription set to &quot;+localityDescription);
+    }
+
+    public Integer getYear() {
+        return year;
+    }
+
+    public void setYear(Integer year) {
+        this.year = year;
+        if (!year.equals(1))
+            yearChanged = true;
+        logger.debug(&quot;Year set to &quot;+ year);
+    }
+
+    public String getHabitatNote() {
+        return habitatNote;
+    }
+
+    public void setHabitatNote(String habitatNote) {
+        this.habitatNote = habitatNote;
+        logger.debug(&quot;HabitatNote set to &quot;+ habitatNote);
+    }
+
+    public String getOccurrenceNote() {
+        return occurrenceNote;
+    }
+
+    public void setOccurrenceNote(String occurrenceNote) {
+        this.occurrenceNote = occurrenceNote;
+        logger.debug(&quot;OccurrenceNote set to &quot;+occurrenceNote);
+    }
+
+    public Pair&lt;String, Integer&gt; getTerritoryName() {
+        return territoryName;
+    }
+
+    public void setTerritoryName(Pair&lt;String, Integer&gt; territoryName) {
+        this.territoryName = territoryName;
+        logger.debug(&quot;TerritoryName set to &quot;+territoryName);
+    }
+
+    public Pair&lt;String, Integer&gt; getPhytName() {
+        return phytName;
+    }
+
+    public void setPhytName(Pair&lt;String, Integer&gt; phytName) {
+        if (phytName == null)
+            return;
+        if (skipUpdate) {
+            skipUpdate = false;
+            logger.debug(&quot;Skipping setPhytName&quot;);
+            return;
+        }
+        this.phytName = phytName;
+        for (int i=0; i &lt; phytCodes.length; i++) {
+            if (phytCodes[i].getSecond().equals(phytName.getSecond())) {
+                phytCode = phytCodes[i];
+                logger.debug(&quot;SetPhytName For &quot;+phytName+&quot; found &quot;+phytCode);
+                skipUpdate = true;
+                break;
+            } 
+        }
+        logger.debug(&quot;PhytName set to &quot;+phytName);
+        setChanged();
+        notifyObservers(new Pair&lt;String,Integer&gt;(&quot;updateCode&quot;,-1));
+    }
+
+    public Pair&lt;String, Integer&gt; getPhytCode() {
+        return phytCode;
+    }
+
+    public void setPhytCode(Pair&lt;String, Integer&gt; phytCode) {
+        if (phytCode == null)
+            return;
+        
+        if (skipUpdate) {
+            skipUpdate = false;
+            logger.debug(&quot;Skipping setPhytCode&quot;);
+            return;
+        }
+        this.phytCode = phytCode;
+        for (int i=0; i &lt; phytNames.length; i++) {
+            if (phytNames[i].getSecond().equals(phytCode.getSecond())) {
+                phytName = phytNames[i];
+                logger.debug(&quot;SetPhytCode For &quot;+phytCode+&quot; found &quot;+phytName);
+                skipUpdate = true;
+                break;
+            }
+        }
+        logger.debug(&quot;PhytCode set to &quot;+phytCode);
+        setChanged();
+        notifyObservers(new Pair&lt;String,Integer&gt;(&quot;updateName&quot;,-1));
+    }
+
+    public String getPhytCountry() {
+        return phytCountry;
+    }
+
+    public void setPhytCountry(String phytCountry) {
+        this.phytCountry = phytCountry;
+        logger.debug(&quot;PhytCountry set to &quot;+phytCountry);
+    }
+
+    public String getQuadrant() {
+        return quadrant;
+    }
+
+    public void setQuadrant(String quadrant) {
+        this.quadrant = quadrant;
+        logger.debug(&quot;Quadrant set to &quot;+ quadrant);
+    }
+
+    public Double getAltitude() {
+        return altitude;
+    }
+
+    public void setAltitude(Double altitude) {
+        this.altitude = altitude;
+        logger.debug(&quot;Altitude set to &quot;+altitude);
+    }
+
+    public Double getLongitude() {
+        return longitude;
+    }
+
+    public void setLongitude(Double longitude) {
+        this.longitude = longitude;
+        logger.debug(&quot;Longitude set to &quot;+longitude);
+    }
+
+    public Double getLatitude() {
+        return latitude;
+    }
+
+    public void setLatitude(Double latitude) {
+        this.latitude = latitude;
+        logger.debug(&quot;Latitude set to &quot;+latitude);
+    }
+
+    public String getSource() {
+        return source;
+    }
+
+    public void setSource(String source) {
+        this.source = source;
+        logger.debug(&quot;Source set to &quot;+source);
+    }
+
+    public Pair&lt;String, Integer&gt; getPublication() {
+        return publication;
+    }
+
+    public void setPublication(Pair&lt;String, Integer&gt; publication) {
+        this.publication = publication;
+        logger.debug(&quot;Publication set to &quot;+publication);
+    }
+
+    public String getHerbarium() {
+        return herbarium;
+    }
+
+    public void setHerbarium(String herbarium) {
+        this.herbarium = herbarium;
+        logger.debug(&quot;Herbarium set to &quot;+herbarium);
+    }
+
+    public Integer getMonth() {
+        return month;
+    }
+
+    public void setMonth(Integer month) {
+        this.month = month;
+        if (!month.equals(1))
+            monthChanged = true;
+        logger.debug(&quot;Month set to &quot;+month);
+    }
+
+    
+    public Pair&lt;String, Integer&gt;[] getPlants() {
+        if (plants == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Plant p;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Plant.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Plant.TAXON);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                System.out.println(&quot;getPlants(): we got &quot;+resultsCount+&quot; results.&quot;);
+                records = database.more(resultid, 0, resultsCount-1);
+                plants = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    p = (Plant)((Object[])records[i])[0];
+                    plants[i] = new Pair(p.getTaxon(), p.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return plants;
+        } else
+            return plants;
+    }
+    
+    public Pair&lt;String, Integer&gt;[] getAuthors() {
+        if (authors == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Author a;
+            //FIXME:
+            try {
+                sq = database.createQuery(Author.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Author.WHOLENAME);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                authors = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    a = (Author)((Object[])records[i])[0];
+                    authors[i] = new Pair&lt;String, Integer&gt;(a.getWholeName(), a.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return authors;
+        } else
+            return authors;
+    }
+    
+    public String[] getAuthorRoles() {
+        if (authorRoles == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            AuthorOccurrence ao;
+            //FIXME:
+            try {
+                sq = database.createQuery(AuthorOccurrence.class);
+                sq.addProjection(PlantloreConstants.PROJ_DISTINCT,AuthorOccurrence.ROLE);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, AuthorOccurrence.ROLE);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                authorRoles = new String[resultsCount];
+                String r;
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    r = (String)((Object[])records[i])[0];
+                    authorRoles[i] = r;
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return authorRoles;
+        } else
+            return authorRoles;
+    }
+
+    public Pair&lt;String, Integer&gt;[] getVillages() {
+        if (villages == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Village v;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Village.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Village.NAME);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                villages = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    v = (Village)((Object[])records[i])[0];
+                    villages[i] = new Pair&lt;String, Integer&gt;(v.getName(), v.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return villages;
+        } else
+            return villages;
+    }
+
+    public Pair&lt;String, Integer&gt;[] getTerritories() {
+        if (territories == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Territory t;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Territory.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Territory.NAME);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                territories = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    t = (Territory)((Object[])records[i])[0];
+                    territories[i] = new Pair&lt;String,Integer&gt;(t.getName(), t.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return territories;
+        } else
+            return territories;
+    }
+    
+    public Pair&lt;String, Integer&gt;[] getPhytNames() {
+        if (phytNames == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Phytochorion p;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Phytochorion.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Phytochorion.NAME);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                phytNames = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    p = (Phytochorion)((Object[])records[i])[0];
+                    phytNames[i] = new Pair&lt;String,Integer&gt;(p.getName(), p.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return phytNames;
+        } else
+            return phytNames;
+    }
+    
+    public Pair&lt;String, Integer&gt;[] getPhytCodes() {
+        if (phytCodes == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Phytochorion p;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Phytochorion.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Phytochorion.CODE);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                phytCodes = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    p = (Phytochorion)((Object[])records[i])[0];
+                    phytCodes[i] = new Pair&lt;String,Integer&gt;(p.getCode(), p.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return phytCodes;
+        } else
+            return phytCodes;
+    }
+    
+    public String[] getCountries() {
+        if (countries == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            int uniqueCount = 0;
+            String[] countriesTemp;
+            Object[] records;
+            Habitat h;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Habitat.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Habitat.COUNTRY);
+                resultid = database.executeQuery(sq); // the values can be doubled, we need to filter them 
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                countriesTemp = new String[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    h = (Habitat)((Object[])records[i])[0];
+                    if (h.getCountry() ==  null)
+                        System.out.println(&quot;\twas null&quot;);
+                    if (i == 0) {
+                        countriesTemp[0] = h.getCountry();
+                        uniqueCount++;
+                        continue;
+                    }
+                        
+                    if (h.getCountry()!=null &amp;&amp; !h.getCountry().equals(countriesTemp[uniqueCount-1])) { //filter duplicates and null values
+                        countriesTemp[uniqueCount] = h.getCountry();
+                        uniqueCount++;
+                    }
+                }
+                
+                countries = new String[uniqueCount];
+                for (int i = 0; i &lt; uniqueCount; i++) {
+                    countries[i] = countriesTemp[i];
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return countries;
+        } else
+            return countries;        
+    }
+    
+    public String[] getSources() {
+        if (sources == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Occurrence o;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Occurrence.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Occurrence.DATASOURCE);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                sources = new String[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    o = (Occurrence)((Object[])records[i])[0];
+                    sources[i] = o.getDataSource();
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return sources;
+        } else
+            return sources;
+    }
+    
+    public Pair&lt;String, Integer&gt;[] getPublications() {
+        if (publications == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Publication p;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Publication.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Publication.REFERENCECITATION);
+                //sq.addProjection(PlantloreConstants.PROJ_DISTINCT,Publication.REFERENCECITATION);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                publications = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    p = (Publication)((Object[])records[i])[0];
+                    publications[i] = new Pair(p.getReferenceCitation(), p.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return publications;
+        } else
+            return publications;
+    }
+
+    public Pair&lt;String, Integer&gt;[] getProjects() {
+        if (projects == null)
+        {
+            SelectQuery sq;
+            int resultid;
+            int resultsCount;
+            Object[] records;
+            Metadata m;
+            
+            //FIXME:
+            try {
+                sq = database.createQuery(Metadata.class);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, Metadata.DATASETTITLE);
+                resultid = database.executeQuery(sq);
+                resultsCount = database.getNumRows(resultid);
+                records = database.more(resultid, 0, resultsCount-1);
+                projects = new Pair[resultsCount];
+                for (int i = 0; i &lt; resultsCount; i++)
+                {
+                    m = (Metadata)((Object[])records[i])[0];
+                    projects[i] = new Pair(m.getDataSetTitle(), m.getId());
+                }
+            } catch (RemoteException ex) {
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }            
+            return projects;
+        } else
+            return projects;
+    }
+
+    public DBLayer getDatabase() {
+        return database;
+    }
+
+    public void setDatabase(DBLayer database) {
+        this.database = database;
+    }
+
+    public Pair&lt;String, Integer&gt; getProject() {
+        return project;
+    }
+
+    public void setProject(Pair&lt;String, Integer&gt; project) {
+        logger.debug(&quot;Project set to &quot;+project);
+        this.project = project;
+    }
+
+    public int getCoordinateSystem() {
+        return coordinateSystem;
+    }
+
+    public void setTimeChoice(int choice) {
+        this.timeChoice = choice;
+        switch (choice) {
+            case INTERVAL:
+                logger.debug(&quot;Time choice set to INTERVAL&quot;);
+                break;
+            case MONTH:
+                logger.debug(&quot;Time choice set to MONTH&quot;);
+                break;
+        }
+    }
+    
+    /** Helper method to find id of given taxon according to &lt;code&gt;plants[]&lt;/code&gt;
+     *
+     * @return Id of the taxon if found
+     * @return -1 if not found
+     */
+    private Integer lookupPlant(String taxon) {
+        logger.debug(&quot;Looking up id for #&quot;+taxon+&quot;#&quot;);
+        for (int i=0; i &lt; plants.length ; i++) {
+            System.out.print(&quot;Trying #&quot;+plants[i]+&quot;#&quot;);
+            if (taxon.equals(plants[i].getFirst())) {
+                return plants[i].getSecond();
+            }
+        }
+        return -1;
+    }
+    
+    public boolean isNotEmpty(String s) {
+        if (s != null &amp;&amp; !s.equals(&quot;&quot;))
+            return true;
+        else
+            return false;
+    }
+
+    public boolean isNotEmpty(Pair&lt;String,Integer&gt; p) {
+        if (p != null &amp;&amp; p.getFirst() != null &amp;&amp;!p.getFirst().equals(&quot;&quot;))
+            return true;
+        else
+            return false;
+    }
+    
+    public boolean isNotEmpty(Number i) {
+        if (i != null &amp;&amp; !i.equals(0))
+            return true;
+        else
+            return false;
+    }
+    
+    public boolean isNotEmpty(Date d) {
+        if (d != null &amp;&amp; !d.equals(new Date(0)))
+            return true;
+        else
+            return false;
+    }
+    
+    public Pair&lt;Boolean,String&gt; checkData() {
+        //TODO: check that the author set contains reasonable (not null) values
+        boolean allNull = true;
+        for (int i = 0; i &lt; authorList.size(); i++) {
+            Pair&lt;Pair&lt;String,Integer&gt;,String&gt; p = authorList.get(i);
+            if (isNotEmpty(p.getSecond()))
+                allNull = false;
+            if (isNotEmpty(p.getFirst()))
+                allNull = false;
+        }
+        
+        for (int i = 0; i &lt; resultRevision.size(); i++) {
+            if (isNotEmpty(resultRevision.get(i)))
+                allNull = false;
+        }
+        
+        if (isNotEmpty(village))
+            allNull = false;
+        
+        for (int i = 0; i &lt; taxonList.size(); i++) {
+            if (isNotEmpty(taxonList.get(i)))
+                allNull = false;
+        }
+            
+        if (isNotEmpty(taxonOriginal))
+            allNull = false;
+    
+        if (isNotEmpty(localityDescription))
+            allNull = false;
+        
+        
+        if (isNotEmpty(habitatNote))
+            allNull = false;
+        
+        if (isNotEmpty(territoryName))
+            allNull = false;
+        
+        if (isNotEmpty(phytName))
+            allNull = false;
+        
+        if (isNotEmpty(phytCode))
+            allNull = false;
+        
+        if (isNotEmpty(phytCountry))
+            allNull = false;
+        
+        if (isNotEmpty(quadrant))
+            allNull = false;
+               
+        if (isNotEmpty(altitude))
+            allNull = false;
+        
+        if (isNotEmpty(longitude))
+            allNull = false;
+        
+        if (isNotEmpty(latitude))
+            allNull = false;
+        
+        if (isNotEmpty(source))
+            allNull = false;
+
+        if (isNotEmpty(publication))
+            allNull = false;
+        
+        if (isNotEmpty(herbarium))
+            allNull = false;
+        
+        if (isNotEmpty(project))
+            allNull = false;
+
+        if (timeChoice == INTERVAL) {
+            if (isNotEmpty(fromDate) &amp;&amp; isNotEmpty(toDate)) {
+                Calendar from = Calendar.getInstance(), to = Calendar.getInstance();
+                from.setTime(fromDate); to.setTime(toDate);
+                from.set(Calendar.HOUR,0);
+                from.set(Calendar.MINUTE, 0);
+                from.set(Calendar.MILLISECOND, 0);
+                
+                to.set(Calendar.HOUR,0);
+                to.set(Calendar.MINUTE, 0);
+                to.set(Calendar.MILLISECOND, 0);
+                
+                if (to.compareTo(from) &lt; 0)
+                    return new Pair&lt;Boolean,String&gt;(false,&quot;From-date must be before or equal to to-date&quot;);
+                allNull = false;
+            }
+            
+            if ((isNotEmpty(fromDate) &amp;&amp; !isNotEmpty(toDate)) || 
+                (!isNotEmpty(fromDate) &amp;&amp; isNotEmpty(toDate)) 
+                )
+                return new Pair&lt;Boolean,String&gt;(false,&quot;You have to specify either both from and to date or none of them.&quot;);
+        }
+        
+        if (timeChoice == MONTH)
+            if (isNotEmpty(month) &amp;&amp; !month.equals(12)) //12 is the index of the empty String in the MonthChooser's ComboBox, the empty String is added in Post-init code in SearchView
+                allNull = false;
+        
+        if (allNull)
+            return new Pair&lt;Boolean,String&gt;(false,&quot;You have to fill in at least one field.&quot;);
+        else
+            return new Pair&lt;Boolean,String&gt;(true,&quot;&quot;);
+    }
+    
+    public SelectQuery constructQuery() {
+        SelectQuery sq = null;
+            //FIXME:
+            try {
+                sq = database.createQuery(AuthorOccurrence.class);
+                sq.createAlias(AuthorOccurrence.AUTHOR,&quot;author&quot;);
+                sq.createAlias(AuthorOccurrence.OCCURRENCE,&quot;occ&quot;);
+                sq.createAlias(&quot;occ.&quot;+Occurrence.HABITAT,&quot;habitat&quot;);
+                sq.createAlias(&quot;occ.&quot;+Occurrence.PLANT,&quot;plant&quot;);
+                sq.createAlias(&quot;occ.&quot;+Occurrence.PUBLICATION,&quot;publication&quot;);
+                sq.createAlias(&quot;occ.&quot;+Occurrence.METADATA,&quot;metadata&quot;);
+                sq.createAlias(&quot;habitat.&quot;+Habitat.PHYTOCHORION,&quot;phyt&quot;);
+                sq.createAlias(&quot;habitat.&quot;+Habitat.NEARESTVILLAGE,&quot;vill&quot;);
+                sq.createAlias(&quot;habitat.&quot;+Habitat.TERRITORY,&quot;territory&quot;);
+                sq.addOrder(PlantloreConstants.DIRECT_ASC, &quot;occ.&quot;+Occurrence.YEARCOLLECTED); //setridit podle roku
+                sq.addRestriction(PlantloreConstants.RESTR_NE, &quot;occ.&quot;+Occurrence.DELETED, null, 1, null);
+                if (timeChoice == INTERVAL &amp;&amp; isNotEmpty(fromDate)) {
+                    ArrayList a = new ArrayList();
+                    a.add(fromDate);
+                    a.add(toDate);
+                    sq.addRestriction(PlantloreConstants.RESTR_BETWEEN,&quot;occ.&quot;+Occurrence.ISODATETIMEBEGIN,null,null,a);
+                }
+                int resultId = database.executeQuery(sq);
+                System.out.println(&quot;Number of results: &quot;+database.getNumRows(resultId));
+            } catch (RemoteException ex) {                
+                ex.printStackTrace();
+            } catch (DBLayerException ex) {
+                ex.printStackTrace();
+            }
+        return sq;
+    }
+    
+    public void clearAuthors() {
+        authorList = new ArrayList&lt;Pair&lt;Pair&lt;String,Integer&gt;,String&gt;&gt;();
+        resultRevision = new ArrayList&lt;String&gt;();        
+    }
+    
+    public void addAuthorRow() {
+        authorList.add(new Pair&lt;Pair&lt;String,Integer&gt;,String&gt;(new Pair&lt;String,Integer&gt;(&quot;&quot;,0),&quot;&quot;));
+        resultRevision.add(null);
+        logger.info(&quot;Adding a new author row&quot;);
+        setChanged();
+        notifyObservers(new Pair&lt;String,Integer&gt;(&quot;addAuthorRow&quot;,-1));
+    }
+    
+    public void removeAuthorRow(int i) {
+        authorList.remove(i);
+        resultRevision.remove(i);
+        logger.info(&quot;AddEdit: Removing author row #&quot;+i);
+        setChanged();
+        notifyObservers(new Pair&lt;String,Integer&gt;(&quot;removeAuthorRow&quot;,i));        
+    }
+    
+    public void setAuthor(int i, Pair&lt;String,Integer&gt; author) {
+        authorList.get(i).setFirst(author);
+        logger.debug(&quot;Author name in row &quot;+i+&quot; set to &quot;+author);
+    }
+    
+    public void setAuthorRole(int i, String role) {
+        authorList.get(i).setSecond(role);
+        logger.debug(&quot;Author role in row &quot;+i+&quot; set to &quot;+role);
+    }
+    
+    public void setResultRevision(int i, String revision) {
+        if (revision != null) {
+            resultRevision.set(i, revision);
+            logger.debug(&quot;AuthorOccurrence note #&quot;+i+&quot; set to &quot;+revision);
+        }
+    }
+    
+    public String getResultRevision(int i) {
+        return resultRevision.get(i);
+    }
+    
+    public void setToDate(Date d) {
+        this.toDate = d;
+        logger.debug(&quot;ToDate set to &quot;+d);
+    }
+    
+    public void setFromDate(Date d) {
+        this.fromDate = d;
+        logger.debug(&quot;FromDate set to &quot;+d);
+    }
+
+    public void setTaxons(ArrayList taxonList) {
+        //remove duplicities
+        for (int i=0 ; i &lt; taxonList.size() ; i++) {
+            for (int j=i+1 ; j &lt; taxonList.size() ; j++) {
+                if (taxonList.get(i).equals(taxonList.get(j)))
+                    taxonList.remove(j);
+            }
+        }
+        this.taxonList = taxonList;
+        for (int i = 0; i &lt; taxonList.size(); i++) {
+            logger.debug(&quot;Taxon list contains plant #&quot;+taxonList.get(i)+&quot;#&quot;);
+        }
+    }
+}
+
+

Added: trunk/src/net/sf/plantlore/client/SearchCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/SearchCtrl.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/SearchCtrl.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,335 @@
+/*
+ * AddEditCtrl.java
+ *
+ * Created on 4. duben 2006, 10:34
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package net.sf.plantlore.client;
+
+import com.toedter.calendar.JDateChooser;
+import com.toedter.calendar.JTextFieldDateEditor;
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.awt.event.FocusEvent;
+import java.awt.event.FocusListener;
+import java.awt.event.MouseAdapter;
+import java.awt.event.MouseEvent;
+import java.beans.PropertyChangeEvent;
+import java.beans.PropertyChangeListener;
+import java.rmi.RemoteException;
+import java.util.ArrayList;
+import java.util.Date;
+import javax.swing.JComboBox;
+import javax.swing.JOptionPane;
+import javax.swing.JSpinner;
+import javax.swing.JTextArea;
+import javax.swing.JTextField;
+import javax.swing.event.ChangeEvent;
+import javax.swing.event.ChangeListener;
+import net.sf.plantlore.common.AutoTextArea;
+import net.sf.plantlore.common.Pair;
+import net.sf.plantlore.common.PlantloreConstants;
+import net.sf.plantlore.common.record.AuthorOccurrence;
+import net.sf.plantlore.common.record.Habitat;
+import net.sf.plantlore.common.record.Occurrence;
+import net.sf.plantlore.middleware.DBLayer;
+import net.sf.plantlore.middleware.SelectQuery;
+
+/**
+ *
+ * @author reimei
+ */
+public class SearchCtrl {
+    private Search model;
+    private SearchView view;
+    
+    /** Creates a new instance of AddEditCtrl */
+    public SearchCtrl(Search model, SearchView view) {
+        this.model = model;
+        this.view = view;
+        
+        //------- ComboBoxes --------
+        view.townComboBox.addActionListener(new CommonActionListener());
+        view.territoryNameCombo.addActionListener(new CommonActionListener());
+        view.phytNameCombo.addActionListener(new CommonActionListener());
+        view.phytCodeCombo.addActionListener(new CommonActionListener());
+        view.phytCountryCombo.addActionListener(new CommonActionListener());
+        view.sourceCombo.addActionListener(new CommonActionListener());
+        view.publicationCombo.addActionListener(new CommonActionListener());
+        view.projectCombo.addActionListener(new CommonActionListener());
+
+        //------- TextFields --------        
+        view.herbariumTextField.addFocusListener(new HerbariumListener());
+        view.quadrantTextField.addFocusListener(new QuadrantListener());
+        view.altitudeFormattedTextField.addPropertyChangeListener(&quot;value&quot;,new AltitudeListener());
+        view.longitudeFormattedTextField.addPropertyChangeListener(&quot;value&quot;,new LongitudeListener());
+        view.latitudeFormattedTextField.addPropertyChangeListener(&quot;value&quot;,new LatitudeListener());
+        
+        //------- TextAreas --------        
+        view.taxonTextArea.addFocusListener(new TaxonAreaListener());
+        view.descriptionArea.addFocusListener(new PlaceAreaListener());
+        view.locationNoteArea.addFocusListener(new LocationAreaListener());
+        view.occurrenceNoteArea.addFocusListener(new OccurrenceAreaListener());
+               
+        //------- Buttons --------
+        view.extendedButton.addMouseListener(new ExtendedButtonListener());
+        view.okButton.addMouseListener(new OkButtonListener());
+        view.cancelButton.addMouseListener(new CancelButtonListener());
+        view.helpButton.addMouseListener(new HelpButtonListener());
+        
+        //------- Time
+        view.monthChooser.addPropertyChangeListener(&quot;month&quot;,new MonthChangeListener());
+        view.fromDateChooser.addPropertyChangeListener(new FromDateChangeListener());
+        view.toDateChooser.addPropertyChangeListener(new ToDateChangeListener());
+        view.intervalRadioButton.addActionListener(new TimeButtonListener());
+        view.monthRadioButton.addActionListener(new TimeButtonListener());
+    }
+    
+    class CommonActionListener implements ActionListener {
+        public void actionPerformed(ActionEvent e) {
+            JComboBox c = null;
+            
+            c  = (JComboBox) e.getSource();
+            
+            String command = e.getActionCommand();
+            
+            //------- ComboBoxes --------            
+//            if (command.equals(&quot;authorComboBox&quot;))
+//                model.setAuthor((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+                //! instanceof String because of comboBox default value
+            if (command.equals(&quot;townComboBox&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String)) {
+                model.setVillage((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+            }
+           
+            if (command.equals(&quot;territoryNameCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setTerritoryName((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+
+            if (command.equals(&quot;phytNameCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setPhytName((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+           
+            if (command.equals(&quot;phytCodeCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setPhytCode((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+           
+            if (command.equals(&quot;phytCountryCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setPhytCountry((String) c.getSelectedItem());
+
+            if (command.equals(&quot;sourceCombo&quot;))
+                model.setSource((String) c.getSelectedItem());
+           
+            if (command.equals(&quot;publicationCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setPublication((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+           
+            if (command.equals(&quot;projectCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setProject((Pair&lt;String, Integer&gt;) c.getSelectedItem());
+            
+            if (command.equals(&quot;monthCombo&quot;) &amp;&amp; !(c.getSelectedItem() instanceof String))
+                model.setMonth(view.monthChooser.getMonth());
+            
+        }
+        
+    }//class CommonActionListener
+        
+    class TimeButtonListener implements ActionListener {
+        public void actionPerformed(ActionEvent e) {
+            String command = e.getActionCommand();
+            if (command.equals(&quot;INTERVAL&quot;)) {
+                view.fromLabel.setEnabled(true);
+                view.fromDateChooser.setEnabled(true);
+                view.toLabel.setEnabled(true);
+                view.toDateChooser.setEnabled(true);
+                
+                view.monthLabel.setEnabled(false);
+                view.monthChooser.setEnabled(false);
+                model.setTimeChoice(Search.INTERVAL);
+            }
+            
+            if (command.equals(&quot;MONTH&quot;)) {
+                view.fromLabel.setEnabled(false);
+                view.fromDateChooser.setEnabled(false);
+                view.toLabel.setEnabled(false);
+                view.toDateChooser.setEnabled(false);
+                
+                view.monthLabel.setEnabled(true);
+                view.monthChooser.setEnabled(true);
+                model.setTimeChoice(Search.MONTH);            
+            }
+        }
+    }//CoordinateSystemListener
+
+    class MonthChangeListener implements PropertyChangeListener {
+        public void propertyChange(PropertyChangeEvent evt) {
+            model.setMonth((Integer) evt.getNewValue());
+        } 
+    }
+    
+
+    class FromDateChangeListener implements PropertyChangeListener {
+        public void propertyChange(PropertyChangeEvent evt) {
+            String prop = evt.getPropertyName();
+            if (prop.equals(&quot;date&quot;))
+                model.setFromDate((Date) evt.getNewValue());
+            
+            if (prop.equals(&quot;value&quot;)) {
+                JTextFieldDateEditor d = (JTextFieldDateEditor)evt.getSource();
+                JTextField tf = (JTextField)d.getUiComponent();
+                if (d.getText() == null || d.getText().equals(&quot;&quot;))
+                    model.setFromDate(null);
+            }
+        } 
+    }
+
+    class ToDateChangeListener implements PropertyChangeListener {
+        public void propertyChange(PropertyChangeEvent evt) {
+            String prop = evt.getPropertyName();
+            if (prop.equals(&quot;date&quot;))
+                model.setToDate((Date) evt.getNewValue());
+            
+            if (prop.equals(&quot;value&quot;)) {
+                JTextFieldDateEditor d = (JTextFieldDateEditor)evt.getSource();
+                JTextField tf = (JTextField)d.getUiComponent();
+                if (d.getText() == null || d.getText().equals(&quot;&quot;))
+                    model.setToDate(null);
+            }
+        } 
+    }
+
+    class TaxonAreaListener implements FocusListener {
+        public void focusGained(FocusEvent e) {
+        }
+
+        public void focusLost(FocusEvent e) {
+            ArrayList&lt;String&gt; taxonList = new ArrayList&lt;String&gt;();
+            AutoTextArea ta = (AutoTextArea) e.getSource();
+            int lineCount = ta.getLineCount();
+            for (int i=0; i &lt; lineCount; i++) {
+                String tmp = ta.getLine(i);
+                if (tmp.length() &gt; 1) //omit empty lines
+                    taxonList.add(tmp);
+            }
+            model.setTaxons(taxonList);
+        }
+    }//taxonAreaListener
+    
+    class PlaceAreaListener implements FocusListener {
+        public void focusGained(FocusEvent e) {
+        }
+
+        public void focusLost(FocusEvent e) {
+            JTextArea ta = (JTextArea) e.getSource();
+            model.setLocalityDescription(ta.getText());
+        }
+    }//placeAreaListener
+
+    class LocationAreaListener implements FocusListener {
+        public void focusGained(FocusEvent e) {
+        }
+
+        public void focusLost(FocusEvent e) {
+            JTextArea ta = (JTextArea) e.getSource();
+            model.setHabitatNote(ta.getText());
+        }
+    }//LocationAreaListener
+
+    class OccurrenceAreaListener implements FocusListener {
+        public void focusGained(FocusEvent e) {
+        }
+
+        public void focusLost(FocusEvent e) {
+            JTextArea ta = (JTextArea) e.getSource();
+            model.setOccurrenceNote(ta.getText());
+        }
+    }//OccurrenceAreaListener
+    
+    class HerbariumListener implements FocusListener {
+        public void focusGained(FocusEvent e) {
+        }
+
+        public void focusLost(FocusEvent e) {
+            JTextField tf = (JTextField) e.getSource();
+            model.setHerbarium(tf.getText());
+        }
+    }//HerbariumListener
+    
+    class QuadrantListener implements FocusListener {
+        public void focusGained(FocusEvent e) {
+        }
+
+        public void focusLost(FocusEvent e) {
+            JTextField tf = (JTextField) e.getSource();
+            model.setQuadrant(tf.getText());
+        }
+    }//QuadrantListener
+    
+    class MonthListener implements ChangeListener {
+        public void stateChanged(ChangeEvent e) {
+            JSpinner s = (JSpinner) e.getSource();
+            model.setMonth((Integer)s.getValue());
+        }
+    }//MonthListener
+    
+    class YearListener implements ChangeListener {
+        public void stateChanged(ChangeEvent e) {
+            JSpinner s = (JSpinner) e.getSource();
+            model.setYear((Integer)s.getValue());
+        }
+    }//YearListener
+    
+    class AltitudeListener implements PropertyChangeListener {
+        public void propertyChange(PropertyChangeEvent evt) {
+            if (evt.getNewValue() != null)
+                model.setAltitude(((Number)evt.getNewValue()).doubleValue());
+        }        
+    }//AltitudeListener
+
+    class LongitudeListener implements PropertyChangeListener {
+        public void propertyChange(PropertyChangeEvent evt) {
+            if (evt.getNewValue() != null)
+                model.setLongitude(((Number)evt.getNewValue()).doubleValue());
+        }        
+    }//LongitudeListener
+
+    class LatitudeListener implements PropertyChangeListener {
+        public void propertyChange(PropertyChangeEvent evt) {
+            if (evt.getNewValue() != null)
+                model.setLatitude(((Number)evt.getNewValue()).doubleValue());
+        }        
+    }//LatitudeListener
+
+    
+    class ExtendedButtonListener extends MouseAdapter {
+        public void mouseClicked(MouseEvent e) {
+            view.switchExtended();
+        }
+    }//ExtendedButtonListener
+    
+    class OkButtonListener extends MouseAdapter {
+        public void mouseClicked(MouseEvent e) {
+            Pair&lt;Boolean,String&gt; check = model.checkData();
+            if (!check.getFirst()) {
+                JOptionPane.showMessageDialog(view,check.getSecond());
+                return;
+            }
+            
+            System.out.println(&quot;Would create a query!&quot;);
+            model.constructQuery();
+            view.setVisible(false);
+        }
+    }//OkButtonListener
+    
+    class CancelButtonListener extends MouseAdapter {
+        public void mouseClicked(MouseEvent e) {
+            view.setVisible(false);
+        }
+    }//CancelButtonListener
+
+    class HelpButtonListener extends MouseAdapter {
+        public void mouseClicked(MouseEvent e) {
+            System.out.println(&quot;Help&quot;);
+        }
+    }//HelpButtonListener
+    
+}
+

Added: trunk/src/net/sf/plantlore/client/SearchView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/SearchView.form	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/SearchView.form	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,1169 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
+
+&lt;Form version=&quot;1.3&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
+  &lt;NonVisualComponents&gt;
+    &lt;Component class=&quot;javax.swing.ButtonGroup&quot; name=&quot;convertCoordinatesGroup&quot;&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.ButtonGroup&quot; name=&quot;timeButtonGroup&quot;&gt;
+    &lt;/Component&gt;
+  &lt;/NonVisualComponents&gt;
+  &lt;Properties&gt;
+    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
+    &lt;Property name=&quot;resizable&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
+  &lt;/Properties&gt;
+  &lt;SyntheticProperties&gt;
+    &lt;SyntheticProperty name=&quot;formSizePolicy&quot; type=&quot;int&quot; value=&quot;1&quot;/&gt;
+  &lt;/SyntheticProperties&gt;
+  &lt;AuxValues&gt;
+    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
+    &lt;AuxValue name=&quot;designerSize&quot; type=&quot;java.awt.Dimension&quot; value=&quot;-84,-19,0,5,115,114,0,18,106,97,118,97,46,97,119,116,46,68,105,109,101,110,115,105,111,110,65,-114,-39,-41,-84,95,68,20,2,0,2,73,0,6,104,101,105,103,104,116,73,0,5,119,105,100,116,104,120,112,0,0,4,20,0,0,3,85&quot;/&gt;
+  &lt;/AuxValues&gt;
+
+  &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout&quot;/&gt;
+  &lt;SubComponents&gt;
+    &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel2&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+          &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+            &lt;TitledBorder title=&quot;Basic data&quot;&gt;
+              &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+            &lt;/TitledBorder&gt;
+          &lt;/Border&gt;
+        &lt;/Property&gt;
+        &lt;Property name=&quot;preferredSize&quot; type=&quot;java.awt.Dimension&quot; editor=&quot;org.netbeans.beaninfo.editors.DimensionEditor&quot;&gt;
+          &lt;Dimension value=&quot;[700, 200]&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+      &lt;Constraints&gt;
+        &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout$BorderConstraintsDescription&quot;&gt;
+          &lt;BorderConstraints direction=&quot;North&quot;/&gt;
+        &lt;/Constraint&gt;
+      &lt;/Constraints&gt;
+
+      &lt;Layout&gt;
+        &lt;DimensionLayout dim=&quot;0&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;TaxonLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jScrollPane3&quot; alignment=&quot;0&quot; pref=&quot;322&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;322&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;85&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;TownLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jLabel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;townComboBox&quot; pref=&quot;223&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;extendedButton&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+        &lt;DimensionLayout dim=&quot;1&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;townComboBox&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;24&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;TownLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;16&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jScrollPane1&quot; min=&quot;-2&quot; pref=&quot;69&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;TaxonLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jScrollPane3&quot; min=&quot;-2&quot; pref=&quot;53&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;extendedButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;183&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+      &lt;/Layout&gt;
+      &lt;SubComponents&gt;
+        &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;TownLabel&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Nearest bigger seat:&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;townComboBox&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+              &lt;StringArray count=&quot;0&quot;/&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getVillages());&quot;/&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodePre&quot; type=&quot;java.lang.String&quot; value=&quot;//items = new Object[] {&quot;Praha&quot;, &quot;Brno&quot;, &quot;Turnov&quot;, &quot;Trebic&quot;};&quot;/&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)townComboBox).setStrict(true);&amp;#xa;townComboBox.setActionCommand(&quot;townComboBox&quot;);&quot;/&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;TaxonLabel&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Taxon:&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel2&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Place description:&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane2&quot;&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;descriptionArea&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
+                &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;descriptionArea.setLineWrap(true);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane3&quot;&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;taxonTextArea&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
+                &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+                &lt;Property name=&quot;autoscrolls&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoTextArea(choices, this);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodePre&quot; type=&quot;java.lang.String&quot; value=&quot;Pair&lt;String, Integer&gt;[] plants = model.getPlants();&amp;#xa;String[] choices = new String[plants.length];&amp;#xa;for (int i = 0; i &lt; plants.length; i++) &amp;#xa;    choices[i] = plants[i].getFirst();&amp;#xa;&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Component class=&quot;javax.swing.JToggleButton&quot; name=&quot;extendedButton&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Extended&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;Events&gt;
+            &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;extendedButtonActionPerformed&quot;/&gt;
+            &lt;EventHandler event=&quot;mouseClicked&quot; listener=&quot;java.awt.event.MouseListener&quot; parameters=&quot;java.awt.event.MouseEvent&quot; handler=&quot;extendedButtonMouseClicked&quot;/&gt;
+          &lt;/Events&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane1&quot;&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JTable&quot; name=&quot;authorTable&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.table.TableModel&quot; editor=&quot;org.netbeans.modules.form.editors2.TableModelEditor&quot;&gt;
+                  &lt;Table columnCount=&quot;4&quot; rowCount=&quot;4&quot;&gt;
+                    &lt;Column editable=&quot;true&quot; title=&quot;Title 1&quot; type=&quot;java.lang.Object&quot;/&gt;
+                    &lt;Column editable=&quot;true&quot; title=&quot;Title 2&quot; type=&quot;java.lang.Object&quot;/&gt;
+                    &lt;Column editable=&quot;true&quot; title=&quot;Title 3&quot; type=&quot;java.lang.Object&quot;/&gt;
+                    &lt;Column editable=&quot;true&quot; title=&quot;Title 4&quot; type=&quot;java.lang.Object&quot;/&gt;
+                  &lt;/Table&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+    &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel3&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+          &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+            &lt;TitledBorder title=&quot;Extended data&quot;&gt;
+              &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+            &lt;/TitledBorder&gt;
+          &lt;/Border&gt;
+        &lt;/Property&gt;
+        &lt;Property name=&quot;minimumSize&quot; type=&quot;java.awt.Dimension&quot; editor=&quot;org.netbeans.beaninfo.editors.DimensionEditor&quot;&gt;
+          &lt;Dimension value=&quot;[800, 395]&quot;/&gt;
+        &lt;/Property&gt;
+        &lt;Property name=&quot;preferredSize&quot; type=&quot;java.awt.Dimension&quot; editor=&quot;org.netbeans.beaninfo.editors.DimensionEditor&quot;&gt;
+          &lt;Dimension value=&quot;[800, 395]&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;Constraints&gt;
+        &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout$BorderConstraintsDescription&quot;&gt;
+          &lt;BorderConstraints direction=&quot;Center&quot;/&gt;
+        &lt;/Constraint&gt;
+      &lt;/Constraints&gt;
+
+      &lt;Layout&gt;
+        &lt;DimensionLayout dim=&quot;0&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;12&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jPanel4&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;390&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;jPanel1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jPanel6&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;Component id=&quot;jPanel5&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jPanel7&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;jPanel9&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+        &lt;DimensionLayout dim=&quot;1&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jPanel7&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Component id=&quot;jPanel5&quot; alignment=&quot;1&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jPanel6&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;jPanel1&quot; alignment=&quot;1&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jPanel9&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;10&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jPanel4&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;358&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+      &lt;/Layout&gt;
+      &lt;SubComponents&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel4&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;Time&quot;&gt;
+                  &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;monthRadioButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;monthLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;intervalRadioButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;fromLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;fromDateChooser&quot; linkSize=&quot;16&quot; min=&quot;-2&quot; pref=&quot;97&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;35&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;toLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;toDateChooser&quot; linkSize=&quot;16&quot; min=&quot;-2&quot; pref=&quot;91&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;monthChooser&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;781&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;toDateChooser&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Component id=&quot;toLabel&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;intervalRadioButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;fromLabel&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;fromDateChooser&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;monthRadioButton&quot; min=&quot;-2&quot; pref=&quot;15&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;monthChooser&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;monthLabel&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;com.toedter.calendar.JDateChooser&quot; name=&quot;fromDateChooser&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;com.toedter.calendar.JDateChooser&quot; name=&quot;toDateChooser&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;fromLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;From:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;toLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;To:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;com.toedter.calendar.JMonthChooser&quot; name=&quot;monthChooser&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((JComboBox)monthChooser.getComboBox()).addItem(&quot;&quot;);&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;monthLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Month:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;intervalRadioButton&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;buttonGroup&quot; type=&quot;javax.swing.ButtonGroup&quot; editor=&quot;org.netbeans.modules.form.RADComponent$ButtonGroupPropertyEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;timeButtonGroup&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+                  &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
+                    &lt;EmptyBorder bottom=&quot;0&quot; left=&quot;0&quot; right=&quot;0&quot; top=&quot;0&quot;/&gt;
+                  &lt;/Border&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;margin&quot; type=&quot;java.awt.Insets&quot; editor=&quot;org.netbeans.beaninfo.editors.InsetsEditor&quot;&gt;
+                  &lt;Insets value=&quot;[0, 0, 0, 0]&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;intervalRadioButton.setActionCommand(&quot;INTERVAL&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;monthRadioButton&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;buttonGroup&quot; type=&quot;javax.swing.ButtonGroup&quot; editor=&quot;org.netbeans.modules.form.RADComponent$ButtonGroupPropertyEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;timeButtonGroup&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+                  &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
+                    &lt;EmptyBorder bottom=&quot;0&quot; left=&quot;0&quot; right=&quot;0&quot; top=&quot;0&quot;/&gt;
+                  &lt;/Border&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;margin&quot; type=&quot;java.awt.Insets&quot; editor=&quot;org.netbeans.beaninfo.editors.InsetsEditor&quot;&gt;
+                  &lt;Insets value=&quot;[0, 0, 0, 0]&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;monthRadioButton.setActionCommand(&quot;MONTH&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel5&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;Location&quot;&gt;
+                  &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;jLabel10&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jLabel13&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;phytCountryCombo&quot; pref=&quot;173&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                                  &lt;Component id=&quot;phytNameCombo&quot; alignment=&quot;0&quot; pref=&quot;173&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;/Group&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;1&quot;&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;19&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jLabel11&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;territoryNameCombo&quot; pref=&quot;173&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel9&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel14&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;quadrantTextField&quot; linkSize=&quot;10&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Component id=&quot;phytCodeCombo&quot; linkSize=&quot;10&quot; alignment=&quot;0&quot; pref=&quot;90&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel11&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;territoryNameCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;103&quot; alignment=&quot;0&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel13&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;phytNameCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel14&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;phytCodeCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel10&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;phytCountryCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel9&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;quadrantTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel9&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Quadrant:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel10&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Country:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel11&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Territory name:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel13&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Phytochoria name:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel14&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Phytochoria code:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;territoryNameCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getTerritories()); &quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)territoryNameCombo).setStrict(true);&amp;#xa;territoryNameCombo.setActionCommand(&quot;territoryNameCombo&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;phytNameCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getPhytNames()); &quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)phytNameCombo).setStrict(true);&amp;#xa;phytNameCombo.setActionCommand(&quot;phytNameCombo&quot;);&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;phytCodeCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getPhytCodes()); &quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)phytCodeCombo).setStrict(true);&amp;#xa;phytCodeCombo.setActionCommand(&quot;phytCodeCombo&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;phytCountryCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getCountries()); &quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)phytCountryCombo).setStrict(false);&amp;#xa;phytCountryCombo.setActionCommand(&quot;phytCountryCombo&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;quadrantTextField&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;quadrantTextField.setActionCommand(&quot;quadrantTextField&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel6&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;Other&quot;&gt;
+                  &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;projectLabel&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;herbariumLabel&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;publicationLabel&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;sourceLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;projectCombo&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Component id=&quot;publicationCombo&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Component id=&quot;herbariumTextField&quot; alignment=&quot;0&quot; pref=&quot;113&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Component id=&quot;sourceCombo&quot; alignment=&quot;0&quot; pref=&quot;171&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;sourceLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;sourceCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace pref=&quot;12&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;publicationLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;publicationCombo&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;herbariumLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;herbariumTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;projectLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;projectCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;publicationLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Publication:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;herbariumLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Herbarium:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;projectLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Project:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;herbariumTextField&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;herbariumTextField.setActionCommand(&quot;herbariumTextField&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;sourceLabel&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Source:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;sourceCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getSources()); &quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)sourceCombo).setStrict(false);&amp;#xa;sourceCombo.setActionCommand(&quot;sourceCombo&quot;);&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;publicationCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getPublications());&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)publicationCombo).setStrict(true);&amp;#xa;publicationCombo.setActionCommand(&quot;publicationCombo&quot;);&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;projectCombo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;0&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new AutoComboBox(model.getProjects());&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;((AutoComboBox)projectCombo).setStrict(true);&amp;#xa;projectCombo.setActionCommand(&quot;projectCombo&quot;);&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel7&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;Location note&quot;&gt;
+                  &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane4&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;96&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane4&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+              &lt;/AuxValues&gt;
+
+              &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+              &lt;SubComponents&gt;
+                &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;locationNoteArea&quot;&gt;
+                  &lt;Properties&gt;
+                    &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
+                    &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+                  &lt;/Properties&gt;
+                  &lt;AuxValues&gt;
+                    &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;locationNoteArea.setLineWrap(true);&quot;/&gt;
+                    &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+                  &lt;/AuxValues&gt;
+                &lt;/Component&gt;
+              &lt;/SubComponents&gt;
+            &lt;/Container&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel1&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;GPS&quot;&gt;
+                  &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;10&quot; style=&quot;0&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;103&quot; alignment=&quot;1&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel6&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jLabel7&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Component id=&quot;jLabel8&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;longitudeFormattedTextField&quot; alignment=&quot;1&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Component id=&quot;latitudeFormattedTextField&quot; alignment=&quot;1&quot; min=&quot;0&quot; pref=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Component id=&quot;altitudeFormattedTextField&quot; alignment=&quot;1&quot; min=&quot;-2&quot; pref=&quot;63&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;S42Button&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;WGS84Button&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;SJTSKButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;altitudeFormattedTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jLabel6&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;EmptySpace min=&quot;6&quot; pref=&quot;6&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;latitudeFormattedTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jLabel7&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;longitudeFormattedTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jLabel8&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;WGS84Button&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace min=&quot;6&quot; pref=&quot;6&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;S42Button&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;SJTSKButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace pref=&quot;48&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel6&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Altitude:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JFormattedTextField&quot; name=&quot;altitudeFormattedTextField&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;nextFocusableComponent&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;latitudeFormattedTextField&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new JFormattedTextField(nf);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodePre&quot; type=&quot;java.lang.String&quot; value=&quot;NumberFormat nf = NumberFormat.getNumberInstance(L10n.getCurrentLocale());&amp;#xa;nf.setMaximumFractionDigits(3);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;altitudeFormattedTextField.setActionCommand(&quot;altitudeFormattedTextField&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JFormattedTextField&quot; name=&quot;latitudeFormattedTextField&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;nextFocusableComponent&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;longitudeFormattedTextField&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new JFormattedTextField(nf);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;latitudeFormattedTextField.setActionCommand(&quot;latitudeFormattedTextField&quot;);&amp;#xa;&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel7&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Latitude:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel8&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Longitude:&quot;/&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JFormattedTextField&quot; name=&quot;longitudeFormattedTextField&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;nextFocusableComponent&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;WGS84Button&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new JFormattedTextField(nf);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;longitudeFormattedTextField.setActionCommand(&quot;longitudeFormattedTextField&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;WGS84Button&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;buttonGroup&quot; type=&quot;javax.swing.ButtonGroup&quot; editor=&quot;org.netbeans.modules.form.RADComponent$ButtonGroupPropertyEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;convertCoordinatesGroup&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;WGS84&quot;/&gt;
+                &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+                  &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
+                    &lt;EmptyBorder bottom=&quot;0&quot; left=&quot;0&quot; right=&quot;0&quot; top=&quot;0&quot;/&gt;
+                  &lt;/Border&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;margin&quot; type=&quot;java.awt.Insets&quot; editor=&quot;org.netbeans.beaninfo.editors.InsetsEditor&quot;&gt;
+                  &lt;Insets value=&quot;[0, 0, 0, 0]&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;nextFocusableComponent&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;S42Button&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;Events&gt;
+                &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;WGS84ButtonActionPerformed&quot;/&gt;
+              &lt;/Events&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;WGS84Button.setActionCommand(&quot;WGS84&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;S42Button&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;buttonGroup&quot; type=&quot;javax.swing.ButtonGroup&quot; editor=&quot;org.netbeans.modules.form.RADComponent$ButtonGroupPropertyEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;convertCoordinatesGroup&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;S-42&quot;/&gt;
+                &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+                  &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
+                    &lt;EmptyBorder bottom=&quot;0&quot; left=&quot;0&quot; right=&quot;0&quot; top=&quot;0&quot;/&gt;
+                  &lt;/Border&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;margin&quot; type=&quot;java.awt.Insets&quot; editor=&quot;org.netbeans.beaninfo.editors.InsetsEditor&quot;&gt;
+                  &lt;Insets value=&quot;[0, 0, 0, 0]&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;nextFocusableComponent&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;SJTSKButton&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;S42Button.setActionCommand(&quot;S42&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;SJTSKButton&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;buttonGroup&quot; type=&quot;javax.swing.ButtonGroup&quot; editor=&quot;org.netbeans.modules.form.RADComponent$ButtonGroupPropertyEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;convertCoordinatesGroup&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;S-JTSK&quot;/&gt;
+                &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+                  &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
+                    &lt;EmptyBorder bottom=&quot;0&quot; left=&quot;0&quot; right=&quot;0&quot; top=&quot;0&quot;/&gt;
+                  &lt;/Border&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;margin&quot; type=&quot;java.awt.Insets&quot; editor=&quot;org.netbeans.beaninfo.editors.InsetsEditor&quot;&gt;
+                  &lt;Insets value=&quot;[0, 0, 0, 0]&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;nextFocusableComponent&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
+                  &lt;ComponentRef name=&quot;sourceCombo&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;SJTSKButton.setActionCommand(&quot;SJTSK&quot;);&quot;/&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel9&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;Ocurrence note&quot;&gt;
+                  &lt;Font PropertyName=&quot;font&quot; name=&quot;Dialog&quot; size=&quot;12&quot; style=&quot;0&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane5&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jScrollPane5&quot; pref=&quot;105&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane5&quot;&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+              &lt;/AuxValues&gt;
+
+              &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+              &lt;SubComponents&gt;
+                &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;occurrenceNoteArea&quot;&gt;
+                  &lt;Properties&gt;
+                    &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
+                    &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+                  &lt;/Properties&gt;
+                  &lt;AuxValues&gt;
+                    &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;occurrenceNoteArea.setLineWrap(true);&quot;/&gt;
+                    &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+                  &lt;/AuxValues&gt;
+                &lt;/Component&gt;
+              &lt;/SubComponents&gt;
+            &lt;/Container&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+    &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel8&quot;&gt;
+      &lt;Constraints&gt;
+        &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout$BorderConstraintsDescription&quot;&gt;
+          &lt;BorderConstraints direction=&quot;South&quot;/&gt;
+        &lt;/Constraint&gt;
+      &lt;/Constraints&gt;
+
+      &lt;Layout&gt;
+        &lt;DimensionLayout dim=&quot;0&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;helpButton&quot; linkSize=&quot;12&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace pref=&quot;598&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;okButton&quot; linkSize=&quot;12&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;cancelButton&quot; linkSize=&quot;12&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+        &lt;DimensionLayout dim=&quot;1&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;helpButton&quot; linkSize=&quot;13&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;cancelButton&quot; linkSize=&quot;13&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;okButton&quot; linkSize=&quot;13&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;EmptySpace pref=&quot;40&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+      &lt;/Layout&gt;
+      &lt;SubComponents&gt;
+        &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;cancelButton&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Cancel&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;okButton&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Ok&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+        &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;helpButton&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Help&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;Events&gt;
+            &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;helpButtonActionPerformed&quot;/&gt;
+          &lt;/Events&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+          &lt;/AuxValues&gt;
+        &lt;/Component&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+  &lt;/SubComponents&gt;
+&lt;/Form&gt;

Added: trunk/src/net/sf/plantlore/client/SearchView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/SearchView.java	2006-05-10 13:56:19 UTC (rev 255)
+++ trunk/src/net/sf/plantlore/client/SearchView.java	2006-05-11 09:37:00 UTC (rev 256)
@@ -0,0 +1,850 @@
+/*
+ * AddEdit2.java
+ *
+ * Created on 23. b&#345;ezen 2006, 23:16
+ */
+
+package net.sf.plantlore.client;
+
+import java.awt.Dimension;
+import java.text.DateFormat;
+import java.text.NumberFormat;
+import java.util.Calendar;
+import java.util.Date;
+import java.util.Observable;
+import java.util.Observer;
+import javax.swing.DefaultCellEditor;
+import javax.swing.JComboBox;
+import javax.swing.JDialog;
+import javax.swing.JFormattedTextField;
+import javax.swing.SpinnerNumberModel;
+import javax.swing.table.TableColumn;
+import net.sf.plantlore.common.AutoComboBox;
+import net.sf.plantlore.common.AutoTextArea;
+import net.sf.plantlore.common.Pair;
+import net.sf.plantlore.l10n.L10n;
+
+/**
+ *
+ * @author  reimei
+ */
+public class SearchView extends javax.swing.JDialog implements Observer {
+    private static final int DIALOG_WIDTH = 930;
+    private boolean visible=false;
+    private Search model;
+    protected AuthorTableModelSearch tableModel;
+    
+    /** Creates new form AddEdit2 */
+    public SearchView(java.awt.Frame parent, boolean modal, Search model) {
+        super(parent, modal);
+        this.model = model;
+        model.addObserver(this);
+        setDefaultCloseOperation(JDialog.HIDE_ON_CLOSE);
+        initComponents();
+        jPanel3.setVisible(visible);
+        jPanel2.setPreferredSize(new Dimension(DIALOG_WIDTH,190));
+        jPanel8.setPreferredSize(new Dimension(DIALOG_WIDTH,50));
+        this.pack();        
+    }
+    
+    /** This method is called from within the constructor to
+     * initialize the form.
+     * WARNING: Do NOT modify this code. The content of this method is
+     * always regenerated by the Form Editor.
+     */
+    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Generated Code &quot;&gt;//GEN-BEGIN:initComponents
+    private void initComponents() {
+        convertCoordinatesGroup = new javax.swing.ButtonGroup();
+        timeButtonGroup = new javax.swing.ButtonGroup();
+        jPanel2 = new javax.swing.JPanel();
+        TownLabel = new javax.swing.JLabel();
+        //items = new Object[] {&quot;Praha&quot;, &quot;Brno&quot;, &quot;Turnov&quot;, &quot;Trebic&quot;};
+        townComboBox = new AutoComboBox(model.getVillages());
+        TaxonLabel = new javax.swing.JLabel();
+        jLabel2 = new javax.swing.JLabel();
+        jScrollPane2 = new javax.swing.JScrollPane();
+        descriptionArea = new javax.swing.JTextArea();
+        jScrollPane3 = new javax.swing.JScrollPane();
+        Pair&lt;String, Integer&gt;[] plants = model.getPlants();
+        String[] choices = new String[plants.length];
+        for (int i = 0; i &lt; plants.length; i++)
+        choices[i] = plants[i].getFirst();
+
+        taxonTextArea = new AutoTextArea(choices, this);
+        extendedButton = new javax.swing.JToggleButton();
+        jScrollPane1 = new javax.swing.JScrollPane();
+        authorTable = new javax.swing.JTable();
+        jPanel3 = new javax.swing.JPanel();
+        jPanel4 = new javax.swing.JPanel();
+        fromDateChooser = new com.toedter.calendar.JDateChooser();
+        toDateChooser = new com.toedter.calendar.JDateChooser();
+        fromLabel = new javax.swing.JLabel();
+        toLabel = new javax.swing.JLabel();
+        monthChooser = new com.toedter.calendar.JMonthChooser();
+        monthLabel = new javax.swing.JLabel();
+        intervalRadioButton = new javax.swing.JRadioButton();
+        monthRadioButton = new javax.swing.JRadioButton();
+        jPanel5 = new javax.swing.JPanel();
+        jLabel9 = new javax.swing.JLabel();
+        jLabel10 = new javax.swing.JLabel();
+        jLabel11 = new javax.swing.JLabel();
+        jLabel13 = new javax.swing.JLabel();
+        jLabel14 = new javax.swing.JLabel();
+        territoryNameCombo = new AutoComboBox(model.getTerritories());
+        phytNameCombo = new AutoComboBox(model.getPhytNames());
+        phytCodeCombo = new AutoComboBox(model.getPhytCodes());
+        phytCountryCombo = new AutoComboBox(model.getCountries());
+        quadrantTextField = new javax.swing.JTextField();
+        jPanel6 = new javax.swing.JPanel();
+        publicationLabel = new javax.swing.JLabel();
+        herbariumLabel = new javax.swing.JLabel();
+        projectLabel = new javax.swing.JLabel();
+        herbariumTextField = new javax.swing.JTextField();
+        sourceLabel = new javax.swing.JLabel();
+        sourceCombo = new AutoComboBox(model.getSources());
+        publicationCombo = new AutoComboBox(model.getPublications());
+        projectCombo = new AutoComboBox(model.getProjects());
+        jPanel7 = new javax.swing.JPanel();
+        jScrollPane4 = new javax.swing.JScrollPane();
+        locationNoteArea = new javax.swing.JTextArea();
+        jPanel1 = new javax.swing.JPanel();
+        jLabel6 = new javax.swing.JLabel();
+        NumberFormat nf = NumberFormat.getNumberInstance(L10n.getCurrentLocale());
+        nf.setMaximumFractionDigits(3);
+        altitudeFormattedTextField = new JFormattedTextField(nf);
+        latitudeFormattedTextField = new JFormattedTextField(nf);
+        jLabel7 = new javax.swing.JLabel();
+        jLabel8 = new javax.swing.JLabel();
+        longitudeFormattedTextField = new JFormattedTextField(nf);
+        WGS84Button = new javax.swing.JRadioButton();
+        S42Button = new javax.swing.JRadioButton();
+        SJTSKButton = new javax.swing.JRadioButton();
+        jPanel9 = new javax.swing.JPanel();
+        jScrollPane5 = new javax.swing.JScrollPane();
+        occurrenceNoteArea = new javax.swing.JTextArea();
+        jPanel8 = new javax.swing.JPanel();
+        cancelButton = new javax.swing.JButton();
+        okButton = new javax.swing.JButton();
+        helpButton = new javax.swing.JButton();
+
+        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
+        setResizable(false);
+        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Basic data&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+        jPanel2.setPreferredSize(new java.awt.Dimension(700, 200));
+        TownLabel.setText(&quot;Nearest bigger seat:&quot;);
+
+        ((AutoComboBox)townComboBox).setStrict(true);
+        townComboBox.setActionCommand(&quot;townComboBox&quot;);
+
+        TaxonLabel.setText(&quot;Taxon:&quot;);
+
+        jLabel2.setText(&quot;Place description:&quot;);
+
+        descriptionArea.setColumns(20);
+        descriptionArea.setRows(5);
+        descriptionArea.setLineWrap(true);
+        jScrollPane2.setViewportView(descriptionArea);
+
+        taxonTextArea.setColumns(20);
+        taxonTextArea.setRows(5);
+        taxonTextArea.setAutoscrolls(false);
+        jScrollPane3.setViewportView(taxonTextArea);
+
+        extendedButton.setText(&quot;Extended&quot;);
+        extendedButton.addActionListener(new java.awt.event.ActionListener() {
+            public void actionPerformed(java.awt.event.ActionEvent evt) {
+                extendedButtonActionPerformed(evt);
+            }
+        });
+        extendedButton.addMouseListener(new java.awt.event.MouseAdapter() {
+            public void mouseClicked(java.awt.event.MouseEvent evt) {
+                extendedButtonMouseClicked(evt);
+            }
+        });
+
+        authorTable.setModel(new javax.swing.table.DefaultTableModel(
+            new Object [][] {
+                {null, null, null, null},
+                {null, null, null, null},
+                {null, null, null, null},
+                {null, null, null, null}
+            },
+            new String [] {
+                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;
+            }
+        ));
+        jScrollPane1.setViewportView(authorTable);
+
+        org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
+        jPanel2.setLayout(jPanel2Layout);
+        jPanel2Layout.setHorizontalGroup(
+            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel2Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(TaxonLabel)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jScrollPane3, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 322, Short.MAX_VALUE)
+                    .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 322, Short.MAX_VALUE))
+                .add(85, 85, 85)
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(TownLabel)
+                    .add(jLabel2))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(townComboBox, 0, 223, Short.MAX_VALUE)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel2Layout.createSequentialGroup()
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(extendedButton)
+                            .add(jScrollPane2))))
+                .addContainerGap())
+        );
+        jPanel2Layout.setVerticalGroup(
+            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel2Layout.createSequentialGroup()
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel2Layout.createSequentialGroup()
+                        .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                            .add(townComboBox, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 24, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                            .add(TownLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 16, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(jLabel2)
+                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
+                    .add(jPanel2Layout.createSequentialGroup()
+                        .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 69, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(TaxonLabel)
+                            .add(jScrollPane3, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 53, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(extendedButton)))
+                .add(183, 183, 183))
+        );
+        getContentPane().add(jPanel2, java.awt.BorderLayout.NORTH);
+
+        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Extended data&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+        jPanel3.setMinimumSize(new java.awt.Dimension(800, 395));
+        jPanel3.setPreferredSize(new java.awt.Dimension(800, 395));
+        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Time&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+
+        fromLabel.setText(&quot;From:&quot;);
+
+        toLabel.setText(&quot;To:&quot;);
+
+        ((JComboBox)monthChooser.getComboBox()).addItem(&quot;&quot;);
+
+        monthLabel.setText(&quot;Month:&quot;);
+
+        timeButtonGroup.add(intervalRadioButton);
+        intervalRadioButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
+        intervalRadioButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
+        intervalRadioButton.setActionCommand(&quot;INTERVAL&quot;);
+
+        timeButtonGroup.add(monthRadioButton);
+        monthRadioButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
+        monthRadioButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
+        monthRadioButton.setActionCommand(&quot;MONTH&quot;);
+
+        org.jdesktop.layout.GroupLayout jPanel4Layout = new org.jdesktop.layout.GroupLayout(jPanel4);
+        jPanel4.setLayout(jPanel4Layout);
+        jPanel4Layout.setHorizontalGroup(
+            jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel4Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel4Layout.createSequentialGroup()
+                        .add(monthRadioButton)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(monthLabel))
+                    .add(jPanel4Layout.createSequentialGroup()
+                        .add(intervalRadioButton)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(fromLabel)))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel4Layout.createSequentialGroup()
+                        .add(fromDateChooser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 97, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                        .add(35, 35, 35)
+                        .add(toLabel)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(toDateChooser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 91, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                        .addContainerGap())
+                    .add(jPanel4Layout.createSequentialGroup()
+                        .add(monthChooser, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                        .add(781, 781, 781))))
+        );
+
+        jPanel4Layout.linkSize(new java.awt.Component[] {fromDateChooser, toDateChooser}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
+        jPanel4Layout.setVerticalGroup(
+            jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel4Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(toDateChooser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(toLabel)
+                    .add(intervalRadioButton)
+                    .add(fromLabel)
+                    .add(fromDateChooser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(monthRadioButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 15, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(monthChooser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(monthLabel))
+                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+        );
+
+        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Location&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+        jLabel9.setText(&quot;Quadrant:&quot;);
+
+        jLabel10.setText(&quot;Country:&quot;);
+
+        jLabel11.setText(&quot;Territory name:&quot;);
+
+        jLabel13.setText(&quot;Phytochoria name:&quot;);
+
+        jLabel14.setText(&quot;Phytochoria code:&quot;);
+
+        ((AutoComboBox)territoryNameCombo).setStrict(true);
+        territoryNameCombo.setActionCommand(&quot;territoryNameCombo&quot;);
+
+        ((AutoComboBox)phytNameCombo).setStrict(true);
+        phytNameCombo.setActionCommand(&quot;phytNameCombo&quot;);
+
+        ((AutoComboBox)phytCodeCombo).setStrict(true);
+        phytCodeCombo.setActionCommand(&quot;phytCodeCombo&quot;);
+
+        ((AutoComboBox)phytCountryCombo).setStrict(false);
+        phytCountryCombo.setActionCommand(&quot;phytCountryCombo&quot;);
+
+        quadrantTextField.setActionCommand(&quot;quadrantTextField&quot;);
+
+        org.jdesktop.layout.GroupLayout jPanel5Layout = new org.jdesktop.layout.GroupLayout(jPanel5);
+        jPanel5.setLayout(jPanel5Layout);
+        jPanel5Layout.setHorizontalGroup(
+            jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel5Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel5Layout.createSequentialGroup()
+                        .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                            .add(jLabel10)
+                            .add(jLabel13))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(phytCountryCombo, 0, 173, Short.MAX_VALUE)
+                            .add(phytNameCombo, 0, 173, Short.MAX_VALUE)))
+                    .add(jPanel5Layout.createSequentialGroup()
+                        .add(19, 19, 19)
+                        .add(jLabel11)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(territoryNameCombo, 0, 173, Short.MAX_VALUE)))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel9)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel14))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel5Layout.createSequentialGroup()
+                        .add(quadrantTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                        .addContainerGap())
+                    .add(phytCodeCombo, 0, 90, Short.MAX_VALUE)))
+        );
+
+        jPanel5Layout.linkSize(new java.awt.Component[] {phytCodeCombo, quadrantTextField}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
+        jPanel5Layout.setVerticalGroup(
+            jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel5Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel11)
+                    .add(territoryNameCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                        .add(jLabel13)
+                        .add(phytNameCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                    .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                        .add(jLabel14)
+                        .add(phytCodeCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel10)
+                    .add(phytCountryCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(jLabel9)
+                    .add(quadrantTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+        );
+
+        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Other&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+        publicationLabel.setText(&quot;Publication:&quot;);
+
+        herbariumLabel.setText(&quot;Herbarium:&quot;);
+
+        projectLabel.setText(&quot;Project:&quot;);
+
+        herbariumTextField.setActionCommand(&quot;herbariumTextField&quot;);
+
+        sourceLabel.setText(&quot;Source:&quot;);
+
+        ((AutoComboBox)sourceCombo).setStrict(false);
+        sourceCombo.setActionCommand(&quot;sourceCombo&quot;);
+
+        ((AutoComboBox)publicationCombo).setStrict(true);
+        publicationCombo.setActionCommand(&quot;publicationCombo&quot;);
+
+        ((AutoComboBox)projectCombo).setStrict(true);
+        projectCombo.setActionCommand(&quot;projectCombo&quot;);
+
+        org.jdesktop.layout.GroupLayout jPanel6Layout = new org.jdesktop.layout.GroupLayout(jPanel6);
+        jPanel6.setLayout(jPanel6Layout);
+        jPanel6Layout.setHorizontalGroup(
+            jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel6Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(projectLabel)
+                    .add(herbariumLabel)
+                    .add(publicationLabel)
+                    .add(sourceLabel))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
+                    .add(projectCombo, 0, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                    .add(publicationCombo, 0, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                    .add(herbariumTextField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 113, Short.MAX_VALUE)
+                    .add(sourceCombo, 0, 171, Short.MAX_VALUE))
+                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+        );
+        jPanel6Layout.setVerticalGroup(
+            jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel6Layout.createSequentialGroup()
+                .add(jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(sourceLabel)
+                    .add(sourceCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 12, Short.MAX_VALUE)
+                .add(jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(publicationLabel)
+                    .add(publicationCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(herbariumLabel)
+                    .add(herbariumTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel6Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(projectLabel)
+                    .add(projectCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addContainerGap())
+        );
+
+        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Location note&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+        locationNoteArea.setColumns(20);
+        locationNoteArea.setRows(5);
+        locationNoteArea.setLineWrap(true);
+        jScrollPane4.setViewportView(locationNoteArea);
+
+        org.jdesktop.layout.GroupLayout jPanel7Layout = new org.jdesktop.layout.GroupLayout(jPanel7);
+        jPanel7.setLayout(jPanel7Layout);
+        jPanel7Layout.setHorizontalGroup(
+            jPanel7Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel7Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jScrollPane4)
+                .addContainerGap())
+        );
+        jPanel7Layout.setVerticalGroup(
+            jPanel7Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel7Layout.createSequentialGroup()
+                .add(jScrollPane4, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 96, Short.MAX_VALUE)
+                .addContainerGap())
+        );
+
+        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;GPS&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 10)));
+        jLabel6.setText(&quot;Altitude:&quot;);
+
+        altitudeFormattedTextField.setNextFocusableComponent(latitudeFormattedTextField);
+        altitudeFormattedTextField.setActionCommand(&quot;altitudeFormattedTextField&quot;);
+
+        latitudeFormattedTextField.setNextFocusableComponent(longitudeFormattedTextField);
+        latitudeFormattedTextField.setActionCommand(&quot;latitudeFormattedTextField&quot;);
+
+        jLabel7.setText(&quot;Latitude:&quot;);
+
+        jLabel8.setText(&quot;Longitude:&quot;);
+
+        longitudeFormattedTextField.setNextFocusableComponent(WGS84Button);
+        longitudeFormattedTextField.setActionCommand(&quot;longitudeFormattedTextField&quot;);
+
+        convertCoordinatesGroup.add(WGS84Button);
+        WGS84Button.setText(&quot;WGS84&quot;);
+        WGS84Button.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
+        WGS84Button.setMargin(new java.awt.Insets(0, 0, 0, 0));
+        WGS84Button.setNextFocusableComponent(S42Button);
+        WGS84Button.setActionCommand(&quot;WGS84&quot;);
+        WGS84Button.addActionListener(new java.awt.event.ActionListener() {
+            public void actionPerformed(java.awt.event.ActionEvent evt) {
+                WGS84ButtonActionPerformed(evt);
+            }
+        });
+
+        convertCoordinatesGroup.add(S42Button);
+        S42Button.setText(&quot;S-42&quot;);
+        S42Button.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
+        S42Button.setMargin(new java.awt.Insets(0, 0, 0, 0));
+        S42Button.setNextFocusableComponent(SJTSKButton);
+        S42Button.setActionCommand(&quot;S42&quot;);
+
+        convertCoordinatesGroup.add(SJTSKButton);
+        SJTSKButton.setText(&quot;S-JTSK&quot;);
+        SJTSKButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
+        SJTSKButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
+        SJTSKButton.setNextFocusableComponent(sourceCombo);
+        SJTSKButton.setActionCommand(&quot;SJTSK&quot;);
+
+        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
+        jPanel1.setLayout(jPanel1Layout);
+        jPanel1Layout.setHorizontalGroup(
+            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel1Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                        .add(jLabel6)
+                        .add(jLabel7))
+                    .add(jLabel8))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
+                    .add(longitudeFormattedTextField)
+                    .add(latitudeFormattedTextField, 0, 0, Short.MAX_VALUE)
+                    .add(altitudeFormattedTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 63, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .add(25, 25, 25)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(S42Button)
+                    .add(WGS84Button)
+                    .add(SJTSKButton))
+                .addContainerGap())
+        );
+        jPanel1Layout.setVerticalGroup(
+            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel1Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel1Layout.createSequentialGroup()
+                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                            .add(altitudeFormattedTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                            .add(jLabel6))
+                        .add(6, 6, 6)
+                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                            .add(latitudeFormattedTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                            .add(jLabel7))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                            .add(longitudeFormattedTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                            .add(jLabel8)))
+                    .add(jPanel1Layout.createSequentialGroup()
+                        .add(WGS84Button)
+                        .add(6, 6, 6)
+                        .add(S42Button)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(SJTSKButton)))
+                .addContainerGap(48, Short.MAX_VALUE))
+        );
+
+        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(null, &quot;Ocurrence note&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Dialog&quot;, 0, 12)));
+        occurrenceNoteArea.setColumns(20);
+        occurrenceNoteArea.setRows(5);
+        occurrenceNoteArea.setLineWrap(true);
+        jScrollPane5.setViewportView(occurrenceNoteArea);
+
+        org.jdesktop.layout.GroupLayout jPanel9Layout = new org.jdesktop.layout.GroupLayout(jPanel9);
+        jPanel9.setLayout(jPanel9Layout);
+        jPanel9Layout.setHorizontalGroup(
+            jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel9Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jScrollPane5)
+                .addContainerGap())
+        );
+        jPanel9Layout.setVerticalGroup(
+            jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel9Layout.createSequentialGroup()
+                .add(jScrollPane5, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 105, Short.MAX_VALUE)
+                .addContainerGap())
+        );
+
+        org.jdesktop.layout.GroupLayout jPanel3Layout = new org.jdesktop.layout.GroupLayout(jPanel3);
+        jPanel3.setLayout(jPanel3Layout);
+        jPanel3Layout.setHorizontalGroup(
+            jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel3Layout.createSequentialGroup()
+                .add(12, 12, 12)
+                .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 390, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(jPanel3Layout.createSequentialGroup()
+                        .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(jPanel3Layout.createSequentialGroup()
+                                .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                                .add(jPanel6, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(jPanel5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                            .add(jPanel7, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                            .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel9, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
+                .addContainerGap())
+        );
+        jPanel3Layout.setVerticalGroup(
+            jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel3Layout.createSequentialGroup()
+                .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(jPanel7, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                    .add(jPanel5, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jPanel3Layout.createSequentialGroup()
+                        .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(jPanel6, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED))
+                    .add(jPanel3Layout.createSequentialGroup()
+                        .add(jPanel9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                        .add(10, 10, 10)))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                .add(358, 358, 358))
+        );
+        getContentPane().add(jPanel3, java.awt.BorderLayout.CENTER);
+
+        cancelButton.setText(&quot;Cancel&quot;);
+
+        okButton.setText(&quot;Ok&quot;);
+
+        helpButton.setText(&quot;Help&quot;);
+        helpButton.addActionListener(new java.awt.event.ActionListener() {
+            public void actionPerformed(java.awt.event.ActionEvent evt) {
+                helpButtonActionPerformed(evt);
+            }
+        });
+
+        org.jdesktop.layout.GroupLayout jPanel8Layout = new org.jdesktop.layout.GroupLayout(jPanel8);
+        jPanel8.setLayout(jPanel8Layout);
+        jPanel8Layout.setHorizontalGroup(
+            jPanel8Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel8Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(helpButton)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 598, Short.MAX_VALUE)
+                .add(okButton)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(cancelButton)
+                .addContainerGap())
+        );
+
+        jPanel8Layout.linkSize(new java.awt.Component[] {cancelButton, helpButton, okButton}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
+        jPanel8Layout.setVerticalGroup(
+            jPanel8Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel8Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel8Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(helpButton)
+                    .add(cancelButton)
+                    .add(okButton))
+                .addContainerGap(40, Short.MAX_VALUE))
+        );
+
+        jPanel8Layout.linkSize(new java.awt.Component[] {cancelButton, helpButton, okButton}, org.jdesktop.layout.GroupLayout.VERTICAL);
+
+        getContentPane().add(jPanel8, java.awt.BorderLayout.SOUTH);
+
+        pack();
+    }// &lt;/editor-fold&gt;//GEN-END:initComponents
+
+    private void helpButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_helpButtonActionPerformed
+// TODO add your handling code here:
+    }//GEN-LAST:event_helpButtonActionPerformed
+
+    private void extendedButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_extendedButtonActionPerformed
+// TODO add your handling code here:
+    }//GEN-LAST:event_extendedButtonActionPerformed
+
+    private void WGS84ButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_WGS84ButtonActionPerformed
+// TODO add your handling code here:
+    }//GEN-LAST:event_WGS84ButtonActionPerformed
+
+    private void extendedButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_extendedButtonMouseClicked
+// TODO add your handling code here:
+    }//GEN-LAST:event_extendedButtonMouseClicked
+    
+    
+    //musn't delete contents of tableModel, because it's also called to update the table's user interface unfortunately...
+    protected void initAuthorTable() {
+        if (tableModel == null) 
+            tableModel = new AuthorTableModelSearch(model);
+        authorTable.setModel(tableModel);
+
+        //authorTable.setDefaultEditor(JButton.class, new ButtonEditor());
+        //authorTable.setDefaultRenderer(JButton.class, new ButtonEditor());
+
+        TableColumn tc1 = authorTable.getColumnModel().getColumn(0);
+        TableColumn tc2 = authorTable.getColumnModel().getColumn(1);
+        TableColumn tc3 = authorTable.getColumnModel().getColumn(2);
+        TableColumn tc4 = authorTable.getColumnModel().getColumn(3);
+
+        JComboBox cb = new AutoComboBox(model.getAuthors());
+        tc1.setCellEditor(new DefaultCellEditor(cb));  
+        cb = new AutoComboBox(model.getAuthorRoles());
+        tc2.setCellEditor(new DefaultCellEditor(cb));
+        
+        ButtonEditorSearch be = new ButtonEditorSearch(model);
+        tc3.setCellEditor(be);
+        tc3.setCellRenderer(be);
+        
+        AuthorRevisionEditorSearch are = new AuthorRevisionEditorSearch(model);
+        tc4.setCellEditor(are);
+    }
+    
+    private void resetAuthorModel() {
+        if (tableModel != null)
+            tableModel.reset();
+    }
+        
+    public void clearComponentData() {
+        model.clearAuthors(); resetAuthorModel(); initAuthorTable();
+        townComboBox.setSelectedIndex(-1);
+        taxonTextArea.setText(&quot;&quot;);
+        descriptionArea.setText(&quot;&quot;);
+        
+        locationNoteArea.setText(&quot;&quot;);
+        occurrenceNoteArea.setText(&quot;&quot;);
+        territoryNameCombo.setSelectedIndex(-1);
+        phytNameCombo.setSelectedIndex(-1);
+        phytCodeCombo.setSelectedIndex(-1);
+        phytCountryCombo.setSelectedIndex(-1);
+        quadrantTextField.setText(&quot;&quot;);
+        
+        altitudeFormattedTextField.setText(&quot;&quot;);
+        longitudeFormattedTextField.setText(&quot;&quot;);
+        latitudeFormattedTextField.setText(&quot;&quot;);
+        sourceCombo.setSelectedIndex(-1);
+        publicationCombo.setSelectedIndex(-1);
+        herbariumTextField.setText(&quot;&quot;);
+        ((JComboBox)monthChooser.getComboBox()).setSelectedItem(&quot;&quot;);
+        
+        intervalRadioButton.setSelected(true);        
+        monthLabel.setEnabled(false);
+        monthChooser.setEnabled(false);
+    }
+    
+    public void switchExtended() {
+        visible = !visible;
+        jPanel3.setVisible(visible);
+        jPanel2.setPreferredSize(new Dimension(DIALOG_WIDTH,190));
+        jPanel8.setPreferredSize(new Dimension(DIALOG_WIDTH,50));
+        this.pack();        
+    }
+    
+    /**
+     * @param args the command line arguments
+     */
+    public static void main(String args[]) {
+        java.awt.EventQueue.invokeLater(new Runnable() {
+            public void run() {
+                new AddEditView(new javax.swing.JFrame(), true, null, false).setVisible(true);
+            }
+        });
+    }
+
+    public void update(Observable o, Object arg) {
+        String s = ((Pair&lt;String,Integer&gt;)arg).getFirst();
+        int i = ((Pair&lt;String,Integer&gt;)arg).getSecond(); 
+        if (s.equals(&quot;updateCode&quot;))
+            phytCodeCombo.setSelectedItem(model.getPhytCode());
+        if (s.equals(&quot;updateName&quot;))
+            phytNameCombo.setSelectedItem(model.getPhytName());
+        if (s.equals(&quot;addAuthorRow&quot;)) {
+            tableModel.addRow();
+            /*
+            DefaultCellEditor dce = (DefaultCellEditor) authorTable.getCellEditor(0,0);
+            Object o = dce.getCellEditorValue();
+             */            
+        }             
+        if (s.equals(&quot;removeAuthorRow&quot;)) {
+            tableModel.removeRow(i);
+            //unfortunately have to set up the editors and renderers again because of the
+            //fireTableStructureChanged() in the tableModel.removeRow() ... :-/
+            //initAuthorTable();            
+        }
+    }
+        
+    
+    // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JRadioButton S42Button;
+    protected javax.swing.JRadioButton SJTSKButton;
+    protected javax.swing.JLabel TaxonLabel;
+    protected javax.swing.JLabel TownLabel;
+    protected javax.swing.JRadioButton WGS84Button;
+    protected javax.swing.JFormattedTextField altitudeFormattedTextField;
+    protected javax.swing.JTable authorTable;
+    protected javax.swing.JButton cancelButton;
+    private javax.swing.ButtonGroup convertCoordinatesGroup;
+    protected javax.swing.JTextArea descriptionArea;
+    protected javax.swing.JToggleButton extendedButton;
+    protected com.toedter.calendar.JDateChooser fromDateChooser;
+    protected javax.swing.JLabel fromLabel;
+    protected javax.swing.JButton helpButton;
+    protected javax.swing.JLabel herbariumLabel;
+    protected javax.swing.JTextField herbariumTextField;
+    protected javax.swing.JRadioButton intervalRadioButton;
+    protected javax.swing.JLabel jLabel10;
+    protected javax.swing.JLabel jLabel11;
+    protected javax.swing.JLabel jLabel13;
+    protected javax.swing.JLabel jLabel14;
+    protected javax.swing.JLabel jLabel2;
+    protected javax.swing.JLabel jLabel6;
+    protected javax.swing.JLabel jLabel7;
+    protected javax.swing.JLabel jLabel8;
+    protected javax.swing.JLabel jLabel9;
+    protected javax.swing.JPanel jPanel1;
+    protected javax.swing.JPanel jPanel2;
+    private javax.swing.JPanel jPanel3;
+    protected javax.swing.JPanel jPanel4;
+    protected javax.swing.JPanel jPanel5;
+    protected javax.swing.JPanel jPanel6;
+    protected javax.swing.JPanel jPanel7;
+    private javax.swing.JPanel jPanel8;
+    protected javax.swing.JPanel jPanel9;
+    private javax.swing.JScrollPane jScrollPane1;
+    private javax.swing.JScrollPane jScrollPane2;
+    private javax.swing.JScrollPane jScrollPane3;
+    private javax.swing.JScrollPane jScrollPane4;
+    private javax.swing.JScrollPane jScrollPane5;
+    protected javax.swing.JFormattedTextField latitudeFormattedTextField;
+    protected javax.swing.JTextArea locationNoteArea;
+    protected javax.swing.JFormattedTextField longitudeFormattedTextField;
+    protected com.toedter.calendar.JMonthChooser monthChooser;
+    protected javax.swing.JLabel monthLabel;
+    protected javax.swing.JRadioButton monthRadioButton;
+    protected javax.swing.JTextArea occurrenceNoteArea;
+    protected javax.swing.JButton okButton;
+    protected javax.swing.JComboBox phytCodeCombo;
+    protected javax.swing.JComboBox phytCountryCombo;
+    protected javax.swing.JComboBox phytNameCombo;
+    protected javax.swing.JComboBox projectCombo;
+    protected javax.swing.JLabel projectLabel;
+    protected javax.swing.JComboBox publicationCombo;
+    protected javax.swing.JLabel publicationLabel;
+    protected javax.swing.JTextField quadrantTextField;
+    protected javax.swing.JComboBox sourceCombo;
+    protected javax.swing.JLabel sourceLabel;
+    protected javax.swing.JTextArea taxonTextArea;
+    protected javax.swing.JComboBox territoryNameCombo;
+    private javax.swing.ButtonGroup timeButtonGroup;
+    protected com.toedter.calendar.JDateChooser toDateChooser;
+    protected javax.swing.JLabel toLabel;
+    protected javax.swing.JComboBox townComboBox;
+    // End of variables declaration//GEN-END:variables
+    
+}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000301.html">[Plantlore-dev] Plantlore_en.properties
</A></li>
	<LI>Next message: <A HREF="000303.html">[Plantlore-dev] r257 - trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#302">[ date ]</a>
              <a href="thread.html#302">[ thread ]</a>
              <a href="subject.html#302">[ subject ]</a>
              <a href="author.html#302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
