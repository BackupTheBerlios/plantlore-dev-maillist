<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r393 - in trunk/src/net/sf/plantlore: client client/authors client/publications common/record l10n middleware server
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r393%20-%20in%20trunk/src/net/sf/plantlore%3A%20client%20client/authors%20client/publications%20common/record%20l10n%20middleware%20server&In-Reply-To=%3C200605300313.k4U3DDWR011686%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000449.html">
   <LINK REL="Next"  HREF="000451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r393 - in trunk/src/net/sf/plantlore: client client/authors client/publications common/record l10n middleware server</H1>
    <B>kovo at berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r393%20-%20in%20trunk/src/net/sf/plantlore%3A%20client%20client/authors%20client/publications%20common/record%20l10n%20middleware%20server&In-Reply-To=%3C200605300313.k4U3DDWR011686%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r393 - in trunk/src/net/sf/plantlore: client client/authors client/publications common/record l10n middleware server">kovo at berlios.de
       </A><BR>
    <I>Tue May 30 05:13:13 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000449.html">[Plantlore-dev] r392 - trunk/src/net/sf/plantlore/client
</A></li>
        <LI>Next message: <A HREF="000451.html">[Plantlore-dev] Kurzor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#450">[ date ]</a>
              <a href="thread.html#450">[ thread ]</a>
              <a href="subject.html#450">[ subject ]</a>
              <a href="author.html#450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kovo
Date: 2006-05-30 05:13:04 +0200 (Tue, 30 May 2006)
New Revision: 393

Modified:
   trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
   trunk/src/net/sf/plantlore/client/AppCoreView.form
   trunk/src/net/sf/plantlore/client/AppCoreView.java
   trunk/src/net/sf/plantlore/client/authors/AddAuthorCtrl.java
   trunk/src/net/sf/plantlore/client/authors/AddAuthorView.form
   trunk/src/net/sf/plantlore/client/authors/AddAuthorView.java
   trunk/src/net/sf/plantlore/client/authors/AuthorManager.java
   trunk/src/net/sf/plantlore/client/authors/AuthorManagerCtrl.java
   trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.form
   trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.java
   trunk/src/net/sf/plantlore/client/publications/AddPublicationCtrl.java
   trunk/src/net/sf/plantlore/client/publications/AddPublicationView.form
   trunk/src/net/sf/plantlore/client/publications/AddPublicationView.java
   trunk/src/net/sf/plantlore/client/publications/PublicationManager.java
   trunk/src/net/sf/plantlore/client/publications/PublicationManagerCtrl.java
   trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.form
   trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.java
   trunk/src/net/sf/plantlore/common/record/Publication.java
   trunk/src/net/sf/plantlore/l10n/Plantlore.properties
   trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties
   trunk/src/net/sf/plantlore/l10n/Plantlore_en.properties
   trunk/src/net/sf/plantlore/middleware/DBLayer.java
   trunk/src/net/sf/plantlore/server/HibernateDBLayer.java
Log:
Update of author manager and publication manager. Managers should now work properly. L10n still needs to be finished
Add destroy method to DBLayer displaying number of open sessions left
Fix bug in Overview layout - toolbar stretched when the window was maximized

Modified: trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -58,10 +58,9 @@
 import net.sf.plantlore.client.metadata.MetadataManager;
 import net.sf.plantlore.client.metadata.MetadataManagerCtrl;
 import net.sf.plantlore.client.metadata.MetadataManagerView;
-import net.sf.plantlore.client.publication.PublicationManager;
-import net.sf.plantlore.client.publication.PublicationManagerCtrl;
-import net.sf.plantlore.client.publication.PublicationManagerView;
-import net.sf.plantlore.client.publication.PublicationManagerView;
+import net.sf.plantlore.client.publications.PublicationManager;
+import net.sf.plantlore.client.publications.PublicationManagerCtrl;
+import net.sf.plantlore.client.publications.PublicationManagerView;
 import net.sf.plantlore.client.resources.Resource;
 import net.sf.plantlore.client.user.UserManager;
 import net.sf.plantlore.client.user.UserManagerCtrl;
@@ -377,6 +376,8 @@
             } catch (IOException ex) {
                 JOptionPane.showMessageDialog(view, &quot;Problem while saving configuration: &quot;+ex.getMessage());
             }
+            // Destroy the DBLayer
+            model.getDatabase().destroy();
             System.exit(0);
         }
     }
@@ -885,14 +886,14 @@
     
     class DataPublicationsAction extends AbstractAction {
         public DataPublicationsAction() {
-             putValue(NAME, L10n.getString(&quot;publicationMgr&quot;));
+            putValue(NAME, L10n.getString(&quot;Overview.MenuDataPublications&quot;));
+            putValue(SHORT_DESCRIPTION, L10n.getString(&quot;Overview.MenuDataPublicationsTT&quot;));
+            putValue(MNEMONIC_KEY, L10n.getMnemonic(&quot;Overview.MenuDataPublications&quot;));
         }
 
         public void actionPerformed(ActionEvent actionEvent) {
-            System.out.println(&quot;PublicationManager&quot;);
-
             publicationManagerModel = new PublicationManager(model.getDatabase());
-            publicationManagerView = new PublicationManagerView(publicationManagerModel, view, true);
+            publicationManagerView = new PublicationManagerView(publicationManagerModel, view, false);
             publicationManagerCtrl = new PublicationManagerCtrl(publicationManagerModel, publicationManagerView);
             publicationManagerView.setVisible(true); 
         }

Modified: trunk/src/net/sf/plantlore/client/AppCoreView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreView.form	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/AppCoreView.form	2006-05-30 03:13:04 UTC (rev 393)
@@ -161,14 +161,14 @@
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-              &lt;Component id=&quot;mainToolBar&quot; pref=&quot;35&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jPanel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;mainToolBar&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jPanel2&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jPanel4&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;pageToolBar&quot; min=&quot;-2&quot; pref=&quot;34&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jPanel1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
@@ -265,7 +265,7 @@
           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;statusLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;EmptySpace pref=&quot;551&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace pref=&quot;571&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
           &lt;/Group&gt;
         &lt;/DimensionLayout&gt;
@@ -325,7 +325,7 @@
                       &lt;Component id=&quot;recordsPerPage&quot; min=&quot;-2&quot; pref=&quot;45&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;nextPage&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;185&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;204&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -443,7 +443,7 @@
         &lt;DimensionLayout dim=&quot;0&quot;&gt;
           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace pref=&quot;506&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace pref=&quot;537&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;recordsCountLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;recordsCount&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;

Modified: trunk/src/net/sf/plantlore/client/AppCoreView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreView.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/AppCoreView.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -133,7 +133,7 @@
             jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(jPanel1Layout.createSequentialGroup()
                 .add(statusLabel)
-                .addContainerGap(551, Short.MAX_VALUE))
+                .addContainerGap(571, Short.MAX_VALUE))
         );
         jPanel1Layout.setVerticalGroup(
             jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
@@ -175,7 +175,7 @@
                 .add(recordsPerPage, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 45, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(nextPage, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
-                .addContainerGap(185, Short.MAX_VALUE))
+                .addContainerGap(204, Short.MAX_VALUE))
         );
         jPanel3Layout.setVerticalGroup(
             jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
@@ -232,7 +232,7 @@
         jPanel4Layout.setHorizontalGroup(
             jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel4Layout.createSequentialGroup()
-                .addContainerGap(506, Short.MAX_VALUE)
+                .addContainerGap(537, Short.MAX_VALUE)
                 .add(recordsCountLabel)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(recordsCount)
@@ -325,9 +325,9 @@
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
-                .add(mainToolBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 35, Short.MAX_VALUE)
+                .add(mainToolBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                .add(jPanel2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                .add(jPanel2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jPanel4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)

Modified: trunk/src/net/sf/plantlore/client/authors/AddAuthorCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AddAuthorCtrl.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AddAuthorCtrl.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -69,7 +69,6 @@
                     view.setDialogEnabled(true);                    
                     if (model.processErrors() == false) {    
                         if (model.isResultAvailable()) {   
-                            System.out.println(&quot;current first row: &quot;+model.getCurrentFirstRow());
                             model.processResults(model.getCurrentFirstRow(), model.getDisplayRows());                        
                         }
                     }

Modified: trunk/src/net/sf/plantlore/client/authors/AddAuthorView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AddAuthorView.form	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AddAuthorView.form	2006-05-30 03:13:04 UTC (rev 393)
@@ -2,9 +2,8 @@
 
 &lt;Form version=&quot;1.3&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
   &lt;Properties&gt;
-    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
     &lt;Property name=&quot;title&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-      &lt;Connection code=&quot;L10n.getString(&quot;addAuthorTitle&quot;)&quot; type=&quot;code&quot;/&gt;
+      &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Title&quot;)&quot; type=&quot;code&quot;/&gt;
     &lt;/Property&gt;
   &lt;/Properties&gt;
   &lt;SyntheticProperties&gt;
@@ -23,6 +22,14 @@
           &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;helpBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;37&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;closeBtn&quot; min=&quot;-2&quot; pref=&quot;101&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;saveBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;13&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;Group type=&quot;103&quot; alignment=&quot;0&quot; groupAlignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
@@ -38,26 +45,18 @@
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jScrollPane2&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;nameField&quot; alignment=&quot;0&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;roleField&quot; alignment=&quot;1&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;organizationField&quot; alignment=&quot;1&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;phoneField&quot; alignment=&quot;0&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;emailField&quot; alignment=&quot;0&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;urlField&quot; alignment=&quot;0&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;helpBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;37&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;closeBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;saveBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;13&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;/Group&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jLabel9&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace pref=&quot;293&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
@@ -67,7 +66,7 @@
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jLabel1&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -86,14 +85,14 @@
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jLabel4&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;jScrollPane1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jScrollPane1&quot; min=&quot;-2&quot; pref=&quot;72&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jLabel5&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;phoneField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;7&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;emailField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;jLabel6&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -105,18 +104,18 @@
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jScrollPane2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;jLabel8&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jScrollPane2&quot; min=&quot;-2&quot; pref=&quot;72&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jLabel9&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;helpBtn&quot; alignment=&quot;3&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;closeBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;helpBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;closeBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;saveBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -125,63 +124,63 @@
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel1&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorNameLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Name&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel2&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorOrganizationLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Organization&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel3&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorRoleLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Role&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel4&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorAddressLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Address&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel5&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorPhoneLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Phone&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel6&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorEmailLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Email&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel7&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorUrlLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Url&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel8&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;addAuthorNoteLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.Note&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel9&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;requiredFieldLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.RequiredFieldLabel&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
@@ -225,7 +224,7 @@
         &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;addressArea&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
-            &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+            &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;4&quot;/&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
             &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;TransferFocus.patch(addressArea);&quot;/&gt;
@@ -243,7 +242,7 @@
         &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;noteArea&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
-            &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+            &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;4&quot;/&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
             &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;TransferFocus.patch(noteArea);&quot;/&gt;
@@ -254,21 +253,21 @@
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;helpBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;helpBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Help&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;closeBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;closeBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Close&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;saveBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;saveAuthorBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Author.Add.SaveButton&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;

Modified: trunk/src/net/sf/plantlore/client/authors/AddAuthorView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AddAuthorView.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AddAuthorView.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -40,6 +40,8 @@
         this.model = authModel;
         this.model.addObserver(this);         
         initComponents();
+        // Center the dialog on the screen
+        this.setLocationRelativeTo(null);
     }
     
     /** This method is called from within the constructor to
@@ -72,25 +74,24 @@
         closeBtn = new javax.swing.JButton();
         saveBtn = new javax.swing.JButton();
 
-        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
-        setTitle(L10n.getString(&quot;addAuthorTitle&quot;));
-        jLabel1.setText(L10n.getString(&quot;addAuthorNameLbl&quot;));
+        setTitle(L10n.getString(&quot;Author.Add.Title&quot;));
+        jLabel1.setText(L10n.getString(&quot;Author.Add.Name&quot;));
 
-        jLabel2.setText(L10n.getString(&quot;addAuthorOrganizationLbl&quot;));
+        jLabel2.setText(L10n.getString(&quot;Author.Add.Organization&quot;));
 
-        jLabel3.setText(L10n.getString(&quot;addAuthorRoleLbl&quot;));
+        jLabel3.setText(L10n.getString(&quot;Author.Add.Role&quot;));
 
-        jLabel4.setText(L10n.getString(&quot;addAuthorAddressLbl&quot;));
+        jLabel4.setText(L10n.getString(&quot;Author.Add.Address&quot;));
 
-        jLabel5.setText(L10n.getString(&quot;addAuthorPhoneLbl&quot;));
+        jLabel5.setText(L10n.getString(&quot;Author.Add.Phone&quot;));
 
-        jLabel6.setText(L10n.getString(&quot;addAuthorEmailLbl&quot;));
+        jLabel6.setText(L10n.getString(&quot;Author.Add.Email&quot;));
 
-        jLabel7.setText(L10n.getString(&quot;addAuthorUrlLbl&quot;));
+        jLabel7.setText(L10n.getString(&quot;Author.Add.Url&quot;));
 
-        jLabel8.setText(L10n.getString(&quot;addAuthorNoteLbl&quot;));
+        jLabel8.setText(L10n.getString(&quot;Author.Add.Note&quot;));
 
-        jLabel9.setText(L10n.getString(&quot;requiredFieldLbl&quot;));
+        jLabel9.setText(L10n.getString(&quot;Author.Add.RequiredFieldLabel&quot;));
 
         nameField.setValue(&quot;&quot;);
         nameField.setDocument(new FieldLengthLimit(50));
@@ -111,20 +112,20 @@
         urlField.setDocument(new FieldLengthLimit(255));
 
         addressArea.setColumns(20);
-        addressArea.setRows(5);
+        addressArea.setRows(4);
         TransferFocus.patch(addressArea);
         jScrollPane1.setViewportView(addressArea);
 
         noteArea.setColumns(20);
-        noteArea.setRows(5);
+        noteArea.setRows(4);
         TransferFocus.patch(noteArea);
         jScrollPane2.setViewportView(noteArea);
 
-        helpBtn.setText(L10n.getString(&quot;helpBtn&quot;));
+        helpBtn.setText(L10n.getString(&quot;Common.Help&quot;));
 
-        closeBtn.setText(L10n.getString(&quot;closeBtn&quot;));
+        closeBtn.setText(L10n.getString(&quot;Common.Close&quot;));
 
-        saveBtn.setText(L10n.getString(&quot;saveAuthorBtn&quot;));
+        saveBtn.setText(L10n.getString(&quot;Author.Add.SaveButton&quot;));
 
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
@@ -133,6 +134,13 @@
             .add(layout.createSequentialGroup()
                 .addContainerGap()
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                        .add(helpBtn)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 37, Short.MAX_VALUE)
+                        .add(closeBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 101, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(saveBtn)
+                        .add(13, 13, 13))
                     .add(layout.createSequentialGroup()
                         .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                             .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
@@ -146,23 +154,16 @@
                             .add(jLabel1))
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                            .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
+                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
                             .add(nameField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
                             .add(org.jdesktop.layout.GroupLayout.TRAILING, roleField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
                             .add(org.jdesktop.layout.GroupLayout.TRAILING, organizationField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
-                            .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
                             .add(phoneField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
                             .add(emailField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
-                            .add(urlField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
-                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE))
+                            .add(urlField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE))
                         .addContainerGap())
                     .add(layout.createSequentialGroup()
-                        .add(helpBtn)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 37, Short.MAX_VALUE)
-                        .add(closeBtn)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                        .add(saveBtn)
-                        .add(13, 13, 13))
-                    .add(layout.createSequentialGroup()
                         .add(jLabel9)
                         .addContainerGap(293, Short.MAX_VALUE))))
         );
@@ -184,12 +185,12 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(jLabel4)
-                    .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                    .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 72, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(jLabel5)
                     .add(phoneField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
-                .add(7, 7, 7)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(emailField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                     .add(jLabel6))
@@ -199,14 +200,14 @@
                     .add(jLabel7))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                    .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
-                    .add(jLabel8))
+                    .add(jLabel8)
+                    .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 72, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jLabel9)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
-                    .add(helpBtn, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                    .add(closeBtn)
+                    .add(helpBtn)
+                    .add(closeBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 23, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                     .add(saveBtn))
                 .addContainerGap())
         );
@@ -221,45 +222,10 @@
      */
     public boolean checkNonEmpty(String field) {
         if (field.equals(&quot;name&quot;) &amp;&amp; (nameField.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Name of the author is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
+            JOptionPane.showMessageDialog(this, L10n.getString(&quot;Author.Add.MissingCompulsoryField&quot;), L10n.getString(&quot;Author.Add.MissingCompulsoryFieldTitle&quot;), JOptionPane.ERROR_MESSAGE);
             nameField.requestFocus();
             return false;
         }
-        if (field.equals(&quot;organization&quot;) &amp;&amp; (organizationField.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Organization is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            organizationField.requestFocus();
-            return false;            
-        }
-        if (field.equals(&quot;role&quot;) &amp;&amp; (roleField.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Role of the author is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            roleField.requestFocus();
-            return false;                        
-        }
-        if (field.equals(&quot;address&quot;) &amp;&amp; (addressArea.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Address is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            addressArea.requestFocus();
-            return false;                        
-        }
-        if (field.equals(&quot;phone&quot;) &amp;&amp; (phoneField.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Phone is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            phoneField.requestFocus();
-            return false;                        
-        }
-        if (field.equals(&quot;email&quot;) &amp;&amp; (emailField.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Email is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            emailField.requestFocus();
-            return false;                        
-        }
-        if (field.equals(&quot;url&quot;) &amp;&amp; (urlField.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;URL is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            urlField.requestFocus();
-            return false;                        
-        }
-        if (field.equals(&quot;note&quot;) &amp;&amp; (noteArea.getText().length() == 0)) {
-            JOptionPane.showMessageDialog(this, &quot;Note is a compulsory field. Please fill it in.&quot;, &quot;Missing compulsory field&quot;, JOptionPane.ERROR_MESSAGE);
-            noteArea.requestFocus();
-            return false;                        
-        }        
         return true;
     }
     

Modified: trunk/src/net/sf/plantlore/client/authors/AuthorManager.java
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AuthorManager.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AuthorManager.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -99,6 +99,10 @@
     public static final String ERROR_DELETE = L10n.getString(&quot;authorDeleteFailed&quot;);
     public static final String ERROR_PROCESS = L10n.getString(&quot;authorProcessResultsFailed&quot;);
     
+    public static final int ADD = 1;
+    public static final int EDIT = 2;
+    public static final int DELETE = 3;
+    
     /**
      *  Creates a new instance of AuthorManager.
      *  @param database Instance of a database management object
@@ -420,6 +424,25 @@
         }
     }
     
+    public boolean hasRights(int operation) {
+        try {
+            if (operation == ADD) {
+                if (database.getUserRights().getAdd() == 1) {
+                    return true;
+                } else {
+                    return false;
+                }            
+            } else if (operation == EDIT) {
+                // TODO
+            } else if (operation == DELETE) {
+                // TODO
+            }
+        } catch (RemoteException e) {
+            logger.error(&quot;Remote exception caught&quot;);
+        }
+        return false;
+    }
+    
     /**
      *  Load fields with information about selected author (specified by the value of &lt;code&gt;authorIndex&lt;/code&gt; field).
      *  Notify observers about this change. This is used to load a form when editing authors.

Modified: trunk/src/net/sf/plantlore/client/authors/AuthorManagerCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AuthorManagerCtrl.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AuthorManagerCtrl.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -145,6 +145,11 @@
      */    
     class AddAuthorButtonListener implements ActionListener {
         public void actionPerformed(ActionEvent e) {
+            // Check whether we have rights for this operation
+            if (!model.hasRights(model.ADD)) {
+                view.showErrorMessage(&quot;Rights&quot;);
+                return;
+            }
             // Display dialog for adding / editing authors. This dialog shares model with
             // the rest of the AuthorManager.
             AddAuthorView addAuthView = new AddAuthorView(model, view.getFrame(), false);

Modified: trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.form	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.form	2006-05-30 03:13:04 UTC (rev 393)
@@ -9,7 +9,6 @@
     &lt;/Component&gt;
   &lt;/NonVisualComponents&gt;
   &lt;Properties&gt;
-    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
     &lt;Property name=&quot;title&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
       &lt;Connection code=&quot;L10n.getString(&quot;authorManager&quot;)&quot; type=&quot;code&quot;/&gt;
     &lt;/Property&gt;
@@ -31,10 +30,10 @@
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jPanel7&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;1&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;helpBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;554&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;closeBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;542&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;closeBtn&quot; min=&quot;-2&quot; pref=&quot;113&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Component id=&quot;jPanel8&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
               &lt;/Group&gt;
@@ -51,7 +50,7 @@
               &lt;EmptySpace min=&quot;-2&quot; pref=&quot;17&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;helpBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;closeBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;closeBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -64,7 +63,7 @@
         &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
           &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
             &lt;TitledBorder title=&quot;&lt;User Code&gt;&quot;&gt;
-              &lt;Connection PropertyName=&quot;titleX&quot; code=&quot;L10n.getString(&quot;authorList&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection PropertyName=&quot;titleX&quot; code=&quot;L10n.getString(&quot;Author.list&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/TitledBorder&gt;
           &lt;/Border&gt;
         &lt;/Property&gt;
@@ -83,7 +82,7 @@
                           &lt;Component id=&quot;totalResultLabel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;totalRowsLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;37&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;33&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;toDisplayedLabel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
@@ -92,7 +91,7 @@
                                   &lt;EmptySpace min=&quot;-2&quot; pref=&quot;89&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Component id=&quot;displayedLabel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;displayedLabel&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;displayedLabel&quot; pref=&quot;62&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;/Group&gt;
                               &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;addBtn&quot; min=&quot;-2&quot; pref=&quot;107&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
@@ -102,9 +101,9 @@
                               &lt;/Group&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;nextBtn&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;deleteBtn&quot; alignment=&quot;1&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;nextBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;deleteBtn&quot; min=&quot;-2&quot; pref=&quot;109&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                           &lt;/Group&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
@@ -130,9 +129,9 @@
                   &lt;/Group&gt;
                   &lt;EmptySpace min=&quot;-2&quot; pref=&quot;15&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;addBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;deleteBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;editBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;deleteBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;addBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
@@ -164,7 +163,7 @@
         &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;previousBtn&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;prevButton&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Common.Previous&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
@@ -174,7 +173,7 @@
         &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;nextBtn&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;nextButton&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Common.Next&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
@@ -184,7 +183,7 @@
         &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;deleteBtn&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;deleteAuthorBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.DeleteButton&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
@@ -194,7 +193,7 @@
         &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;editBtn&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;editAuthorBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.EditButton&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
@@ -204,7 +203,7 @@
         &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;addBtn&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;addAuthorBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.AddButton&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
@@ -214,7 +213,7 @@
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;totalResultLabel2&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;totalResult&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.TotalResults&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
@@ -228,22 +227,20 @@
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;toDisplayedLabel2&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;displayRows&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.RowsToDisplay&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;displayedLabel2&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;displayed&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.DisplayedRowsLabel&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;displayedLabel&quot;&gt;
           &lt;Properties&gt;
-            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;displayed&quot;)&quot; type=&quot;code&quot;/&gt;
-            &lt;/Property&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;---&quot;/&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
             &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
@@ -261,7 +258,7 @@
         &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
           &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
             &lt;TitledBorder title=&quot;&lt;User Code&gt;&quot;&gt;
-              &lt;Connection PropertyName=&quot;titleX&quot; code=&quot;L10n.getString(&quot;searchAuthorsLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection PropertyName=&quot;titleX&quot; code=&quot;L10n.getString(&quot;Author.SearchLabel&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/TitledBorder&gt;
           &lt;/Border&gt;
         &lt;/Property&gt;
@@ -280,8 +277,8 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;organizationField&quot; pref=&quot;170&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                              &lt;Component id=&quot;nameField&quot; alignment=&quot;0&quot; pref=&quot;170&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;organizationField&quot; pref=&quot;160&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;nameField&quot; alignment=&quot;0&quot; pref=&quot;160&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
@@ -290,8 +287,8 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;emailField&quot; pref=&quot;171&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                              &lt;Component id=&quot;roleField&quot; alignment=&quot;0&quot; pref=&quot;171&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;emailField&quot; pref=&quot;161&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;roleField&quot; alignment=&quot;0&quot; pref=&quot;161&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                           &lt;/Group&gt;
                       &lt;/Group&gt;
                       &lt;Component id=&quot;searchBtn&quot; min=&quot;-2&quot; pref=&quot;144&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
@@ -335,14 +332,14 @@
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel11&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;authorNameLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.Search.Name&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel12&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;authorOrganizationLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.Search.Organization&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
@@ -351,7 +348,7 @@
             &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
               &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
                 &lt;TitledBorder title=&quot;&lt;User Code&gt;&quot;&gt;
-                  &lt;Connection PropertyName=&quot;titleX&quot; code=&quot;L10n.getString(&quot;sortingLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+                  &lt;Connection PropertyName=&quot;titleX&quot; code=&quot;L10n.getString(&quot;Author.Sorting&quot;)&quot; type=&quot;code&quot;/&gt;
                 &lt;/TitledBorder&gt;
               &lt;/Border&gt;
             &lt;/Property&gt;
@@ -361,13 +358,15 @@
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;jLabel13&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                           &lt;Component id=&quot;descRadio&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;ascRadio&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;sortCombo&quot; alignment=&quot;1&quot; pref=&quot;151&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -376,7 +375,7 @@
                   &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                           &lt;Component id=&quot;jLabel13&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;sortCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;sortCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;22&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;ascRadio&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -391,7 +390,7 @@
             &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;descRadio&quot;&gt;
               &lt;Properties&gt;
                 &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-                  &lt;Connection code=&quot;L10n.getString(&quot;descending&quot;)&quot; type=&quot;code&quot;/&gt;
+                  &lt;Connection code=&quot;L10n.getString(&quot;Author.Descending&quot;)&quot; type=&quot;code&quot;/&gt;
                 &lt;/Property&gt;
                 &lt;Property name=&quot;actionCommand&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
                   &lt;Connection code=&quot;L10n.getString(&quot;descending&quot;)&quot; type=&quot;code&quot;/&gt;
@@ -409,7 +408,7 @@
             &lt;Component class=&quot;javax.swing.JRadioButton&quot; name=&quot;ascRadio&quot;&gt;
               &lt;Properties&gt;
                 &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-                  &lt;Connection code=&quot;L10n.getString(&quot;ascending&quot;)&quot; type=&quot;code&quot;/&gt;
+                  &lt;Connection code=&quot;L10n.getString(&quot;Author.Ascending&quot;)&quot; type=&quot;code&quot;/&gt;
                 &lt;/Property&gt;
                 &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
                   &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
@@ -424,7 +423,7 @@
             &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel13&quot;&gt;
               &lt;Properties&gt;
                 &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-                  &lt;Connection code=&quot;L10n.getString(&quot;sortByLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+                  &lt;Connection code=&quot;L10n.getString(&quot;Author.SortBy&quot;)&quot; type=&quot;code&quot;/&gt;
                 &lt;/Property&gt;
               &lt;/Properties&gt;
             &lt;/Component&gt;
@@ -440,21 +439,21 @@
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel14&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;authorRoleLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.Search.Role&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
         &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel15&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;authorEmailLbl&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.Search.Email&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
         &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;searchBtn&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;L10n.getString(&quot;searchAuthorsBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;L10n.getString(&quot;Author.SearchButton&quot;)&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
         &lt;/Component&gt;
@@ -483,7 +482,7 @@
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;closeBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;Close&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Close&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
       &lt;AuxValues&gt;
@@ -493,7 +492,7 @@
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;helpBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;Help&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Help&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
       &lt;AuxValues&gt;

Modified: trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/authors/AuthorManagerView.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -30,9 +30,9 @@
     /** Model of the AuthorManager MVC */
     private AuthorManager model;
     /** Names of fields available for sorting the results */
-    private String[] sortFields = {L10n.getString(&quot;authorName&quot;), L10n.getString(&quot;authorOrganization&quot;), L10n.getString(&quot;authorRole&quot;), L10n.getString(&quot;authorEmail&quot;), L10n.getString(&quot;authorPhone&quot;), L10n.getString(&quot;authorURL&quot;)};        
+    private String[] sortFields = {L10n.getString(&quot;Author.Sort.Name&quot;), L10n.getString(&quot;Author.Sort.Organization&quot;), L10n.getString(&quot;Author.Sort.Role&quot;), L10n.getString(&quot;Author.Sort.Email&quot;), L10n.getString(&quot;Author.Sort.Phone&quot;), L10n.getString(&quot;Author.Sort.Url&quot;)};        
     /** Names of the columns in the search results */
-    private String[] columnNames = new String [] {L10n.getString(&quot;authorName&quot;), L10n.getString(&quot;authorOrganization&quot;), L10n.getString(&quot;authorRole&quot;), L10n.getString(&quot;authorPhone&quot;), L10n.getString(&quot;authorEmail&quot;), L10n.getString(&quot;authorURL&quot;)};    
+    private String[] columnNames = new String [] {L10n.getString(&quot;Author.Table.Name&quot;), L10n.getString(&quot;Author.Table.Organization&quot;), L10n.getString(&quot;Author.Table.Role&quot;), L10n.getString(&quot;Author.Table.Phone&quot;), L10n.getString(&quot;Author.Table.Email&quot;), L10n.getString(&quot;Author.Table.Url&quot;)};    
     /** Contents of the table with the query result */
     private String[][] tableData;
     
@@ -48,6 +48,8 @@
         this.model = model;
         this.model.addObserver(this);         
         initComponents();
+        // Center the dialog on the screen
+        this.setLocationRelativeTo(null);        
     }
     
     /** This method is called from within the constructor to
@@ -94,9 +96,8 @@
         sortButtonGroup.add(descRadio);
         sortButtonGroup.setSelected(ascRadio.getModel(), true);
 
-        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
         setTitle(L10n.getString(&quot;authorManager&quot;));
-        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;authorList&quot;)));
+        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;Author.list&quot;)));
         listTable.setModel(new javax.swing.table.DefaultTableModel(
             new Object [][] {
                 {null, null, null, null},
@@ -110,25 +111,25 @@
         ));
         jScrollPane3.setViewportView(listTable);
 
-        previousBtn.setText(L10n.getString(&quot;prevButton&quot;));
+        previousBtn.setText(L10n.getString(&quot;Common.Previous&quot;));
 
-        nextBtn.setText(L10n.getString(&quot;nextButton&quot;));
+        nextBtn.setText(L10n.getString(&quot;Common.Next&quot;));
 
-        deleteBtn.setText(L10n.getString(&quot;deleteAuthorBtn&quot;));
+        deleteBtn.setText(L10n.getString(&quot;Author.DeleteButton&quot;));
 
-        editBtn.setText(L10n.getString(&quot;editAuthorBtn&quot;));
+        editBtn.setText(L10n.getString(&quot;Author.EditButton&quot;));
 
-        addBtn.setText(L10n.getString(&quot;addAuthorBtn&quot;));
+        addBtn.setText(L10n.getString(&quot;Author.AddButton&quot;));
 
-        totalResultLabel2.setText(L10n.getString(&quot;totalResult&quot;));
+        totalResultLabel2.setText(L10n.getString(&quot;Author.TotalResults&quot;));
 
         totalRowsLabel.setText(((Integer)model.getResultRows()).toString());
 
-        toDisplayedLabel2.setText(L10n.getString(&quot;displayRows&quot;));
+        toDisplayedLabel2.setText(L10n.getString(&quot;Author.RowsToDisplay&quot;));
 
-        displayedLabel2.setText(L10n.getString(&quot;displayed&quot;));
+        displayedLabel2.setText(L10n.getString(&quot;Author.DisplayedRowsLabel&quot;));
 
-        displayedLabel.setText(L10n.getString(&quot;displayed&quot;));
+        displayedLabel.setText(&quot;---&quot;);
 
         rowsField.setValue(model.getDisplayRows());
 
@@ -146,7 +147,7 @@
                         .add(totalResultLabel2)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(totalRowsLabel)
-                        .add(37, 37, 37)
+                        .add(33, 33, 33)
                         .add(toDisplayedLabel2)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(jPanel7Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
@@ -155,16 +156,16 @@
                                 .add(89, 89, 89)
                                 .add(displayedLabel2)
                                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                                .add(displayedLabel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                                .add(displayedLabel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 62, Short.MAX_VALUE))
                             .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel7Layout.createSequentialGroup()
                                 .add(addBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 107, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                                 .add(editBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 110, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                 .add(2, 2, 2)))
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                        .add(jPanel7Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
-                            .add(nextBtn, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                            .add(deleteBtn, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
+                        .add(jPanel7Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                            .add(nextBtn)
+                            .add(deleteBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 109, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))
                 .addContainerGap())
         );
         jPanel7Layout.setVerticalGroup(
@@ -184,28 +185,28 @@
                     .add(rowsField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .add(15, 15, 15)
                 .add(jPanel7Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
-                    .add(addBtn)
+                    .add(editBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 23, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                     .add(deleteBtn)
-                    .add(editBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 23, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                    .add(addBtn))
                 .addContainerGap())
         );
 
-        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;searchAuthorsLbl&quot;)));
-        jLabel11.setText(L10n.getString(&quot;authorNameLbl&quot;));
+        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;Author.SearchLabel&quot;)));
+        jLabel11.setText(L10n.getString(&quot;Author.Search.Name&quot;));
 
-        jLabel12.setText(L10n.getString(&quot;authorOrganizationLbl&quot;));
+        jLabel12.setText(L10n.getString(&quot;Author.Search.Organization&quot;));
 
-        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;sortingLbl&quot;)));
-        descRadio.setText(L10n.getString(&quot;descending&quot;));
+        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;Author.Sorting&quot;)));
+        descRadio.setText(L10n.getString(&quot;Author.Descending&quot;));
         descRadio.setActionCommand(L10n.getString(&quot;descending&quot;));
         descRadio.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
         descRadio.setMargin(new java.awt.Insets(0, 0, 0, 0));
 
-        ascRadio.setText(L10n.getString(&quot;ascending&quot;));
+        ascRadio.setText(L10n.getString(&quot;Author.Ascending&quot;));
         ascRadio.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
         ascRadio.setMargin(new java.awt.Insets(0, 0, 0, 0));
 
-        jLabel13.setText(L10n.getString(&quot;sortByLbl&quot;));
+        jLabel13.setText(L10n.getString(&quot;Author.SortBy&quot;));
 
         sortCombo.setModel(new DefaultComboBoxModel(sortFields));
 
@@ -214,19 +215,21 @@
         jPanel9Layout.setHorizontalGroup(
             jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(jPanel9Layout.createSequentialGroup()
+                .addContainerGap()
                 .add(jLabel13)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                .add(jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                    .add(descRadio)
-                    .add(ascRadio)
-                    .add(org.jdesktop.layout.GroupLayout.TRAILING, sortCombo, 0, 151, Short.MAX_VALUE)))
+                .add(jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, descRadio)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, ascRadio)
+                    .add(sortCombo, 0, 151, Short.MAX_VALUE))
+                .addContainerGap())
         );
         jPanel9Layout.setVerticalGroup(
             jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(jPanel9Layout.createSequentialGroup()
                 .add(jPanel9Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(jLabel13)
-                    .add(sortCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                    .add(sortCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 22, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(ascRadio)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
@@ -234,11 +237,11 @@
                 .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
         );
 
-        jLabel14.setText(L10n.getString(&quot;authorRoleLbl&quot;));
+        jLabel14.setText(L10n.getString(&quot;Author.Search.Role&quot;));
 
-        jLabel15.setText(L10n.getString(&quot;authorEmailLbl&quot;));
+        jLabel15.setText(L10n.getString(&quot;Author.Search.Email&quot;));
 
-        searchBtn.setText(L10n.getString(&quot;searchAuthorsBtn&quot;));
+        searchBtn.setText(L10n.getString(&quot;Author.SearchButton&quot;));
 
         nameField.setValue(&quot;&quot;);
 
@@ -261,16 +264,16 @@
                             .add(jLabel12))
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(jPanel8Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(organizationField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE)
-                            .add(nameField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE))
+                            .add(organizationField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 160, Short.MAX_VALUE)
+                            .add(nameField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 160, Short.MAX_VALUE))
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(jPanel8Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                             .add(jLabel14)
                             .add(jLabel15))
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(jPanel8Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(emailField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 171, Short.MAX_VALUE)
-                            .add(roleField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 171, Short.MAX_VALUE)))
+                            .add(emailField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 161, Short.MAX_VALUE)
+                            .add(roleField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 161, Short.MAX_VALUE)))
                     .add(searchBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 144, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jPanel9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
@@ -299,9 +302,9 @@
                 .addContainerGap())
         );
 
-        closeBtn.setText(L10n.getString(&quot;Close&quot;));
+        closeBtn.setText(L10n.getString(&quot;Common.Close&quot;));
 
-        helpBtn.setText(L10n.getString(&quot;Help&quot;));
+        helpBtn.setText(L10n.getString(&quot;Common.Help&quot;));
 
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
@@ -313,8 +316,8 @@
                     .add(jPanel7, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                     .add(layout.createSequentialGroup()
                         .add(helpBtn)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 554, Short.MAX_VALUE)
-                        .add(closeBtn))
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 542, Short.MAX_VALUE)
+                        .add(closeBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 113, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                     .add(jPanel8, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                 .addContainerGap())
         );
@@ -327,7 +330,7 @@
                 .add(17, 17, 17)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(helpBtn)
-                    .add(closeBtn))
+                    .add(closeBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 23, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addContainerGap())
         );
         pack();
@@ -377,7 +380,7 @@
      *  @param message Message we want to display
      */
     public void showErrorMessage(String message) {
-        JOptionPane.showMessageDialog(this, message, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);               
+        JOptionPane.showMessageDialog(this, message, L10n.getString(&quot;Common.ErrorMessageTitle&quot;), JOptionPane.ERROR_MESSAGE);               
     }
     
     /**
@@ -502,7 +505,7 @@
      *  Close this dialog.
      */    
     public void close() {
-        this.dispose();
+        this.hide();
     }
 
     /**
@@ -659,8 +662,8 @@
      */
     public boolean confirmDelete() {
         // JOptionPane results: 0 = Yes, 1 = No
-        int res = JOptionPane.showConfirmDialog(this, &quot;Do you really want to delete selected author?&quot;, 
-                                                &quot;Delete author&quot;, JOptionPane.YES_NO_OPTION);
+        int res = JOptionPane.showConfirmDialog(this, L10n.getString(&quot;Author.ConfirmDelete&quot;), 
+                                                L10n.getString(&quot;Author.ConfirmDeleteTitle&quot;), JOptionPane.YES_NO_OPTION);
         if (res == 0) {
             return true;
         }
@@ -679,8 +682,8 @@
      *  Display dialog with the message saying that no row in the table with authors is selected
      */
     public void selectRowMsg() {
-        JOptionPane.showMessageDialog(this, &quot;Please select at least one author from the list&quot;,
-                                      &quot;Select author&quot;, JOptionPane.WARNING_MESSAGE);        
+        JOptionPane.showMessageDialog(this, L10n.getString(&quot;Author.NoAuthorSelected&quot;),
+                                      L10n.getString(&quot;Author.NoAuthorSelectedTitle&quot;), JOptionPane.WARNING_MESSAGE);
     }
     
     // Variables declaration - do not modify//GEN-BEGIN:variables

Modified: trunk/src/net/sf/plantlore/client/publications/AddPublicationCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/AddPublicationCtrl.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/AddPublicationCtrl.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -106,13 +106,7 @@
     class SavePublicationButtonListener implements ActionListener {
         public void actionPerformed(ActionEvent e) {            
             // Check whether all the required fields are present
-            if (view.checkNonEmpty(PublicationManager.FIELD_COLLECTION_NAME) &amp;&amp;
-                view.checkNonEmpty(PublicationManager.FIELD_COLLECTION_YEAR) &amp;&amp; 
-                view.checkNonEmpty(PublicationManager.FIELD_JOURNAL_AUTHOR) &amp;&amp;
-                view.checkNonEmpty(PublicationManager.FIELD_JOURNAL_NAME) &amp;&amp;
-                view.checkNonEmpty(PublicationManager.FIELD_REFERENCE_CITATION) &amp;&amp;
-                view.checkNonEmpty(PublicationManager.FIELD_REFERENCE_DETAIL) &amp;&amp; 
-                view.checkNonEmpty(PublicationManager.FIELD_URL)) {
+            if (view.checkNonEmpty(PublicationManager.FIELD_REFERENCE_CITATION)) {
                 if (model.getEditPublication() == null) {
                     // Save new publication
                     model.savePublication();                

Modified: trunk/src/net/sf/plantlore/client/publications/AddPublicationView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/AddPublicationView.form	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/AddPublicationView.form	2006-05-30 03:13:04 UTC (rev 393)
@@ -2,7 +2,6 @@
 
 &lt;Form version=&quot;1.3&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
   &lt;Properties&gt;
-    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
     &lt;Property name=&quot;title&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
       &lt;Connection code=&quot;L10n.getString(&quot;addPublicationTitle&quot;)&quot; type=&quot;code&quot;/&gt;
     &lt;/Property&gt;
@@ -25,8 +24,8 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;helpBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;37&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;closeBtn&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;37&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Component id=&quot;closeBtn&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;saveBtn&quot; min=&quot;-2&quot; pref=&quot;104&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
@@ -63,7 +62,7 @@
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jLabel1&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -107,8 +106,8 @@
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jLabel9&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace min=&quot;-2&quot; pref=&quot;7&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;helpBtn&quot; alignment=&quot;3&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;helpBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;saveBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;closeBtn&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
@@ -216,27 +215,30 @@
             &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
             &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
           &lt;/Properties&gt;
+          &lt;AuxValues&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;TransferFocus.patch(noteArea);&quot;/&gt;
+          &lt;/AuxValues&gt;
         &lt;/Component&gt;
       &lt;/SubComponents&gt;
     &lt;/Container&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;helpBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;helpBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Help&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;closeBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;closeBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Close&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;saveBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;savePublicationBtn&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Publication.Add.SaveButton&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;

Modified: trunk/src/net/sf/plantlore/client/publications/AddPublicationView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/AddPublicationView.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/AddPublicationView.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -13,6 +13,7 @@
 import java.util.Observer;
 import javax.swing.JDialog;
 import javax.swing.JOptionPane;
+import net.sf.plantlore.common.TransferFocus;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -37,6 +38,8 @@
         this.model = publModel;
         this.model.addObserver(this);         
         initComponents();
+        // Center the dialog on the screen
+        this.setLocationRelativeTo(null);        
     }
     
     /** This method is called from within the constructor to
@@ -68,7 +71,6 @@
         jLabel10 = new javax.swing.JLabel();
         urlField = new javax.swing.JFormattedTextField();
 
-        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
         setTitle(L10n.getString(&quot;addPublicationTitle&quot;));
         jLabel1.setText(L10n.getString(&quot;addPublicationCollectionNameLbl&quot;));
 
@@ -100,13 +102,14 @@
 
         noteArea.setColumns(20);
         noteArea.setRows(5);
+        TransferFocus.patch(noteArea);
         jScrollPane2.setViewportView(noteArea);
 
-        helpBtn.setText(L10n.getString(&quot;helpBtn&quot;));
+        helpBtn.setText(L10n.getString(&quot;Common.Help&quot;));
 
-        closeBtn.setText(L10n.getString(&quot;closeBtn&quot;));
+        closeBtn.setText(L10n.getString(&quot;Common.Close&quot;));
 
-        saveBtn.setText(L10n.getString(&quot;savePublicationBtn&quot;));
+        saveBtn.setText(L10n.getString(&quot;Publication.Add.SaveButton&quot;));
 
         jLabel10.setText(L10n.getString(&quot;addPublicationUrlLbl&quot;));
 
@@ -121,8 +124,8 @@
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(layout.createSequentialGroup()
                         .add(helpBtn)
-                        .add(37, 37, 37)
-                        .add(closeBtn, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 37, Short.MAX_VALUE)
+                        .add(closeBtn)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(saveBtn, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 104, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                     .add(jLabel9)
@@ -187,8 +190,8 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jLabel9)
                 .add(7, 7, 7)
-                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
-                    .add(helpBtn, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE, false)
+                    .add(helpBtn)
                     .add(saveBtn)
                     .add(closeBtn))
                 .addContainerGap())

Modified: trunk/src/net/sf/plantlore/client/publications/PublicationManager.java
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/PublicationManager.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/PublicationManager.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -172,8 +172,10 @@
                 // Operation not finished yet
                 done = false;
                 try {
-                    // Execute query
-                    database.executeDelete((Publication)data.get(getPublicationIndex()));
+                    // Execute query                    
+                    Publication pub = (Publication)data.get(getPublicationIndex());
+                    pub.setDeleted(1);
+                    database.executeUpdate(pub);
                 } catch (DBLayerException e) {
                     // Log and set an error
                     logger.error(&quot;Deleting publication failed. Unable to execute delete query.&quot;);
@@ -252,14 +254,15 @@
                     // Create new Select query                    
                     query = database.createQuery(Publication.class);                    
                     // Add given restrictions (WHERE clause)
+                    query.addRestriction(PlantloreConstants.RESTR_EQ, Publication.DELETED, null, 0, null);
                     if ((searchCollectionName != null) &amp;&amp; (searchCollectionName != &quot;&quot;))
-                        query.addRestriction(PlantloreConstants.RESTR_LIKE, Publication.COLLECTIONNAME, null, &quot;%&quot; + searchCollectionName + &quot;%&quot;, null);
+                        query.addRestriction(PlantloreConstants.RESTR_ILIKE, Publication.COLLECTIONNAME, null, &quot;%&quot; + searchCollectionName + &quot;%&quot;, null);
                     if ((searchJournalName != null) &amp;&amp; (searchJournalName != &quot;&quot;))
-                        query.addRestriction(PlantloreConstants.RESTR_LIKE, Publication.JOURNALNAME, null, &quot;%&quot; + searchJournalName + &quot;%&quot;, null);
+                        query.addRestriction(PlantloreConstants.RESTR_ILIKE, Publication.JOURNALNAME, null, &quot;%&quot; + searchJournalName + &quot;%&quot;, null);
                     if ((searchReferenceCitation != null) &amp;&amp; (searchReferenceCitation != &quot;&quot;))
-                        query.addRestriction(PlantloreConstants.RESTR_LIKE, Publication.REFERENCECITATION, null, &quot;%&quot; + searchReferenceCitation + &quot;%&quot;, null);
+                        query.addRestriction(PlantloreConstants.RESTR_ILIKE, Publication.REFERENCECITATION, null, &quot;%&quot; + searchReferenceCitation + &quot;%&quot;, null);
                     if ((searchReferenceDetail != null) &amp;&amp; (searchReferenceDetail != null))
-                        query.addRestriction(PlantloreConstants.RESTR_LIKE, Publication.REFERENCEDETAIL, null, &quot;%&quot; + searchReferenceDetail + &quot;%&quot;, null);
+                        query.addRestriction(PlantloreConstants.RESTR_ILIKE, Publication.REFERENCEDETAIL, null, &quot;%&quot; + searchReferenceDetail + &quot;%&quot;, null);
                     String field;
                     // Add ORDER BY clause
                     switch (sortField) {

Modified: trunk/src/net/sf/plantlore/client/publications/PublicationManagerCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/PublicationManagerCtrl.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/PublicationManagerCtrl.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -219,20 +219,14 @@
     class SearchPublicationButtonListener implements ActionListener {
         public void actionPerformed(ActionEvent e) {
             // Check whether at least one search field is non-empty
-            if (view.checkNonEmpty(&quot;collectionName&quot;) || view.checkNonEmpty(&quot;journalName&quot;) ||
-                view.checkNonEmpty(&quot;referenceCitation&quot;) || view.checkNonEmpty(&quot;referenceDetail&quot;)) {
-                // Run DB search
-                model.searchPublication();
-                // Disable current view and run timer
-                view.setDialogEnabled(false);                                
-                timerSearch.start();                
-                // Display dialog with progress bar
-                progress = new ProgressDialog(view.getDialog(), true);
-                progress.show();                                   
-            } else {
-                // Show error message - no search criteria
-                view.showSearchErrorMessage();
-            }
+            // Run DB search
+            model.searchPublication();
+            // Disable current view and run timer
+            view.setDialogEnabled(false);                                
+            timerSearch.start();                
+            // Display dialog with progress bar
+            progress = new ProgressDialog(view.getDialog(), true);
+            progress.show();                                   
         }
     }        
     

Modified: trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.form	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.form	2006-05-30 03:13:04 UTC (rev 393)
@@ -9,7 +9,6 @@
     &lt;/Component&gt;
   &lt;/NonVisualComponents&gt;
   &lt;Properties&gt;
-    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
     &lt;Property name=&quot;title&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
       &lt;Connection code=&quot;L10n.getString(&quot;publicationManager&quot;)&quot; type=&quot;code&quot;/&gt;
     &lt;/Property&gt;
@@ -482,7 +481,7 @@
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;closeBtn&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-          &lt;Connection code=&quot;L10n.getString(&quot;Close&quot;)&quot; type=&quot;code&quot;/&gt;
+          &lt;Connection code=&quot;L10n.getString(&quot;Common.Close&quot;)&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
       &lt;AuxValues&gt;

Modified: trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/client/publications/PublicationManagerView.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -49,6 +49,8 @@
         this.model = model;
         this.model.addObserver(this);
         initComponents();
+        // Center the dialog on the screen
+        this.setLocationRelativeTo(null);
     }
     
     /** This method is called from within the constructor to
@@ -95,7 +97,6 @@
         sortButtonGroup.add(descRadio);
         sortButtonGroup.setSelected(ascRadio.getModel(), true);
 
-        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
         setTitle(L10n.getString(&quot;publicationManager&quot;));
         jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;publicationList&quot;)));
         listTable.setModel(new javax.swing.table.DefaultTableModel(
@@ -300,7 +301,7 @@
                 .addContainerGap())
         );
 
-        closeBtn.setText(L10n.getString(&quot;Close&quot;));
+        closeBtn.setText(L10n.getString(&quot;Common.Close&quot;));
 
         helpBtn.setText(L10n.getString(&quot;Help&quot;));
 

Modified: trunk/src/net/sf/plantlore/common/record/Publication.java
===================================================================
--- trunk/src/net/sf/plantlore/common/record/Publication.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/common/record/Publication.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -28,7 +28,7 @@
     private String referenceCitation;
     private String referenceDetail;
     private String url;
-    private Integer deleted;
+    private Integer deleted = 0;
     private User createdWho;
     private String note;
 

Modified: trunk/src/net/sf/plantlore/l10n/Plantlore.properties
===================================================================
--- trunk/src/net/sf/plantlore/l10n/Plantlore.properties	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/l10n/Plantlore.properties	2006-05-30 03:13:04 UTC (rev 393)
@@ -17,7 +17,6 @@
 Overview.MenuDataExportTT=Exports selected records
 Overview.MenuDataSearch=&amp;Search
 Overview.MenuDataSearchTT=Invokes the search dialog
-Overview.MenuAuthorManager=&amp;Author manager
 Overview.MenuHistory=&amp;History
 Overview.RecordsPerPage=Number of records per page
 Overview.NextPage=Next
@@ -248,7 +247,36 @@
 UserManager.ShowPanel = Show users
 UserManager.UserDataPanel = User`s data
 UserManager.UserRightPanel = User`s right
-
+#History a occurrence - details
+taxon = Taxon:
+author = Author:
+location = Location:
+#History - List of changes
+whenInsert = Date record creation:
+whoInsert = User who record created:
+#History - buttons
+selectAll = Select all
+unselectAll = Unselect all
+undoSelected = Undo selected
+undoToDate = Undo to Date
+detailsHistory = Details
+clearHistory = Clear history
+#History - information about result and displayed rows
+Author.TotalResults=Total results:
+Author.DisplayedRowsLabel=Displayed rows:
+toDisplay = Rows to display:
+#History - Title of table columns
+historyColX = X
+historyColDate = Date/Time
+historyColOperation = Operation
+historyColUser = User
+historyColItem = Item
+historyColOldValue = Old value
+historyColNewValue = New value
+#History - value of tHistoryChange.cOperation
+operation1 = insert
+operation2 = edit
+operation3 = delete
 UserManager.ButtonDrop = Drop User
 UserManager.ButtonAdd = Add User
 UserManager.ButtonEdit = Edit User
@@ -689,78 +717,78 @@
 
 
 
-authorList=List of authors
+Author.list=List of authors
+#Add author button
+Author.AddButton=Add author
 
-addAuthorBtn=Add author
+Author.EditButton=Edit author
 
-editAuthorBtn=Edit author
+Author.DeleteButton=Delete author
 
-deleteAuthorBtn=Delete author
+Author.RowsToDisplay=Rows to display
 
-displayRows=Rows to display
+Author.SearchLabel=Search authors
+#Search button in the Author manager window
+Author.SearchButton=Search authors
 
-searchAuthorsLbl=Search authors
+Author.Search.Name=Name\:
 
-searchAuthorsBtn=Search authors
+Author.Search.Organization=Organization\:
 
-authorNameLbl=Name\:
+Author.Search.Role=Role\:
 
-authorOrganizationLbl=Organization\:
+Author.Search.Email=Email\:
+#Title of the panel in the main Author manager window
+Author.Sorting=Sorting
 
-authorRoleLbl=Role\:
+Author.Sort.Name=Author name
 
-authorEmailLbl=Email\:
+Author.Sort.Url=URL
 
-sortingLbl=Sorting
+Author.Sort.Phone=Phone Number
 
-authorName=Author name
+Author.Sort.Email=Email
 
-authorURL=URL
+Author.Sort.Organization=Organization
 
-authorPhone=Phone Number
+Author.Table.Organization=Organization
 
-authorEmail=Email
+Author.Descending=Descending
 
-authorRole=Role
+Author.Ascending=Ascending
+#Label in the Sorting panel in the Author manager window
+Author.SortBy=Sort by
 
-authorOrganization=Organization
-
-descending=Descending
-
-ascending=Ascending
-
-sortByLbl=Sort by
-
 authorManager=Author Manager
+#Label next to the field in the Add author dialog
+Author.Add.Title=Add author
 
-addAuthorTitle=Add author
-
 editAuthorTitle=Edit author
 
-saveAuthorBtn=Save author
+Author.Add.SaveButton=Save author
 
 closeBtn=Close
 
 helpBtn=Help
 
-requiredFieldLbl=* Indicates required field
+Author.Add.RequiredFieldLabel=* Indicates required field
+#Label next to the field in the Add author dialog
+Author.Add.Name=Name of author\:
+#Label next to the field in the Add author dialog
+Author.Add.Organization=Organization\:
+#Label next to the field in the Add author dialog
+Author.Add.Role=Role\:
+#Label next to the field in the Add author dialog
+Author.Add.Address=Address\:
+#Label next to the field in the Add author dialog
+Author.Add.Phone=Phone number\:
+#Label next to the field in the Add author dialog
+Author.Add.Email=Email\:
+#Label next to the field in the Add author dialog
+Author.Add.Url=URL\:
+#Label next to the field in the Add author dialog
+Author.Add.Note=Note\:
 
-addAuthorNameLbl=Name of author\:
-
-addAuthorOrganizationLbl=Organization\:
-
-addAuthorRoleLbl=Role\:
-
-addAuthorAddressLbl=Address\:
-
-addAuthorPhoneLbl=Phone number\:
-
-addAuthorEmailLbl=Email\:
-
-addAuthorUrlLbl=URL\:
-
-addAuthorNoteLbl=Note\:
-
 publicationUrlTitle=URL
 
 referenceDetailTitle=Reference detail
@@ -1033,7 +1061,42 @@
 Overview.SelectAll=All
 
 Message.LoadingOverviewData=Loading occurrence records
+#Title of the error message when name of the author is not given
+Author.Add.MissingCompulsoryFieldTitle=Missing compulsory field
+#Error message when name of the author is not given
+Author.Add.MissingCompulsoryField=Name of the author is a compulsory field. Please fill it in.
 
+Author.Table.Name=Name of the author
+
+Author.Table.Url=URL
+
+Author.Table.Email=Email
+
+Author.Table.Phone=Phone number
+
+Author.Table.Role=Role of the author
+
+#Title of the window with the error message
+Common.ErrorMessageTitle=Error
+
+Author.ConfirmDelete=Selected author will be deleted
+
+Author.ConfirmDeleteTitle=Delete author
+
+Author.NoAuthorSelected=Please select at least one author from the list
+
+Author.NoAuthorSelectedTitle=No author selected
+
+Common.Close=Close
+
+Author.Sort.Role=Role
+
+Overview.MenuDataAuthors=&amp;Author manager
+
+Overview.MenuDataPublications=&amp;Publication manager
+
+Publication.Add.SaveButton=Save publication
+
 Message.DeleteRecords={0} records will be deleted.
 
 Message.DeleteRecordsTT=Warning
@@ -1061,3 +1124,5 @@
 Scheda.ProgressTitle=Creating schedas
 
 Overview.Refresh.ProgressTitle=Loading data
+
+Overview.MenuFileLogin=&amp;Login

Modified: trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties
===================================================================
--- trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties	2006-05-30 03:13:04 UTC (rev 393)
@@ -305,77 +305,77 @@
 
 errorAlreadyBoundException = Na zadan\u99d1 portu ji? b??\ufffd jin\ufffd server.\n Vyberte pros\u5307 jin\ufffd port a zkuste to znovu. 
 errorAlreadyBoundExceptionTitle = Kolize serveru
-authorList=Seznam autor\u016f
+Author.list=Seznam autor\u016F
 
-addAuthorBtn=P\u0159idej autora
+Author.AddButton=P\u0159idej autora
 
-editAuthorBtn=Uprav autora
+Author.EditButton=Uprav autora
 
-deleteAuthorBtn=Sma\u017e autora
+Author.DeleteButton=Sma\u017E autora
 
-displayRows=Zobrazit \u0159\u00e1dk\u016f
+Author.RowsToDisplay=Zobrazit \u0159\u00E1dk\u016F
 
-searchAuthorsLbl=Vyhled\u00e1v\u00e1n\u00ed autor\u016f
+Author.SearchLabel=Vyhled\u00E1v\u00E1n\u00ED autor\u016F
 
-searchAuthorsBtn=Hledej autory
+Author.SearchButton=Hledej autory
 
-authorNameLbl=Jm\u00e9no\:
+Author.Search.Name=Jm\u00E9no\:
 
-authorOrganizationLbl=Organizace\:
+Author.Search.Organization=Organizace\:
 
-authorRoleLbl=Role\:
+Author.Search.Role=Role\:
 
-authorEmailLbl=Email\:
+Author.Search.Email=Email\:
 
-sortingLbl=Uspo\u0159\u00e1d\u00e1n\u00ed
+Author.Sorting=Uspo\u0159\u00E1d\u00E1n\u00ED
 
-authorName=Jm\u00e9no autora
+Author.Sort.Name=Jm\u00E9no autora
 
-authorURL=URL
+Author.Sort.Url=URL
 
-authorPhone=Telefonn\u00ed \u010d\u00edslo
+Author.Sort.Phone=Telefonn\u00ED \u010D\u00EDslo
 
-authorEmail=Email
+Author.Sort.Email=Email
 
-authorRole=Role
+Author.Sort.Organization=Organizace
 
-authorOrganization=Organizace
+Author.Table.Organization=Organizace
 
-descending=Sestupn\u011b
+Author.Descending=Sestupn\u011B
 
-ascending=Vzestupn\u011b
+Author.Ascending=Vzestupn\u011B
 
-sortByLbl=Uspo\u0159\u00e1dat podle
+Author.SortBy=Uspo\u0159\u00E1dat podle
 
 authorManager=Spr\u00e1va Autor\u016f
 
-addAuthorTitle=P\u0159idej autora
+Author.Add.Title=P\u0159idej autora
 
 editAuthorTitle=Uprav autora
 
-saveAuthorBtn=Ulo\u017e autora
+Author.Add.SaveButton=Ulo\u017E autora
 
 closeBtn=Zav\u0159i
 
 helpBtn=Pomoc
 
-requiredFieldLbl=* Povinn\u00e1 polo\u017eka
+Author.Add.RequiredFieldLabel=* Povinn\u00E1 polo\u017Eka
 
-addAuthorNameLbl=Jm\u00e9no autora\:
+Author.Add.Name=Jm\u00E9no autora\:
 
-addAuthorOrganizationLbl=Organizace\:
+Author.Add.Organization=Organizace\:
 
-addAuthorRoleLbl=Role\:
+Author.Add.Role=Role\:
 
-addAuthorAddressLbl=Adresa\:
+Author.Add.Address=Adresa\:
 
-addAuthorPhoneLbl=Telefonn\u00ed \u010d\u00edslo\:
+Author.Add.Phone=Telefonn\u00ED \u010D\u00EDslo\:
 
-addAuthorEmailLbl=Email\:
+Author.Add.Email=Email\:
 
-addAuthorUrlLbl=URL\:
+Author.Add.Url=URL\:
 
-addAuthorNoteLbl=Pozn\u00e1mka\:
+Author.Add.Note=Pozn\u00E1mka\:
 
 publicationUrlTitle=URL
 
@@ -698,6 +698,42 @@
 
 Message.LoadingOverviewData=Nahr\u00e1v\u00e1m n\u00e1lezov\u00e1 data
 
+#Title of the error message when name of the author is not given
+Author.Add.MissingCompulsoryFieldTitle=Missing compulsory field
+
+Author.Add.MissingCompulsoryField=Name of the author is a compulsory field. Please fill it in.
+
+Author.Table.Name=Name of the author
+
+Author.Table.Url=URL
+
+Author.Table.Email=Email
+
+Author.Table.Phone=Phone number
+
+Author.Table.Role=Role of the author
+
+#Title of the window with the error message
+Common.ErrorMessageTitle=Error
+
+Author.ConfirmDelete=Selected author will be deleted
+
+Author.ConfirmDeleteTitle=Delete author
+
+Author.NoAuthorSelected=Please select at least one author from the list
+
+Author.NoAuthorSelectedTitle=No author selected
+
+Common.Close=Zav\u0159i
+
+Author.Sort.Role=Role
+
+Overview.MenuDataAuthors=Spr\u00E1va &amp;autor\u016F
+
+Overview.MenuDataPublications=Spr\u00E1va &amp;publikac\u00ED
+
+Publication.Add.SaveButton=Ulo\u017E publikaci
+
 Message.DeleteRecords=Bude smaz\u00e1no {0} z\u00e1znam\u016f.
 
 Message.DeleteRecordsTT=Upozorn\u011bn\u00ed
@@ -725,3 +761,5 @@
 Scheda.ProgressTitle=Vytv\u00E1\u0159\u00EDm schedy
 
 Overview.Refresh.ProgressTitle=Nahr\u00E1v\u00E1m data
+
+Overview.MenuFileLogin=&amp;P\u0159ihl\u00E1\u0161en\u00ED

Modified: trunk/src/net/sf/plantlore/l10n/Plantlore_en.properties
===================================================================
--- trunk/src/net/sf/plantlore/l10n/Plantlore_en.properties	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/l10n/Plantlore_en.properties	2006-05-30 03:13:04 UTC (rev 393)
@@ -19,7 +19,7 @@
 Overview.MenuDataSearchTT=Invokes the search dialog
 Overview.MenuDataAuthors=&amp;Author manager
 Overview.MenuDataHistory=&amp;History
-Overview.MenuFileLogin = Login
+Overview.MenuFileLogin = &amp;Login
 
 Overview.Scheda = Scheda
 Overview.History = History
@@ -294,8 +294,8 @@
 detailsHistory = Details
 clearHistory = Clear history
 #History - information about result and displayed rows
-totalResult = Total results:
-displayed = Displayed rows:
+Author.TotalResults=Total results:
+Author.DisplayedRowsLabel=Displayed rows:
 toDisplay = Rows to display:
 #History - Title of table columns
 historyColX = X
@@ -429,77 +429,77 @@
 
 
 
-authorList=List of authors
+Author.list=List of authors
 
-addAuthorBtn=Add author
+Author.AddButton=Add author
 
-editAuthorBtn=Edit author
+Author.EditButton=Edit author
 
-deleteAuthorBtn=Delete author
+Author.DeleteButton=Delete author
 
-displayRows=Rows to display
+Author.RowsToDisplay=Rows to display
 
-searchAuthorsLbl=Search authors
+Author.SearchLabel=Search authors
 
-searchAuthorsBtn=Search authors
+Author.SearchButton=Search authors
 
-authorNameLbl=Name\:
+Author.Search.Name=Name\:
 
-authorOrganizationLbl=Organization\:
+Author.Search.Organization=Organization\:
 
-authorRoleLbl=Role\:
+Author.Search.Role=Role\:
 
-authorEmailLbl=Email\:
+Author.Search.Email=Email\:
 
-sortingLbl=Sorting
+Author.Sorting=Sorting
 
-authorName=Author name
+Author.Sort.Name=Author name
 
-authorURL=URL
+Author.Sort.Url=URL
 
-authorPhone=Phone Number
+Author.Sort.Phone=Phone Number
 
-authorEmail=Email
+Author.Sort.Email=Email
 
-authorRole=Role
+Author.Sort.Organization=Organization
 
-authorOrganization=Organization
+Author.Table.Organization=Organization
 
-descending=Descending
+Author.Descending=Descending
 
-ascending=Ascending
+Author.Ascending=Ascending
 
-sortByLbl=Sort by
+Author.SortBy=Sort by
 
 authorManager=Author Manager
 
-addAuthorTitle=Add author
+Author.Add.Title=Add author
 
 editAuthorTitle=Edit author
 
-saveAuthorBtn=Save author
+Author.Add.SaveButton=Save author
 
 closeBtn=Close
 
 helpBtn=Help
 
-requiredFieldLbl=* Indicates required field
+Author.Add.RequiredFieldLabel=* Indicates required field
 
-addAuthorNameLbl=Name of author\:
+Author.Add.Name=Name of author\:
 
-addAuthorOrganizationLbl=Organization\:
+Author.Add.Organization=Organization\:
 
-addAuthorRoleLbl=Role\:
+Author.Add.Role=Role\:
 
-addAuthorAddressLbl=Address\:
+Author.Add.Address=Address\:
 
-addAuthorPhoneLbl=Phone number\:
+Author.Add.Phone=Phone number\:
 
-addAuthorEmailLbl=Email\:
+Author.Add.Email=Email\:
 
-addAuthorUrlLbl=URL\:
+Author.Add.Url=URL\:
 
-addAuthorNoteLbl=Note\:
+Author.Add.Note=Note\:
 
 publicationUrlTitle=URL
 
@@ -770,6 +770,40 @@
 
 Message.LoadingOverviewData=Loading occurrence records
 
+#Title of the error message when name of the author is not given
+Author.Add.MissingCompulsoryFieldTitle=Missing compulsory field
+
+Author.Add.MissingCompulsoryField=Name of the author is a compulsory field. Please fill it in.
+
+Author.Table.Name=Name of the author
+
+Author.Table.Url=URL
+
+Author.Table.Email=Email
+
+Author.Table.Phone=Phone number
+
+Author.Table.Role=Role of the author
+
+#Title of the window with the error message
+Common.ErrorMessageTitle=Error
+
+Author.ConfirmDelete=Selected author will be deleted
+
+Author.ConfirmDeleteTitle=Delete author
+
+Author.NoAuthorSelected=Please select at least one author from the list
+
+Author.NoAuthorSelectedTitle=No author selected
+
+Common.Close=Close
+
+Author.Sort.Role=Role
+
+Overview.MenuDataPublications=&amp;Publication manager
+
+Publication.Add.SaveButton=Save publication
+
 Message.DeleteRecords={0} records will be deleted.
 
 Message.DeleteRecordsTT=Warning

Modified: trunk/src/net/sf/plantlore/middleware/DBLayer.java
===================================================================
--- trunk/src/net/sf/plantlore/middleware/DBLayer.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/middleware/DBLayer.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -185,5 +185,7 @@
     public void executeDeleteInTransaction(Object data) throws DBLayerException, RemoteException;
                         
     public void shutdown() throws RemoteException;
+    
+    public void destroy();
         
 }

Modified: trunk/src/net/sf/plantlore/server/HibernateDBLayer.java
===================================================================
--- trunk/src/net/sf/plantlore/server/HibernateDBLayer.java	2006-05-30 00:29:01 UTC (rev 392)
+++ trunk/src/net/sf/plantlore/server/HibernateDBLayer.java	2006-05-30 03:13:04 UTC (rev 393)
@@ -1787,9 +1787,14 @@
     	//for each unfinished (unclosed) result do close(result)  
     	
     }
+   
+    // TODO: IS IT OK TO OVERRIDE THIS METHOD?
+    public void destroy() {        
+        if (this.queries.size() &gt; 0) {
+            logger.warn(this.queries.size()+&quot; queries were left unclosed in the DBLayer&quot;);
+        }
+    }
     
-    
-    
     //===============================================================
     // What happens to unreferenced objects? They get buried by the untertaker!
     
@@ -1811,5 +1816,5 @@
 		if(undertaker != null) undertaker.bury(this); 
 	}
 	//===============================================================
-	      
+	              
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000449.html">[Plantlore-dev] r392 - trunk/src/net/sf/plantlore/client
</A></li>
	<LI>Next message: <A HREF="000451.html">[Plantlore-dev] Kurzor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#450">[ date ]</a>
              <a href="thread.html#450">[ thread ]</a>
              <a href="subject.html#450">[ subject ]</a>
              <a href="author.html#450">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
