<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r478 - trunk/src/net/sf/plantlore/client/login
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r478%20-%20trunk/src/net/sf/plantlore/client/login&In-Reply-To=%3C200607310907.k6V97b0S030566%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000622.html">
   <LINK REL="Next"  HREF="000624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r478 - trunk/src/net/sf/plantlore/client/login</H1>
    <B>krater at mail.berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r478%20-%20trunk/src/net/sf/plantlore/client/login&In-Reply-To=%3C200607310907.k6V97b0S030566%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r478 - trunk/src/net/sf/plantlore/client/login">krater at mail.berlios.de
       </A><BR>
    <I>Mon Jul 31 11:07:37 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000622.html">[Plantlore-dev] r477 - in trunk/src/net/sf/plantlore/client/export:	. component
</A></li>
        <LI>Next message: <A HREF="000624.html">[Plantlore-dev] r479 - in	trunk/src/net/sf/plantlore/client/imports: . table
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#623">[ date ]</a>
              <a href="thread.html#623">[ thread ]</a>
              <a href="subject.html#623">[ subject ]</a>
              <a href="author.html#623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: krater
Date: 2006-07-31 11:07:36 +0200 (Mon, 31 Jul 2006)
New Revision: 478

Added:
   trunk/src/net/sf/plantlore/client/login/ItemCtrl2.java
   trunk/src/net/sf/plantlore/client/login/ItemView2.form
   trunk/src/net/sf/plantlore/client/login/ItemView2.java
Modified:
   trunk/src/net/sf/plantlore/client/login/AuthCtrl.java
   trunk/src/net/sf/plantlore/client/login/AuthView.form
   trunk/src/net/sf/plantlore/client/login/AuthView.java
   trunk/src/net/sf/plantlore/client/login/ItemCtrl.java
   trunk/src/net/sf/plantlore/client/login/ItemView.java
   trunk/src/net/sf/plantlore/client/login/Login.java
   trunk/src/net/sf/plantlore/client/login/LoginCtrl.java
   trunk/src/net/sf/plantlore/client/login/LoginView.form
   trunk/src/net/sf/plantlore/client/login/LoginView.java
Log:
The Login rewritten to conform several RFEs and to use the Task/ProgressBar.
Files ending with '2' are meant to replace their counterparts (those are meant to be deleted).

Modified: trunk/src/net/sf/plantlore/client/login/AuthCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/AuthCtrl.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/AuthCtrl.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -5,6 +5,10 @@
 
 import javax.swing.AbstractAction;
 
+import net.sf.plantlore.common.DefaultCancelAction;
+import net.sf.plantlore.common.DefaultProgressBar;
+import net.sf.plantlore.common.DefaultProgressBarEx;
+import net.sf.plantlore.common.Task;
 import net.sf.plantlore.l10n.L10n;
 
 
@@ -15,11 +19,11 @@
 	
 	public AuthCtrl(Login login, AuthView authview) {
 		this.model = login; this.view = authview;
-		view.next.setAction(new NextAction());
-		view.discard.setAction(new CancelAction());
+		view.next.setAction(new NextAction2());
+		view.discard.setAction( new DefaultCancelAction(view) );
 	}
 
-	
+	@Deprecated
 	class NextAction extends AbstractAction {
 		public NextAction() {
 			putValue(SHORT_DESCRIPTION, L10n.getString(&quot;Login.AuthorizeTT&quot;));
@@ -35,6 +39,26 @@
 		}
 	}
 	
+	
+	class NextAction2 extends AbstractAction {
+		public NextAction2() {
+			putValue(SHORT_DESCRIPTION, L10n.getString(&quot;Login.AuthorizeTT&quot;));
+			putValue(NAME, L10n.getString(&quot;Login.Authorize&quot;));
+		}
+		public void actionPerformed(ActionEvent arg0) {
+			//view.next.setEnabled(false);
+			//view.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
+			//view.discard.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
+			String user = ((javax.swing.JTextField)view.user.getEditor().getEditorComponent()).getText();
+
+			Task connect = model.createConnectionTask(user, new String(view.password.getPassword()));
+			/*DefaultProgressBar bar = */new DefaultProgressBarEx(connect, view, true);
+			//bar.unlockComponents(view.next);
+			connect.start();
+		}
+	}
+	
+	@Deprecated
 	class CancelAction extends AbstractAction {
 		public CancelAction() {
 			//putValue(SHORT_DESCRIPTION, L10n.getString(&quot;Login.DiscardTT&quot;));

Modified: trunk/src/net/sf/plantlore/client/login/AuthView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/AuthView.form	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/AuthView.form	2006-07-31 09:07:36 UTC (rev 478)
@@ -21,10 +21,10 @@
   &lt;Layout&gt;
     &lt;DimensionLayout dim=&quot;0&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;Component id=&quot;jLabel1&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;jLabel2&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -43,7 +43,6 @@
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
-          &lt;Component id=&quot;status&quot; alignment=&quot;0&quot; pref=&quot;298&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
@@ -65,7 +64,6 @@
                   &lt;Component id=&quot;discard&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;status&quot; min=&quot;-2&quot; pref=&quot;22&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -112,19 +110,6 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
-    &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;status&quot;&gt;
-      &lt;Properties&gt;
-        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot; ...&quot;/&gt;
-        &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
-          &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.BevelBorderInfo&quot;&gt;
-            &lt;BevelBorder bevelType=&quot;1&quot;/&gt;
-          &lt;/Border&gt;
-        &lt;/Property&gt;
-      &lt;/Properties&gt;
-      &lt;AuxValues&gt;
-        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
-      &lt;/AuxValues&gt;
-    &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;

Modified: trunk/src/net/sf/plantlore/client/login/AuthView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/AuthView.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/AuthView.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -11,8 +11,6 @@
 import java.util.Observable;
 import java.util.Observer;
 
-import javax.swing.JOptionPane;
-
 import net.sf.plantlore.common.AutoComboBox;
 import net.sf.plantlore.l10n.L10n;
 import net.sf.plantlore.middleware.DBLayer;
@@ -46,7 +44,6 @@
         ((AutoComboBox)user).setStrict(false);
         password = new javax.swing.JPasswordField();
         next = new javax.swing.JButton();
-        status = new javax.swing.JLabel();
         discard = new javax.swing.JButton();
 
         setTitle(L10n.getString(&quot;Login.Authentication&quot;));
@@ -61,19 +58,16 @@
 
         next.setText(L10n.getString(&quot;Login.Authorize&quot;));
 
-        status.setText(&quot; ...&quot;);
-        status.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED));
-
         discard.setText(L10n.getString(&quot;Common.Cancel&quot;));
 
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+            .add(layout.createSequentialGroup()
                 .addContainerGap()
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                    .add(layout.createSequentialGroup()
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                         .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                             .add(jLabel1)
                             .add(jLabel2))
@@ -86,7 +80,6 @@
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(next)))
                 .addContainerGap())
-            .add(status, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
         );
 
         layout.linkSize(new java.awt.Component[] {discard, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
@@ -106,8 +99,7 @@
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(next)
                     .add(discard))
-                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                .add(status, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 22, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addContainerGap())
         );
         pack();
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
@@ -136,22 +128,18 @@
     				setTitle(L10n.getString(&quot;Login.ConnectingTo&quot;) + &quot; &quot; + selected.toString());
     			}
     			// Exception! We must display the exception to the user.
-    			else if(arg instanceof Exception) {
-    				status.setText(L10n.getString(&quot;Login.Failed&quot;));
-    				next.setEnabled(true);
-    				setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
-    				JOptionPane.showMessageDialog(
-    						null, 
-    						((Exception)arg).getMessage(), 
-    						L10n.getString(&quot;Error.LoginFailed&quot;), 
-    						JOptionPane.ERROR_MESSAGE);
-    			}
+//    			else if(arg instanceof Exception) {
+//    				next.setEnabled(true);
+//    				setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
+//    				JOptionPane.showMessageDialog(
+//    						null, 
+//    						((Exception)arg).getMessage(), 
+//    						L10n.getString(&quot;Error.LoginFailed&quot;), 
+//    						JOptionPane.ERROR_MESSAGE);
+//    			}
     			// The database layer has been created, we are no longer neccessary
     			else if(arg instanceof DBLayer)
     				setVisible(false); 
-    			// Some update information - display them in the status bar.
-    			else if(arg instanceof String) 
-    				status.setText(&quot;  &quot; + (String)arg);
     		}
     	});
 	}
@@ -163,7 +151,6 @@
     private javax.swing.JLabel jLabel2;
     protected javax.swing.JButton next;
     protected javax.swing.JPasswordField password;
-    protected javax.swing.JLabel status;
     protected javax.swing.JComboBox user;
     // End of variables declaration//GEN-END:variables
 

Modified: trunk/src/net/sf/plantlore/client/login/ItemCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemCtrl.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/ItemCtrl.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -7,6 +7,7 @@
 
 import net.sf.plantlore.l10n.L10n;
 
<A HREF="https://lists.berlios.de/mailman/listinfo/plantlore-dev">+ at Deprecated</A>
 public class ItemCtrl {
 	
 	private Login model;

Added: trunk/src/net/sf/plantlore/client/login/ItemCtrl2.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemCtrl2.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/ItemCtrl2.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -0,0 +1,189 @@
+package net.sf.plantlore.client.login;
+
+import java.awt.event.ActionEvent;
+import javax.swing.AbstractAction;
+import javax.swing.JOptionPane;
+
+import net.sf.plantlore.common.DefaultCancelAction;
+import net.sf.plantlore.l10n.L10n;
+
+public class ItemCtrl2 {
+	
+	private Login model;
+	private ItemView2 view;
+	
+	public enum Mode { ADD, EDIT };
+	
+	private Mode mode = Mode.ADD;
+	
+	
+	// Switch between the ADD/EDIT behaviour
+	public void setMode(Mode m) {
+		this.mode = m;
+		switch(m) {
+		case ADD:
+			view.aliasLocal.setText(&quot;&quot;);
+			view.aliasRemote.setText(&quot;&quot;);
+			view.host.setText(&quot;&quot;);
+			view.port.setText(&quot;&quot;);
+			((javax.swing.JTextField)view.databaseEngine.getEditor().getEditorComponent()).setText(&quot;&quot;);
+			view.databaseIdentifier.setText(&quot;&quot;);
+			view.databasePort.setText(&quot;&quot;);
+			view.databaseParameter.setText(&quot;&quot;);
+			view.databaseMasterUser.setText(&quot;&quot;);
+			view.databaseMasterPassword.setText(&quot;&quot;);
+			
+			view.setTitle(L10n.getString(&quot;Login.AddTitle&quot;));
+			view.next.setText(L10n.getString(&quot;Login.Add&quot;));
+			view.next.setToolTipText(L10n.getString(&quot;Login.AddTT&quot;));
+			break;
+		case EDIT:
+			view.setTitle(L10n.getString(&quot;Login.EditTitle&quot;));
+			view.next.setText(L10n.getString(&quot;Login.Change&quot;));
+			view.next.setToolTipText(L10n.getString(&quot;Login.ChangeTT&quot;));
+			view.next.setEnabled(true);
+			break;
+		}
+	}
+	
+	
+	public ItemCtrl2(Login login, ItemView2 itemview) {
+		this.model = login; this.view = itemview;
+		view.next.setAction(new NextAction());
+		view.discard.setAction(
+				new DefaultCancelAction(
+						itemview, 
+						L10n.getString(&quot;Login.Discard&quot;), 
+						L10n.getString(&quot;Login.DiscardTT&quot;)));
+	}
+	
+	
+	
+
+	
+	
+	class NextAction extends AbstractAction {
+		
+		public NextAction() {
+			putValue(SHORT_DESCRIPTION, L10n.getString(&quot;Login.ChangeTT&quot;));
+			putValue(NAME, L10n.getString(&quot;Login.Change&quot;));
+		}
+		
+		public void actionPerformed(ActionEvent arg0) {
+			
+			switch( view.jTabbedPane1.getSelectedIndex() ) {
+			//-------------------------------------------------
+			// Direct Connection (local database only)
+			//-------------------------------------------------
+			case 0:
+				// Validity check...
+				String dbEngine = ((javax.swing.JTextField)view.databaseEngine.getEditor().getEditorComponent()).getText(),
+				masterPassword = new String(view.databaseMasterPassword.getPassword());
+				int dbPort = -1;
+				try {
+					dbPort = Integer.parseInt(view.databasePort.getText());
+				} catch(NumberFormatException e) {
+					// Nothing we can do.
+				}
+				
+				if( dbEngine.length() == 0 || 
+						view.databaseIdentifier.getText().length() == 0 ||
+						dbPort &lt; 0 ||
+						view.databaseMasterUser.getText().length() == 0 ||
+						masterPassword.length() == 0 ||
+						view.aliasLocal.getText().length() == 0 ) {
+					// Announce the problem.
+					JOptionPane.showMessageDialog(
+    						view, 
+    						L10n.getString(&quot;Error.MissingSeveralCompulsoryFields&quot;), 
+    						L10n.getString(&quot;Error.MissingCompulsoryFieldTitle&quot;), 
+    						JOptionPane.ERROR_MESSAGE);
+					return;
+				}
+					
+				// The values appear to be sufficient.
+				switch(mode) {
+				case ADD:
+					model.createRecord(
+							view.aliasLocal.getText(),
+							null,
+							0,
+							dbEngine,
+							dbPort,
+							view.databaseIdentifier.getText(),
+							view.databaseParameter.getText(),
+							view.databaseMasterUser.getText(),
+							masterPassword
+					);
+					break;
+				case EDIT:
+					model.updateSelectedRecord(
+							view.aliasLocal.getText(),
+							null,
+							0,
+							dbEngine,
+							dbPort,
+							view.databaseIdentifier.getText(),
+							view.databaseParameter.getText(),
+							view.databaseMasterUser.getText(),
+							masterPassword
+					);
+					break;
+				}
+				
+				
+				break;
+				
+			//-------------------------------------------------
+			// Connection to a remote server
+			//-------------------------------------------------
+			case 1:
+				int port = 1099;
+				try {
+					port = Integer.parseInt(view.port.getText());
+				} catch(NumberFormatException e) {
+					// Never mind, use the default port.
+				}
+				
+				// Validity check...
+				if( port &lt; 0 || view.aliasRemote.getText().length() == 0 || 
+						view.host.getText().length() == 0 ) {
+					// Announce the problem.
+					JOptionPane.showMessageDialog(
+    						view, 
+    						L10n.getString(&quot;Error.MissingSeveralCompulsoryFields&quot;), 
+    						L10n.getString(&quot;Error.MissingCompulsoryFieldTitle&quot;), 
+    						JOptionPane.ERROR_MESSAGE);
+					return;
+				}
+				
+				// The values appear to be sufficient.
+				switch(mode) {
+				case ADD:
+					model.createRecord(
+							view.aliasRemote.getText(),
+							view.host.getText(),
+							port,
+							null, 0, null, null, null, null
+					);
+					break;
+				case EDIT:
+					model.updateSelectedRecord(
+							view.aliasRemote.getText(),
+							view.host.getText(),
+							port,
+							null, 0, null, null, null, null
+					);
+					break;
+				}
+				
+				break;
+			}
+			
+			view.setVisible(false);
+			setMode(Mode.EDIT);
+		}
+	}
+	
+
+}

Modified: trunk/src/net/sf/plantlore/client/login/ItemView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/ItemView.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -17,6 +17,7 @@
  *
  * @author  yaa
  */
<A HREF="https://lists.berlios.de/mailman/listinfo/plantlore-dev">+ at Deprecated</A>
 public class ItemView extends javax.swing.JDialog implements Observer {
 	
 	private Login model;

Added: trunk/src/net/sf/plantlore/client/login/ItemView2.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView2.form	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/ItemView2.form	2006-07-31 09:07:36 UTC (rev 478)
@@ -0,0 +1,420 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
+
+&lt;Form version=&quot;1.3&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
+  &lt;Properties&gt;
+    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;3&quot;/&gt;
+  &lt;/Properties&gt;
+  &lt;SyntheticProperties&gt;
+    &lt;SyntheticProperty name=&quot;formSizePolicy&quot; type=&quot;int&quot; value=&quot;1&quot;/&gt;
+  &lt;/SyntheticProperties&gt;
+  &lt;AuxValues&gt;
+    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
+  &lt;/AuxValues&gt;
+
+  &lt;Layout&gt;
+    &lt;DimensionLayout dim=&quot;0&quot;&gt;
+      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;jTabbedPane1&quot; alignment=&quot;1&quot; pref=&quot;380&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;175&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;discard&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;next&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+      &lt;/Group&gt;
+    &lt;/DimensionLayout&gt;
+    &lt;DimensionLayout dim=&quot;1&quot;&gt;
+      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jTabbedPane1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;discard&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+      &lt;/Group&gt;
+    &lt;/DimensionLayout&gt;
+  &lt;/Layout&gt;
+  &lt;SubComponents&gt;
+    &lt;Container class=&quot;javax.swing.JTabbedPane&quot; name=&quot;jTabbedPane1&quot;&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+
+      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot;/&gt;
+      &lt;SubComponents&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel1&quot;&gt;
+          &lt;Constraints&gt;
+            &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
+              &lt;JTabbedPaneConstraints tabName=&quot;Direct connection (local)&quot;&gt;
+                &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.LocalDatabase&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/JTabbedPaneConstraints&gt;
+            &lt;/Constraint&gt;
+          &lt;/Constraints&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel1&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel3&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel4&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel5&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel6&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel7&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel2&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;databaseMasterUser&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseParameter&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databasePort&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseIdentifier&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseEngine&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;aliasLocal&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;databaseMasterPassword&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel1&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;aliasLocal&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;databaseEngine&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel3&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseIdentifier&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel4&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databasePort&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel5&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseParameter&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel6&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseMasterUser&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel7&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseMasterPassword&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel1&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.Alias&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel2&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseEngine&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel3&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseIdentifier&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel4&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabasePort&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel5&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseParameter&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel6&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.MasterUser&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel7&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.MasterPassword&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;aliasLocal&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.AliasTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;databaseIdentifier&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseIdentifierTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;databasePort&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabasePortTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;databaseParameter&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseParameterTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;databaseMasterUser&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.MasterUserTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;databaseEngine&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;editable&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
+                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                  &lt;StringArray count=&quot;4&quot;&gt;
+                    &lt;StringItem index=&quot;0&quot; value=&quot;postgresql&quot;/&gt;
+                    &lt;StringItem index=&quot;1&quot; value=&quot;firebirdsql&quot;/&gt;
+                    &lt;StringItem index=&quot;2&quot; value=&quot;mysql&quot;/&gt;
+                    &lt;StringItem index=&quot;3&quot; value=&quot;oraclesql&quot;/&gt;
+                  &lt;/StringArray&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseEngineTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JPasswordField&quot; name=&quot;databaseMasterPassword&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.MasterPasswordTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel2&quot;&gt;
+          &lt;Constraints&gt;
+            &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
+              &lt;JTabbedPaneConstraints tabName=&quot;Remote connection&quot;&gt;
+                &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.RemoteDabatase&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/JTabbedPaneConstraints&gt;
+            &lt;/Constraint&gt;
+          &lt;/Constraints&gt;
+
+          &lt;Layout&gt;
+            &lt;DimensionLayout dim=&quot;0&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel8&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel9&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jLabel10&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;port&quot; alignment=&quot;0&quot; pref=&quot;303&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;aliasRemote&quot; alignment=&quot;1&quot; pref=&quot;303&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;host&quot; pref=&quot;303&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+            &lt;DimensionLayout dim=&quot;1&quot;&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel8&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;aliasRemote&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel9&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;host&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jLabel10&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;port&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace pref=&quot;112&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+              &lt;/Group&gt;
+            &lt;/DimensionLayout&gt;
+          &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel8&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.Alias&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel9&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.HostName&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel10&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.Port&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;aliasRemote&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.AliasTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;host&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.HostNameTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;port&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.PortTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+              &lt;AuxValues&gt;
+                &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+              &lt;/AuxValues&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
+        &lt;/Container&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;next&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.Change&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.Discard&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;help&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Help&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
+  &lt;/SubComponents&gt;
+&lt;/Form&gt;

Added: trunk/src/net/sf/plantlore/client/login/ItemView2.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView2.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/ItemView2.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -0,0 +1,315 @@
+/*
+ * ItemView2.java
+ *
+ * Created on 25. &#269;ervenec 2006, 16:25
+ */
+
+package net.sf.plantlore.client.login;
+
+import java.awt.Dialog;
+import java.util.Observable;
+import java.util.Observer;
+
+import net.sf.plantlore.l10n.L10n;
+
+/**
+ *
+ * @author  yaa
+ */
+public class ItemView2 extends javax.swing.JDialog implements Observer {
+    
+	private Login model;
+	
+    /** Creates new form ItemView2 */
+    public ItemView2(Dialog parent, Login model) {
+    	super(parent, true);
+    	
+		this.model = model;
+		model.addObserver(this);
+		initComponents();
+		getRootPane().setDefaultButton(next);
+		setLocationRelativeTo(null);
+    }
+    
+    /** This method is called from within the constructor to
+     * initialize the form.
+     * WARNING: Do NOT modify this code. The content of this method is
+     * always regenerated by the Form Editor.
+     */
+    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Generated Code &quot;&gt;//GEN-BEGIN:initComponents
+    private void initComponents() {
+        jTabbedPane1 = new javax.swing.JTabbedPane();
+        jPanel1 = new javax.swing.JPanel();
+        jLabel1 = new javax.swing.JLabel();
+        jLabel2 = new javax.swing.JLabel();
+        jLabel3 = new javax.swing.JLabel();
+        jLabel4 = new javax.swing.JLabel();
+        jLabel5 = new javax.swing.JLabel();
+        jLabel6 = new javax.swing.JLabel();
+        jLabel7 = new javax.swing.JLabel();
+        aliasLocal = new javax.swing.JTextField();
+        databaseIdentifier = new javax.swing.JTextField();
+        databasePort = new javax.swing.JTextField();
+        databaseParameter = new javax.swing.JTextField();
+        databaseMasterUser = new javax.swing.JTextField();
+        databaseEngine = new javax.swing.JComboBox();
+        databaseMasterPassword = new javax.swing.JPasswordField();
+        jPanel2 = new javax.swing.JPanel();
+        jLabel8 = new javax.swing.JLabel();
+        jLabel9 = new javax.swing.JLabel();
+        jLabel10 = new javax.swing.JLabel();
+        aliasRemote = new javax.swing.JTextField();
+        host = new javax.swing.JTextField();
+        port = new javax.swing.JTextField();
+        next = new javax.swing.JButton();
+        discard = new javax.swing.JButton();
+        help = new javax.swing.JButton();
+
+        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
+        jLabel1.setText(L10n.getString(&quot;Login.Alias&quot;));
+
+        jLabel2.setText(L10n.getString(&quot;Login.DatabaseEngine&quot;));
+
+        jLabel3.setText(L10n.getString(&quot;Login.DatabaseIdentifier&quot;));
+
+        jLabel4.setText(L10n.getString(&quot;Login.DatabasePort&quot;));
+
+        jLabel5.setText(L10n.getString(&quot;Login.DatabaseParameter&quot;));
+
+        jLabel6.setText(L10n.getString(&quot;Login.MasterUser&quot;));
+
+        jLabel7.setText(L10n.getString(&quot;Login.MasterPassword&quot;));
+
+        aliasLocal.setToolTipText(L10n.getString(&quot;Login.AliasTT&quot;));
+
+        databaseIdentifier.setToolTipText(L10n.getString(&quot;Login.DatabaseIdentifierTT&quot;));
+
+        databasePort.setToolTipText(L10n.getString(&quot;Login.DatabasePortTT&quot;));
+
+        databaseParameter.setToolTipText(L10n.getString(&quot;Login.DatabaseParameterTT&quot;));
+
+        databaseMasterUser.setToolTipText(L10n.getString(&quot;Login.MasterUserTT&quot;));
+
+        databaseEngine.setEditable(true);
+        databaseEngine.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;postgresql&quot;, &quot;firebirdsql&quot;, &quot;mysql&quot;, &quot;oraclesql&quot; }));
+        databaseEngine.setToolTipText(L10n.getString(&quot;Login.DatabaseEngineTT&quot;));
+
+        databaseMasterPassword.setToolTipText(L10n.getString(&quot;Login.MasterPasswordTT&quot;));
+
+        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
+        jPanel1.setLayout(jPanel1Layout);
+        jPanel1Layout.setHorizontalGroup(
+            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel1Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jLabel1)
+                    .add(jLabel3)
+                    .add(jLabel4)
+                    .add(jLabel5)
+                    .add(jLabel6)
+                    .add(jLabel7)
+                    .add(jLabel2))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(databaseMasterUser, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
+                    .add(databaseParameter, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
+                    .add(databasePort, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
+                    .add(databaseIdentifier, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
+                    .add(databaseEngine, 0, 270, Short.MAX_VALUE)
+                    .add(aliasLocal, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel1Layout.createSequentialGroup()
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(databaseMasterPassword, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)))
+                .addContainerGap())
+        );
+        jPanel1Layout.setVerticalGroup(
+            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel1Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel1)
+                    .add(aliasLocal, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(databaseEngine, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(jLabel2))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel3)
+                    .add(databaseIdentifier, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel4)
+                    .add(databasePort, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel5)
+                    .add(databaseParameter, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel6)
+                    .add(databaseMasterUser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel7)
+                    .add(databaseMasterPassword, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+        );
+        jTabbedPane1.addTab(L10n.getString(&quot;Login.LocalDatabase&quot;), jPanel1);
+
+        jLabel8.setText(L10n.getString(&quot;Login.Alias&quot;));
+
+        jLabel9.setText(L10n.getString(&quot;Login.HostName&quot;));
+
+        jLabel10.setText(L10n.getString(&quot;Login.Port&quot;));
+
+        aliasRemote.setToolTipText(L10n.getString(&quot;Login.AliasTT&quot;));
+
+        host.setToolTipText(L10n.getString(&quot;Login.HostNameTT&quot;));
+
+        port.setToolTipText(L10n.getString(&quot;Login.PortTT&quot;));
+
+        org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
+        jPanel2.setLayout(jPanel2Layout);
+        jPanel2Layout.setHorizontalGroup(
+            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel2Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(jLabel8)
+                    .add(jLabel9)
+                    .add(jLabel10))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(port, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 303, Short.MAX_VALUE)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, aliasRemote, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 303, Short.MAX_VALUE)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel2Layout.createSequentialGroup()
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(host, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 303, Short.MAX_VALUE)))
+                .addContainerGap())
+        );
+        jPanel2Layout.setVerticalGroup(
+            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(jPanel2Layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel8)
+                    .add(aliasRemote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel9)
+                    .add(host, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(jLabel10)
+                    .add(port, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                .addContainerGap(112, Short.MAX_VALUE))
+        );
+        jTabbedPane1.addTab(L10n.getString(&quot;Login.RemoteDabatase&quot;), jPanel2);
+
+        next.setText(L10n.getString(&quot;Login.Change&quot;));
+
+        discard.setText(L10n.getString(&quot;Login.Discard&quot;));
+
+        help.setText(L10n.getString(&quot;Common.Help&quot;));
+
+        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
+        getContentPane().setLayout(layout);
+        layout.setHorizontalGroup(
+            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(layout.createSequentialGroup()
+                .addContainerGap()
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jTabbedPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
+                    .add(layout.createSequentialGroup()
+                        .add(help)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 175, Short.MAX_VALUE)
+                        .add(discard)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(next)))
+                .addContainerGap())
+        );
+
+        layout.linkSize(new java.awt.Component[] {discard, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
+        layout.setVerticalGroup(
+            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
+            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                .addContainerGap()
+                .add(jTabbedPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(next)
+                    .add(discard)
+                    .add(help))
+                .addContainerGap())
+        );
+        pack();
+    }// &lt;/editor-fold&gt;//GEN-END:initComponents
+    
+    
+    /**
+     * Fill all fields with information obtained from the currently selected record.
+     */
+    public void update(Observable arg0, Object arg1) {
+		java.awt.EventQueue.invokeLater(new Runnable() {
+			public void run() {
+				DBInfo info = model.getSelected();
+				if(info != null) {
+					// Remote connection (via the Plantlore Server)
+					aliasRemote.setText(info.alias);
+					host.setText(info.host);
+					if(info.port &gt; 0) 
+						port.setText( Integer.toString(info.port) );
+					// Direct connection (without any contact with a server)
+					aliasLocal.setText(info.alias);
+					((javax.swing.JTextField)databaseEngine.getEditor().getEditorComponent()).setText(info.databaseType);
+					databaseIdentifier.setText(info.getDatabaseIdentifier());
+					if(info.databasePort &gt; 0)
+						databasePort.setText( Integer.toString(info.getDatabasePort()) );
+					databaseParameter.setText(info.getDatabaseParameter());
+					databaseMasterUser.setText(info.getMasterUser());
+					databaseMasterPassword.setText(info.getMasterPassword());
+					
+					if(info.host == null || info.host.length() == 0)
+						jTabbedPane1.setSelectedIndex(0);
+					else
+						jTabbedPane1.setSelectedIndex(1);
+						
+				}
+			}
+		});
+	}
+    
+        
+    // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JTextField aliasLocal;
+    protected javax.swing.JTextField aliasRemote;
+    protected javax.swing.JComboBox databaseEngine;
+    protected javax.swing.JTextField databaseIdentifier;
+    protected javax.swing.JPasswordField databaseMasterPassword;
+    protected javax.swing.JTextField databaseMasterUser;
+    protected javax.swing.JTextField databaseParameter;
+    protected javax.swing.JTextField databasePort;
+    protected javax.swing.JButton discard;
+    protected javax.swing.JButton help;
+    protected javax.swing.JTextField host;
+    private javax.swing.JLabel jLabel1;
+    private javax.swing.JLabel jLabel10;
+    private javax.swing.JLabel jLabel2;
+    private javax.swing.JLabel jLabel3;
+    private javax.swing.JLabel jLabel4;
+    private javax.swing.JLabel jLabel5;
+    private javax.swing.JLabel jLabel6;
+    private javax.swing.JLabel jLabel7;
+    private javax.swing.JLabel jLabel8;
+    private javax.swing.JLabel jLabel9;
+    private javax.swing.JPanel jPanel1;
+    private javax.swing.JPanel jPanel2;
+    protected javax.swing.JTabbedPane jTabbedPane1;
+    protected javax.swing.JButton next;
+    protected javax.swing.JTextField port;
+    // End of variables declaration//GEN-END:variables
+    
+}

Modified: trunk/src/net/sf/plantlore/client/login/Login.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/Login.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/Login.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -6,6 +6,7 @@
 import java.util.Observable;
 import net.sf.plantlore.client.MainConfig;
 import net.sf.plantlore.common.SwingWorker;
+import net.sf.plantlore.common.Task;
 import net.sf.plantlore.common.record.User;
 
 import org.apache.log4j.Logger;
@@ -228,15 +229,18 @@
 	 * @param name The account name (used to access the database).  
 	 * @param password The password to the account.
 	 */
+	@Deprecated
 	synchronized public void connectToSelected(final String name, final String password) {
 		
-		if(selected == null) {
+		final DBInfo selectedClone = selected.clone();
+		
+		if(selectedClone == null) {
 			logger.debug(&quot;The System cannot create a connection when nothing was selected!&quot;);
 			return;
 		}
 		
-		final DBInfo selectedClone = selected.clone();
 		
+		
 		worker = new SwingWorker() {
 			public Object construct() {
 				
@@ -293,9 +297,101 @@
 	
 	
 	/**
+	 * Once the connection is established and the database layer is
+	 * initialized, Login must inform its observers so that they can
+	 * update their database layers.
+	 */
+	private void announceConnection() {
+		setChanged(); 
+		notifyObservers(dblayer);
+	}
+	
+	
+	/**
+	 * Create a task that will try to forge the connection to the selected database. 
+	 * First, a new database layer is created,
+	 * and second, that database layer is initialized.
+	 * &lt;br/&gt;
+	 * &lt;b&gt;Warning:&lt;/b&gt;If there is a previously created DBLayer, 
+	 * it will be destroyed using the &lt;code&gt;logout()&lt;/code&gt; method. 
+	 * 	  
+	 * @param name The account name (used to access the database).  
+	 * @param password The password to the account.
+	 */
+	synchronized public Task createConnectionTask(final String name, final String password) {
+		if(selected == null) {
+			logger.debug(&quot;The System cannot create a connection when nothing was selected!&quot;);
+			return null;
+		}
+		
+		logout();
+		
+		final DBInfo selectedClone = selected.clone();
+
+		// The current username is moved to the top of the list of names :) Nice feature.
+		selectedClone.promoteUser(name);
+		// Save the current state.
+		save();
+		
+		return new Task() {
+
+			@Override
+			public Object task() throws Exception {
+				
+				try {				
+					// Create a new database layer.
+					logger.debug(&quot;Asking the DBLayerFactory for a new DBLayer @ &quot; + selectedClone.host + &quot;:&quot; + selectedClone.port);
+					setStatusMessage( L10n.getString(&quot;Login.Connecting&quot;) );
+					dblayer = factory.create( selectedClone );
+					if(isCanceled())
+						throw new Exception(L10n.getString(&quot;Common.Canceled&quot;));
+					
+					logger.debug(&quot;Connection successful.&quot;);
+					setStatusMessage( L10n.getString(&quot;Login.Connected&quot;) );
+					
+					// Initialize the database layer.
+					setStatusMessage( L10n.getString(&quot;Login.InitializingDBLayer&quot;) );
+					logger.debug(&quot;Initializing that DBLayer (&quot; + selectedClone.databaseType + &quot;, &quot; + name + &quot;, &quot; + password + &quot;...&quot;);
+					
+					Object[] init = dblayer.initialize(selectedClone.getDatabaseIdentifier(), name, password);
+					if(isCanceled())
+						throw new Exception(L10n.getString(&quot;Common.Canceled&quot;));
+					plantloreUser = (User)init[0];
+					accessRights = (Right)init[1];
+				} 
+				catch (Exception e) {
+					logger.error(&quot;The initialization of the DBLayer failed! &quot; + e.getMessage());
+					// If the initialization of the DBLayer failed, the uninitialized DBLayer must be destroyed!
+					// Otherwise, the server's policy may not allow another connection from this client!
+					if(dblayer != null)
+						try {
+							factory.destroy(dblayer);
+						} catch(RemoteException re) {
+							// Nothing we can do; the server is probably in trouble, or the network connection failed. 
+						}
+					// Re-throw the exception so that the view is updated as well.
+					throw e;
+				}
+				
+				setStatusMessage( L10n.getString(&quot;Login.DBLayerInitialized&quot;) );
+				logger.debug(&quot;DBLayer initialized.&quot;);
+				
+				fireStopped(null);
+				
+				// Everything went fine - 
+				// there is a new DBLayer which is to be announced to the observers of Login.
+				announceConnection();
+				return null;
+			}
+		};
+	
+	}
+	
+	/**
 	 * Cancel the login proces.
 	 *
 	 */
+	@Deprecated
 	synchronized public void interrupt() {
 		if(worker != null) {
 			worker.interrupt();
@@ -303,15 +399,13 @@
 		}
 		logout();
 		setChanged(); notifyObservers(L10n.getString(&quot;Login.Interrupted&quot;));
-	}
+	} //NO LONGER AVAILABLE (it didn't work anyway).
 	
 	
 	
 	/**
 	 * Disconnect from the current database. 
 	 * The database connection is lost, any operation in progress will cause an exception.
-	 * 
-	 * @throws RemoteException if the RMI encounters an error.
 	 */
 	public void logout() {
 		if(dblayer != null) 

Modified: trunk/src/net/sf/plantlore/client/login/LoginCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginCtrl.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/LoginCtrl.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -7,6 +7,7 @@
 import javax.swing.event.ListSelectionEvent;
 import javax.swing.event.ListSelectionListener;
 
+import net.sf.plantlore.common.DefaultCancelAction;
 import net.sf.plantlore.l10n.L10n;
 
 
@@ -15,8 +16,8 @@
 	private Login model;
 	private LoginView view;
 	
-	private ItemView itemView;
-	private ItemCtrl itemCtrl;
+	private ItemView2 itemView;
+	private ItemCtrl2 itemCtrl;
 	private AuthView authView;
 	
 	
@@ -25,8 +26,8 @@
 		this.view = loginview; this.model = login;
 		
 		// Create Item Add/Edit dialog.
-		itemView = new ItemView(view, model);
-		itemCtrl = new ItemCtrl(model, itemView);
+		itemView = new ItemView2(view, model);
+		itemCtrl = new ItemCtrl2(model, itemView);
 		// Create Authorization dialog.
 		authView = new AuthView(view, model);
 		new AuthCtrl(model, authView);
@@ -36,6 +37,7 @@
 		view.edit.setAction(new EditRecordAction());
 		view.remove.setAction(new RemoveRecordAction());
 		view.next.setAction(new NextAction());
+		view.discard.setAction(new DefaultCancelAction(view));
 		
 		// Select something.
 		view.choice.setSelectedIndex(0);
@@ -62,7 +64,7 @@
 			putValue(NAME, L10n.getString(&quot;Login.AddRecord&quot;));
 		}
 		public void actionPerformed(ActionEvent arg0) {
-			itemCtrl.setMode(ItemCtrl.Mode.ADD);
+			itemCtrl.setMode(ItemCtrl2.Mode.ADD);
 			itemView.setVisible(true);
 		}
 	}
@@ -84,7 +86,7 @@
 		}
 		public void actionPerformed(ActionEvent arg0) {
 			if(model.getSelected() != null) {
-				itemCtrl.setMode(ItemCtrl.Mode.EDIT);
+				itemCtrl.setMode(ItemCtrl2.Mode.EDIT);
 				itemView.setVisible(true);
 			}
 		}

Modified: trunk/src/net/sf/plantlore/client/login/LoginView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginView.form	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/LoginView.form	2006-07-31 09:07:36 UTC (rev 478)
@@ -65,7 +65,9 @@
                   &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;1&quot; pref=&quot;343&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;remember&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;151&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;74&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;discard&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;next&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
@@ -82,6 +84,7 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;remember&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;discard&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -141,5 +144,15 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/login/LoginView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginView.java	2006-07-31 09:02:45 UTC (rev 477)
+++ trunk/src/net/sf/plantlore/client/login/LoginView.java	2006-07-31 09:07:36 UTC (rev 478)
@@ -50,6 +50,7 @@
         jScrollPane1 = new javax.swing.JScrollPane();
         choice = new javax.swing.JList();
         remember = new javax.swing.JCheckBox();
+        discard = new javax.swing.JButton();
 
         popup.setName(&quot;popup&quot;);
         add.setText(L10n.getString(&quot;Login.AddRecord&quot;));
@@ -75,6 +76,8 @@
         remember.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
         remember.setMargin(new java.awt.Insets(0, 0, 0, 0));
 
+        discard.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -85,7 +88,9 @@
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 343, Short.MAX_VALUE)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                         .add(remember)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 151, Short.MAX_VALUE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 74, Short.MAX_VALUE)
+                        .add(discard)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(next)))
                 .addContainerGap())
         );
@@ -97,7 +102,8 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(next)
-                    .add(remember))
+                    .add(remember)
+                    .add(discard))
                 .addContainerGap())
         );
         pack();
@@ -137,6 +143,7 @@
     // Variables declaration - do not modify//GEN-BEGIN:variables
     protected javax.swing.JMenuItem add;
     protected javax.swing.JList choice;
+    protected javax.swing.JButton discard;
     protected javax.swing.JMenuItem edit;
     private javax.swing.JScrollPane jScrollPane1;
     protected javax.swing.JButton next;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000622.html">[Plantlore-dev] r477 - in trunk/src/net/sf/plantlore/client/export:	. component
</A></li>
	<LI>Next message: <A HREF="000624.html">[Plantlore-dev] r479 - in	trunk/src/net/sf/plantlore/client/imports: . table
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#623">[ date ]</a>
              <a href="thread.html#623">[ thread ]</a>
              <a href="subject.html#623">[ subject ]</a>
              <a href="author.html#623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
