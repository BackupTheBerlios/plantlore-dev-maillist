<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r649 - in trunk/src/net/sf/plantlore: client	client/checklist client/createdb client/export client/login	client/tableimport client/tableimport/parsers common l10n	server server/manager
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r649%20-%20in%20trunk/src/net/sf/plantlore%3A%20client%0A%09client/checklist%20client/createdb%20client/export%20client/login%0A%09client/tableimport%20client/tableimport/parsers%20common%20l10n%0A%09server%20server/manager&In-Reply-To=%3C200609032217.k83MHGH9015576%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000905.html">
   <LINK REL="Next"  HREF="000907.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r649 - in trunk/src/net/sf/plantlore: client	client/checklist client/createdb client/export client/login	client/tableimport client/tableimport/parsers common l10n	server server/manager</H1>
    <B>krater at mail.berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r649%20-%20in%20trunk/src/net/sf/plantlore%3A%20client%0A%09client/checklist%20client/createdb%20client/export%20client/login%0A%09client/tableimport%20client/tableimport/parsers%20common%20l10n%0A%09server%20server/manager&In-Reply-To=%3C200609032217.k83MHGH9015576%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r649 - in trunk/src/net/sf/plantlore: client	client/checklist client/createdb client/export client/login	client/tableimport client/tableimport/parsers common l10n	server server/manager">krater at mail.berlios.de
       </A><BR>
    <I>Mon Sep  4 00:17:16 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000905.html">[Plantlore-dev] r648 - trunk/src/net/sf/plantlore/l10n
</A></li>
        <LI>Next message: <A HREF="000907.html">[Plantlore-dev] r650 - in trunk/src/net/sf/plantlore/help: cs	cs/html default default/html en en/html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#906">[ date ]</a>
              <a href="thread.html#906">[ thread ]</a>
              <a href="subject.html#906">[ subject ]</a>
              <a href="author.html#906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: krater
Date: 2006-09-04 00:17:09 +0200 (Mon, 04 Sep 2006)
New Revision: 649

Modified:
   trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
   trunk/src/net/sf/plantlore/client/checklist/ChecklistCtrl.java
   trunk/src/net/sf/plantlore/client/checklist/ChecklistView.form
   trunk/src/net/sf/plantlore/client/checklist/ChecklistView.java
   trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthCtrl.java
   trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.form
   trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.java
   trunk/src/net/sf/plantlore/client/createdb/CreateDBCtrl.java
   trunk/src/net/sf/plantlore/client/createdb/CreateDBView.form
   trunk/src/net/sf/plantlore/client/createdb/CreateDBView.java
   trunk/src/net/sf/plantlore/client/export/ExportMngCtrl2.java
   trunk/src/net/sf/plantlore/client/export/ExportMngViewB.form
   trunk/src/net/sf/plantlore/client/export/ExportMngViewB.java
   trunk/src/net/sf/plantlore/client/login/AuthView.java
   trunk/src/net/sf/plantlore/client/login/ItemView2.form
   trunk/src/net/sf/plantlore/client/login/ItemView2.java
   trunk/src/net/sf/plantlore/client/login/LoginCtrl.java
   trunk/src/net/sf/plantlore/client/login/LoginView.form
   trunk/src/net/sf/plantlore/client/login/LoginView.java
   trunk/src/net/sf/plantlore/client/tableimport/TableImportTask.java
   trunk/src/net/sf/plantlore/client/tableimport/parsers/UnifiedTableParser.java
   trunk/src/net/sf/plantlore/common/DocumentSizeFilter.java
   trunk/src/net/sf/plantlore/l10n/Plantlore.properties
   trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties
   trunk/src/net/sf/plantlore/server/Plantlore.java
   trunk/src/net/sf/plantlore/server/RMIServer.java
   trunk/src/net/sf/plantlore/server/manager/ServerCreateCtrl.java
   trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form
   trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java
   trunk/src/net/sf/plantlore/server/manager/ServerMngView.java
Log:
AppCore: Proper handling of the CreateNewDatabase Action - the dialog was not opened.

Help + Cancel buttons + Escape Handler added to my dialogs.

Modified: trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -414,7 +414,7 @@
 		dataHistoryAction.setEnabled(enabled);
 		dataWholeHistoryAction.setEnabled(enabled);
 		dataUserAction.setEnabled(enabled);
-                createNewDatabaseAction.setEnabled(enabled);
+                createNewDatabaseAction.setEnabled(!enabled);
 
 		historyAction.setEnabled(enabled);
 		schedaAction.setEnabled(enabled);
@@ -1535,7 +1535,7 @@
 				newDBView = new CreateDBView(view, newDBModel);
 				newDBCtrl = new CreateDBCtrl(newDBModel, newDBView);
 			}
-                        view.setVisible(true);
+			newDBView.setVisible(true);
 		}
 	}
 

Modified: trunk/src/net/sf/plantlore/client/checklist/ChecklistCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/checklist/ChecklistCtrl.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/checklist/ChecklistCtrl.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -11,6 +11,7 @@
 
 import net.sf.plantlore.client.resources.Resource;
 import net.sf.plantlore.common.AutoTextArea;
+import net.sf.plantlore.common.DefaultCancelAction;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -38,6 +39,7 @@
 		view.clear.setAction(new ClearSelection());
 		view.submit.setAction(new Submit());
 		view.restore.setAction(new Restore());
+		view.cancel.setAction( new DefaultCancelAction(view) );
 		
 		model.addPropertyChangeListener(
 				AutoTextArea.ALLOWED_VALUES_CHANGED,

Modified: trunk/src/net/sf/plantlore/client/checklist/ChecklistView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/checklist/ChecklistView.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/checklist/ChecklistView.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -22,9 +22,13 @@
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Component id=&quot;jToolBar1&quot; alignment=&quot;0&quot; pref=&quot;400&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace pref=&quot;325&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;submit&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace pref=&quot;171&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;cancel&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;submit&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -40,7 +44,11 @@
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;scrollpane&quot; pref=&quot;229&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;submit&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;submit&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;cancel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
@@ -124,5 +132,25 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;cancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;help&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Help&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/checklist/ChecklistView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/checklist/ChecklistView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/checklist/ChecklistView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -5,6 +5,8 @@
 import javax.swing.JFileChooser;
 
 import net.sf.plantlore.common.AutoTextArea;
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -28,6 +30,11 @@
         initComponents();
         choice = new JFileChooser();
         setLocationRelativeTo(null);
+        
+        PlantloreHelp.addKeyHelp(PlantloreHelp.ADD_CHECKLIST, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.ADD_CHECKLIST, this.help);
+        
+        new DefaultEscapeKeyPressed( this );
     }
     
     /** This method is called from within the constructor to
@@ -45,6 +52,8 @@
         scrollpane = new javax.swing.JScrollPane();
         checklist = new Checklist( model.getAllowedValues() );
         submit = new javax.swing.JButton();
+        cancel = new javax.swing.JButton();
+        help = new javax.swing.JButton();
 
         setTitle(L10n.getString(&quot;Checklist.Title&quot;));
         setModal(true);
@@ -64,13 +73,21 @@
 
         submit.setText(L10n.getString(&quot;Checklist.Submit&quot;));
 
+        cancel.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
+        help.setText(L10n.getString(&quot;Common.Help&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(jToolBar1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 400, Short.MAX_VALUE)
             .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
-                .addContainerGap(325, Short.MAX_VALUE)
+                .addContainerGap()
+                .add(help)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 171, Short.MAX_VALUE)
+                .add(cancel)
+                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(submit)
                 .addContainerGap())
             .add(layout.createSequentialGroup()
@@ -78,6 +95,9 @@
                 .add(scrollpane, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
                 .addContainerGap())
         );
+
+        layout.linkSize(new java.awt.Component[] {cancel, submit}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
@@ -85,7 +105,10 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(scrollpane, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 229, Short.MAX_VALUE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                .add(submit)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(submit)
+                    .add(cancel)
+                    .add(help))
                 .addContainerGap())
         );
         pack();
@@ -94,8 +117,10 @@
     
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JButton cancel;
     protected javax.swing.JList checklist;
     protected javax.swing.JButton clear;
+    protected javax.swing.JButton help;
     private javax.swing.JToolBar jToolBar1;
     protected javax.swing.JButton load;
     protected javax.swing.JButton restore;

Modified: trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthCtrl.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthCtrl.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -2,6 +2,7 @@
 
 import java.awt.event.ActionEvent;
 
+import net.sf.plantlore.common.DefaultCancelAction;
 import net.sf.plantlore.common.DefaultProgressBar;
 import net.sf.plantlore.common.StandardAction;
 import net.sf.plantlore.common.Task;
@@ -21,6 +22,8 @@
 	public CreateDBAuthCtrl(CreateDB createModel, CreateDBAuthView authView) {
 		this.model = createModel; 
 		this.view = authView;
+		
+		view.cancel.setAction( new DefaultCancelAction(view) );
 
 		view.create.setAction(new StandardAction(&quot;CreateDB.Create&quot;) {
 			public void actionPerformed(ActionEvent arg0) {

Modified: trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -1,6 +1,6 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
 
-&lt;Form version=&quot;1.3&quot; type=&quot;org.netbeans.modules.form.forminfo.JFrameFormInfo&quot;&gt;
+&lt;Form version=&quot;1.3&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
   &lt;SyntheticProperties&gt;
     &lt;SyntheticProperty name=&quot;formSizePolicy&quot; type=&quot;int&quot; value=&quot;1&quot;/&gt;
   &lt;/SyntheticProperties&gt;
@@ -28,7 +28,11 @@
                           &lt;Component id=&quot;password&quot; alignment=&quot;0&quot; pref=&quot;208&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
-                  &lt;Component id=&quot;create&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;cancel&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;create&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -48,7 +52,10 @@
                   &lt;Component id=&quot;password&quot; linkSize=&quot;2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;create&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;create&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;cancel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
@@ -70,6 +77,11 @@
       &lt;/Properties&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JPasswordField&quot; name=&quot;password&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.PasswordTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
       &lt;AuxValues&gt;
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
@@ -85,9 +97,24 @@
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;user&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.UserNameTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
       &lt;AuxValues&gt;
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;cancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/createdb/CreateDBAuthView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -5,6 +5,8 @@
 import java.util.Observer;
 
 import net.sf.plantlore.client.login.DBInfo;
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.DocumentSizeFilter;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -24,6 +26,13 @@
         
         setLocationRelativeTo(null); // center of the screen
         getRootPane().setDefaultButton(create);
+        /*
+        PlantloreHelp.addKeyHelp(PlantloreHelp.CREATE_DB, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.CREATE_DB, this.help);
+        */
+        new DefaultEscapeKeyPressed( this );
+        
+        DocumentSizeFilter.patch(password, 20);
     }
 
     
@@ -39,13 +48,20 @@
         password = new javax.swing.JPasswordField();
         create = new javax.swing.JButton();
         user = new javax.swing.JTextField();
+        cancel = new javax.swing.JButton();
 
         jLabel1.setText(L10n.getString(&quot;Login.UserName&quot;));
 
         jLabel2.setText(L10n.getString(&quot;Login.Password&quot;));
 
+        password.setToolTipText(L10n.getString(&quot;Login.PasswordTT&quot;));
+
         create.setText(L10n.getString(&quot;CreateDB.Create&quot;));
 
+        user.setToolTipText(L10n.getString(&quot;Login.UserNameTT&quot;));
+
+        cancel.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -61,9 +77,15 @@
                         .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                             .add(user, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 208, Short.MAX_VALUE)
                             .add(password, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 208, Short.MAX_VALUE)))
-                    .add(org.jdesktop.layout.GroupLayout.TRAILING, create))
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                        .add(cancel)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(create)))
                 .addContainerGap())
         );
+
+        layout.linkSize(new java.awt.Component[] {cancel, create}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
@@ -76,7 +98,9 @@
                     .add(jLabel2)
                     .add(password, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                .add(create)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(create)
+                    .add(cancel))
                 .addContainerGap())
         );
 
@@ -88,6 +112,7 @@
 
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JButton cancel;
     protected javax.swing.JButton create;
     private javax.swing.JLabel jLabel1;
     private javax.swing.JLabel jLabel2;

Modified: trunk/src/net/sf/plantlore/client/createdb/CreateDBCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/createdb/CreateDBCtrl.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/createdb/CreateDBCtrl.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -4,6 +4,7 @@
 
 import javax.swing.JOptionPane;
 
+import net.sf.plantlore.common.DefaultCancelAction;
 import net.sf.plantlore.common.StandardAction;
 import net.sf.plantlore.l10n.L10n;
 
@@ -31,6 +32,8 @@
 		authView = new CreateDBAuthView( view, model );
 		/*authCtrl =*/ new CreateDBAuthCtrl( model, authView );
 		
+		view.cancel.setAction( new DefaultCancelAction(view) );
+		
 		view.next.setAction( new StandardAction(&quot;Login.Next&quot;) {
 			public void actionPerformed(ActionEvent arg0) {
 				String 

Modified: trunk/src/net/sf/plantlore/client/createdb/CreateDBView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/createdb/CreateDBView.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/createdb/CreateDBView.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -24,7 +24,13 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jPanel2&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;jPanel1&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;next&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;128&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;cancel&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;next&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -38,7 +44,11 @@
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jPanel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;next&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;cancel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
@@ -235,6 +245,11 @@
           &lt;/Properties&gt;
         &lt;/Component&gt;
         &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;databaseAlias&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+              &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.AliasTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
           &lt;AuxValues&gt;
             &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
           &lt;/AuxValues&gt;
@@ -251,5 +266,25 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;cancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;help&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Help&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/createdb/CreateDBView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/createdb/CreateDBView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/createdb/CreateDBView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -5,6 +5,9 @@
 import java.util.Observer;
 
 import net.sf.plantlore.client.login.DBInfo;
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.DocumentSizeFilter;
+import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -25,6 +28,16 @@
     	
         setLocationRelativeTo(null); // center of the screen
         getRootPane().setDefaultButton(next);
+        /*
+        PlantloreHelp.addKeyHelp(PlantloreHelp.CREATE_DB, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.CREATE_DB, this.help);
+        */
+        new DefaultEscapeKeyPressed( this );
+        
+        DocumentSizeFilter.patch(databaseAlias, 50);
+        DocumentSizeFilter.patch(databaseEngine, 30);
+        DocumentSizeFilter.patch(databaseIdentifier, 30);
+        DocumentSizeFilter.patch(databasePort, 5);
     }
     
     /** This method is called from within the constructor to
@@ -46,6 +59,8 @@
         jLabel5 = new javax.swing.JLabel();
         databaseAlias = new javax.swing.JTextField();
         next = new javax.swing.JButton();
+        cancel = new javax.swing.JButton();
+        help = new javax.swing.JButton();
 
         setTitle(L10n.getString(&quot;CreateDB.Title&quot;));
         jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(L10n.getString(&quot;CreateDB.DatabaseSettings&quot;)));
@@ -97,6 +112,8 @@
 
         jLabel5.setText(L10n.getString(&quot;Login.Alias&quot;));
 
+        databaseAlias.setToolTipText(L10n.getString(&quot;Login.AliasTT&quot;));
+
         org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
         jPanel2.setLayout(jPanel2Layout);
         jPanel2Layout.setHorizontalGroup(
@@ -134,6 +151,10 @@
 
         next.setText(L10n.getString(&quot;Login.Next&quot;));
 
+        cancel.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
+        help.setText(L10n.getString(&quot;Common.Help&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -143,9 +164,17 @@
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                     .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                     .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                    .add(next))
+                    .add(layout.createSequentialGroup()
+                        .add(help)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 128, Short.MAX_VALUE)
+                        .add(cancel)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(next)))
                 .addContainerGap())
         );
+
+        layout.linkSize(new java.awt.Component[] {cancel, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
@@ -154,7 +183,10 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jPanel2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                .add(next)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(next)
+                    .add(cancel)
+                    .add(help))
                 .addContainerGap())
         );
         pack();
@@ -163,10 +195,12 @@
 
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JButton cancel;
     protected javax.swing.JTextField databaseAlias;
     protected javax.swing.JComboBox databaseEngine;
     protected javax.swing.JTextField databaseIdentifier;
     protected javax.swing.JTextField databasePort;
+    protected javax.swing.JButton help;
     private javax.swing.JLabel jLabel1;
     private javax.swing.JLabel jLabel2;
     private javax.swing.JLabel jLabel4;

Modified: trunk/src/net/sf/plantlore/client/export/ExportMngCtrl2.java
===================================================================
--- trunk/src/net/sf/plantlore/client/export/ExportMngCtrl2.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/export/ExportMngCtrl2.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -8,6 +8,7 @@
 import javax.swing.filechooser.FileFilter;
 
 import net.sf.plantlore.client.export.component.FileFormat;
+import net.sf.plantlore.common.DefaultCancelAction;
 import net.sf.plantlore.common.DefaultProgressBarEx;
 import net.sf.plantlore.common.StandardAction;
 import net.sf.plantlore.l10n.L10n;
@@ -38,6 +39,7 @@
 		
 		viewB = new ExportMngViewB(view);
 		viewB.next.setAction( new NextAction() );
+		viewB.cancel.setAction( new DefaultCancelAction(view) );
 		choice = new JFileChooser();
 		choice.setAcceptAllFileFilterUsed(false);
 		for( FileFilter filter: model.getFileFormats() )

Modified: trunk/src/net/sf/plantlore/client/export/ExportMngViewB.form
===================================================================
--- trunk/src/net/sf/plantlore/client/export/ExportMngViewB.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/export/ExportMngViewB.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -23,7 +23,13 @@
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;380&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;next&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;171&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;cancel&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;next&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -35,7 +41,11 @@
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;229&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;next&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;cancel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
@@ -48,7 +58,7 @@
       &lt;SubComponents&gt;
         &lt;Component class=&quot;javax.swing.JTree&quot; name=&quot;tree&quot;&gt;
           &lt;AuxValues&gt;
-            &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new XTree();&quot;/&gt;
+            &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new ExtendedTree();&quot;/&gt;
             &lt;AuxValue name=&quot;JavaCodeGenerator_InitCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;tree.setSelectionModel( tsm );&quot;/&gt;
             &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
           &lt;/AuxValues&gt;
@@ -65,5 +75,25 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;cancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;help&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Help&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/export/ExportMngViewB.java
===================================================================
--- trunk/src/net/sf/plantlore/client/export/ExportMngViewB.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/export/ExportMngViewB.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -10,6 +10,8 @@
 
 import net.sf.plantlore.client.export.component.ProjectionSelectionModel;
 import net.sf.plantlore.client.export.component.ExtendedTree;
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -30,6 +32,11 @@
         initComponents();
         getRootPane().setDefaultButton(next);
         setLocationRelativeTo(null); // center of the screen
+                
+        PlantloreHelp.addKeyHelp(PlantloreHelp.EXPORT, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.EXPORT, this.help);
+        
+        new DefaultEscapeKeyPressed( this );
     }
     
     /** This method is called from within the constructor to
@@ -42,6 +49,8 @@
         jScrollPane1 = new javax.swing.JScrollPane();
         tree = new ExtendedTree();
         next = new javax.swing.JButton();
+        cancel = new javax.swing.JButton();
+        help = new javax.swing.JButton();
 
         setTitle(L10n.getString(&quot;Export.SelectColumns&quot;));
         tree.setSelectionModel( tsm );
@@ -49,6 +58,10 @@
 
         next.setText(L10n.getString(&quot;Export.Title&quot;));
 
+        cancel.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
+        help.setText(L10n.getString(&quot;Common.Help&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -57,16 +70,27 @@
                 .addContainerGap()
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
-                    .add(org.jdesktop.layout.GroupLayout.TRAILING, next))
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                        .add(help)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 171, Short.MAX_VALUE)
+                        .add(cancel)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(next)))
                 .addContainerGap())
         );
+
+        layout.linkSize(new java.awt.Component[] {cancel, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
                 .addContainerGap()
                 .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 229, Short.MAX_VALUE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                .add(next)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(next)
+                    .add(cancel)
+                    .add(help))
                 .addContainerGap())
         );
         pack();
@@ -75,6 +99,8 @@
     
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JButton cancel;
+    protected javax.swing.JButton help;
     private javax.swing.JScrollPane jScrollPane1;
     protected javax.swing.JButton next;
     protected javax.swing.JTree tree;

Modified: trunk/src/net/sf/plantlore/client/login/AuthView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/AuthView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/login/AuthView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -6,6 +6,8 @@
 import java.util.Observer;
 
 import net.sf.plantlore.common.AutoComboBox;
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.DocumentSizeFilter;
 import net.sf.plantlore.l10n.L10n;
 import net.sf.plantlore.middleware.DBLayer;
 
@@ -28,6 +30,10 @@
         initComponents();
         getRootPane().setDefaultButton(next);
         setLocationRelativeTo(null); // center of the screen
+        
+        new DefaultEscapeKeyPressed( this );
+        
+        DocumentSizeFilter.patch(password, 20);
     }
     
     /** This method is called from within the constructor to

Modified: trunk/src/net/sf/plantlore/client/login/ItemView2.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView2.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/login/ItemView2.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -23,7 +23,7 @@
                   &lt;Component id=&quot;jTabbedPane1&quot; alignment=&quot;1&quot; pref=&quot;380&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;175&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;171&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;discard&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;next&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -60,7 +60,7 @@
         &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel1&quot;&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
-              &lt;JTabbedPaneConstraints tabName=&quot;Direct connection (local)&quot;&gt;
+              &lt;JTabbedPaneConstraints tabName=&quot;Local connection&quot;&gt;
                 &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                   &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.LocalDatabase&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
@@ -82,11 +82,11 @@
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;databaseParameter&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;databasePort&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;databaseIdentifier&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;databaseEngine&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;aliasLocal&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseParameter&quot; alignment=&quot;0&quot; pref=&quot;301&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databasePort&quot; alignment=&quot;0&quot; pref=&quot;301&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseIdentifier&quot; alignment=&quot;0&quot; pref=&quot;301&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;databaseEngine&quot; alignment=&quot;0&quot; pref=&quot;301&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;aliasLocal&quot; alignment=&quot;0&quot; pref=&quot;301&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
@@ -227,7 +227,7 @@
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
               &lt;JTabbedPaneConstraints tabName=&quot;Remote connection&quot;&gt;
                 &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.RemoteDabatase&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.RemoteDatabase&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
               &lt;/JTabbedPaneConstraints&gt;
             &lt;/Constraint&gt;
@@ -346,6 +346,11 @@
               &lt;/Properties&gt;
             &lt;/Component&gt;
             &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;remoteDatabaseIdentifier&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.DatabaseIdentifierTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
               &lt;AuxValues&gt;
                 &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
               &lt;/AuxValues&gt;
@@ -367,7 +372,7 @@
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.Discard&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
       &lt;AuxValues&gt;

Modified: trunk/src/net/sf/plantlore/client/login/ItemView2.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView2.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/login/ItemView2.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -4,6 +4,9 @@
 import java.util.Observable;
 import java.util.Observer;
 
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.DocumentSizeFilter;
+import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 
 /**
@@ -26,6 +29,21 @@
 		initComponents();
 		getRootPane().setDefaultButton(next);
 		setLocationRelativeTo(null);
+		
+		PlantloreHelp.addKeyHelp(PlantloreHelp.LOGIN, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.LOGIN, this.help);
+        
+        new DefaultEscapeKeyPressed( this );
+		
+		DocumentSizeFilter.patch(aliasLocal, 50);
+		DocumentSizeFilter.patch(aliasRemote, 50);
+		DocumentSizeFilter.patch(databaseEngine, 30);
+		DocumentSizeFilter.patch(databaseIdentifier, 30);
+		DocumentSizeFilter.patch(databaseParameter, 60);
+		DocumentSizeFilter.patch(databasePort, 5);
+		DocumentSizeFilter.patch(host, 50);
+		DocumentSizeFilter.patch(port, 5);
+		DocumentSizeFilter.patch(remoteDatabaseIdentifier, 30);
     }
     
     /** This method is called from within the constructor to
@@ -97,11 +115,11 @@
                     .add(jLabel2))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                    .add(databaseParameter, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
-                    .add(databasePort, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
-                    .add(databaseIdentifier, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
-                    .add(databaseEngine, 0, 270, Short.MAX_VALUE)
-                    .add(aliasLocal, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE))
+                    .add(databaseParameter, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 301, Short.MAX_VALUE)
+                    .add(databasePort, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 301, Short.MAX_VALUE)
+                    .add(databaseIdentifier, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 301, Short.MAX_VALUE)
+                    .add(databaseEngine, 0, 301, Short.MAX_VALUE)
+                    .add(aliasLocal, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 301, Short.MAX_VALUE))
                 .addContainerGap())
         );
         jPanel1Layout.setVerticalGroup(
@@ -145,6 +163,8 @@
 
         jLabel11.setText(L10n.getString(&quot;Login.DatabaseIdentifier&quot;));
 
+        remoteDatabaseIdentifier.setToolTipText(L10n.getString(&quot;Login.DatabaseIdentifierTT&quot;));
+
         org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
         jPanel2.setLayout(jPanel2Layout);
         jPanel2Layout.setHorizontalGroup(
@@ -187,11 +207,11 @@
                     .add(remoteDatabaseIdentifier, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addContainerGap(39, Short.MAX_VALUE))
         );
-        jTabbedPane1.addTab(L10n.getString(&quot;Login.RemoteDabatase&quot;), jPanel2);
+        jTabbedPane1.addTab(L10n.getString(&quot;Login.RemoteDatabase&quot;), jPanel2);
 
         next.setText(L10n.getString(&quot;Login.Change&quot;));
 
-        discard.setText(L10n.getString(&quot;Login.Discard&quot;));
+        discard.setText(L10n.getString(&quot;Common.Cancel&quot;));
 
         help.setText(L10n.getString(&quot;Common.Help&quot;));
 
@@ -205,7 +225,7 @@
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, jTabbedPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
                     .add(layout.createSequentialGroup()
                         .add(help)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 175, Short.MAX_VALUE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 171, Short.MAX_VALUE)
                         .add(discard)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(next)))

Modified: trunk/src/net/sf/plantlore/client/login/LoginCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginCtrl.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/login/LoginCtrl.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -63,7 +63,7 @@
 	 * @param visible	True if the View should become visible.
 	 */
 	public void setVisible(boolean visible) {
-		JDialog dialog = view.remember.isSelected() &amp;&amp; !view.choice.isSelectionEmpty() ? authView : view;
+		JDialog dialog = /*view.remember.isSelected() &amp;&amp; !view.choice.isSelectionEmpty() ? authView : */view;
 		dialog.setVisible(visible);
 	}
 	

Modified: trunk/src/net/sf/plantlore/client/login/LoginView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginView.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/login/LoginView.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -64,11 +64,11 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;1&quot; pref=&quot;343&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;remember&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;74&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;discard&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;126&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;discard&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;next&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;next&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -83,8 +83,8 @@
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;remember&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;discard&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -126,28 +126,20 @@
         &lt;/Component&gt;
       &lt;/SubComponents&gt;
     &lt;/Container&gt;
-    &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;remember&quot;&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Login.SelectAutomatically&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
         &lt;/Property&gt;
-        &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
-          &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.EmptyBorderInfo&quot;&gt;
-            &lt;EmptyBorder bottom=&quot;0&quot; left=&quot;0&quot; right=&quot;0&quot; top=&quot;0&quot;/&gt;
-          &lt;/Border&gt;
-        &lt;/Property&gt;
-        &lt;Property name=&quot;margin&quot; type=&quot;java.awt.Insets&quot; editor=&quot;org.netbeans.beaninfo.editors.InsetsEditor&quot;&gt;
-          &lt;Insets value=&quot;[0, 0, 0, 0]&quot;/&gt;
-        &lt;/Property&gt;
       &lt;/Properties&gt;
       &lt;AuxValues&gt;
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
-    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;help&quot;&gt;
       &lt;Properties&gt;
         &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Help&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
       &lt;AuxValues&gt;

Modified: trunk/src/net/sf/plantlore/client/login/LoginView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/login/LoginView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -10,6 +10,8 @@
 import java.util.Observable;
 import java.util.Observer;
 
+import net.sf.plantlore.common.DefaultEscapeKeyPressed;
+import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 import net.sf.plantlore.middleware.DBLayer;
 
@@ -35,9 +37,14 @@
         initComponents();
         setLocationRelativeTo(null); // center of the screen
         getRootPane().setDefaultButton(next);
+        
+        PlantloreHelp.addKeyHelp(PlantloreHelp.LOGIN, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.LOGIN, this.help);
+        
+        new DefaultEscapeKeyPressed( this );
+        
         // See what's new.
         update(null, Login.UPDATE_LIST);
-        remember.setVisible(false);
     }
     
     /** This method is called from within the constructor to
@@ -54,8 +61,8 @@
         next = new javax.swing.JButton();
         jScrollPane1 = new javax.swing.JScrollPane();
         choice = new javax.swing.JList();
-        remember = new javax.swing.JCheckBox();
         discard = new javax.swing.JButton();
+        help = new javax.swing.JButton();
 
         popup.setName(&quot;popup&quot;);
         add.setText(L10n.getString(&quot;Login.AddRecord&quot;));
@@ -77,12 +84,10 @@
         choice.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
         jScrollPane1.setViewportView(choice);
 
-        remember.setText(L10n.getString(&quot;Login.SelectAutomatically&quot;));
-        remember.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
-        remember.setMargin(new java.awt.Insets(0, 0, 0, 0));
-
         discard.setText(L10n.getString(&quot;Common.Cancel&quot;));
 
+        help.setText(L10n.getString(&quot;Common.Help&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -92,13 +97,16 @@
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 343, Short.MAX_VALUE)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
-                        .add(remember)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 74, Short.MAX_VALUE)
+                        .add(help)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 126, Short.MAX_VALUE)
                         .add(discard)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(next)))
                 .addContainerGap())
         );
+
+        layout.linkSize(new java.awt.Component[] {discard, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
@@ -107,8 +115,8 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(next)
-                    .add(remember)
-                    .add(discard))
+                    .add(discard)
+                    .add(help))
                 .addContainerGap())
         );
         pack();
@@ -151,10 +159,10 @@
     protected javax.swing.JList choice;
     protected javax.swing.JButton discard;
     protected javax.swing.JMenuItem edit;
+    protected javax.swing.JButton help;
     private javax.swing.JScrollPane jScrollPane1;
     protected javax.swing.JButton next;
     private javax.swing.JPopupMenu popup;
-    protected javax.swing.JCheckBox remember;
     protected javax.swing.JMenuItem remove;
     // End of variables declaration//GEN-END:variables
     

Modified: trunk/src/net/sf/plantlore/client/tableimport/TableImportTask.java
===================================================================
--- trunk/src/net/sf/plantlore/client/tableimport/TableImportTask.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/tableimport/TableImportTask.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -83,10 +83,10 @@
 	public Object task() throws Exception {
 		logger.info(&quot;Table Import begins...&quot;);
 		
-		setStatusMessage(&quot;Import.Initializing&quot;);
+		setStatusMessage(L10n.getString(&quot;Import.Initializing&quot;));
 		Class table = parser.initialize();
 		
-		setStatusMessage(&quot;Import.Initialized&quot;);
+		setStatusMessage(L10n.getString(&quot;Import.Initialized&quot;));
 		setLength( parser.getNumberOfRecords() );
 				
 		while( !isCanceled() &amp;&amp; parser.hasNext() ) {
@@ -151,7 +151,7 @@
 				setStatusMessage( ie.getMessage() );
 			} catch(DBLayerException de) {
 				logger.error(&quot;Delete/update/insert failed! &quot; + de.getMessage());
-				setStatusMessage( L10n.getFormattedString(&quot;Error.UnableToProcess&quot;, count) + &quot; &quot; + 
+				setStatusMessage( L10n.getFormattedString(&quot;Import.UnableToProcess&quot;, count) + &quot; &quot; + 
 						((de.getMessage() == null) ? L10n.getString(&quot;Import.UnknownReason&quot;) : de.getMessage()) );
 			}
 		}

Modified: trunk/src/net/sf/plantlore/client/tableimport/parsers/UnifiedTableParser.java
===================================================================
--- trunk/src/net/sf/plantlore/client/tableimport/parsers/UnifiedTableParser.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/client/tableimport/parsers/UnifiedTableParser.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -108,7 +108,7 @@
             	throw new ParserException(L10n.getString(&quot;Error.IncorrectXMLFile&quot;));
             rootTable = tables.get( root.getName().toLowerCase() );
             if(rootTable == null)
-            	throw new ParserException(&quot;Error.UnsupportedTable&quot;);
+            	throw new ParserException(L10n.getFormattedString(&quot;Error.UnsupportedTable&quot;, rootTable.getSimpleName()));
             
             List nodes = root.selectNodes(&quot;//&quot;+rootTable.getSimpleName().toLowerCase());
             if( nodes != null) {
@@ -164,10 +164,13 @@
 				data.replacement = (Record)rootTable.newInstance();
 				reconstruct( data.replacement, node );
 			}
-		} catch(Exception e) {
-			throw new ParserException(L10n.getString(&quot;Import.PartialyCorruptedRecord&quot;));
+		} catch(IllegalAccessException e) {
+			throw new ParserException(L10n.getString(&quot;Error.Internal&quot;));
+		}  catch(InstantiationException e) {
+			throw new ParserException(L10n.getString(&quot;Error.Internal&quot;));
 		}
 		
+		
 		return data;
 	}
 

Modified: trunk/src/net/sf/plantlore/common/DocumentSizeFilter.java
===================================================================
--- trunk/src/net/sf/plantlore/common/DocumentSizeFilter.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/common/DocumentSizeFilter.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -10,7 +10,6 @@
 package net.sf.plantlore.common;
 
 import javax.swing.JComboBox;
-import javax.swing.JComponent;
 import javax.swing.JTextField;
 import javax.swing.text.AttributeSet;
 import javax.swing.text.BadLocationException;

Modified: trunk/src/net/sf/plantlore/l10n/Plantlore.properties
===================================================================
--- trunk/src/net/sf/plantlore/l10n/Plantlore.properties	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/l10n/Plantlore.properties	2006-09-03 22:17:09 UTC (rev 649)
@@ -1390,7 +1390,7 @@
 
 Overview.MenuFileReconnectTT=Tries to renew lost connection
 
-Overview.MenutFileExit=E&amp;xit
+Overview.MenuFileExit=E&amp;xit
 
 Overview.MenuFileExitTT=Exits the application
 

Modified: trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties
===================================================================
--- trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/l10n/Plantlore_cs_CZ.properties	2006-09-03 22:17:09 UTC (rev 649)
@@ -1525,6 +1525,8 @@
 
 Overview.MenuFileReconnectTT=Pokus\u00ED se obnovit ztracen\u00E9 spojen\u00ED
 
+Overview.MenuFileExit=Konec
+
 Overview.MenuFileExitTT=Ukon\u010D\u00ED aplikaci
 
 Search.Extended=&amp;Roz\u0161\u00ED\u0159en\u00E9

Modified: trunk/src/net/sf/plantlore/server/Plantlore.java
===================================================================
--- trunk/src/net/sf/plantlore/server/Plantlore.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/server/Plantlore.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -12,6 +12,8 @@
 
 import com.jgoodies.looks.plastic.PlasticXPLookAndFeel;
 
+import net.sf.plantlore.common.PlantloreHelp;
+import net.sf.plantlore.common.exception.PlantloreException;
 import net.sf.plantlore.l10n.L10n;
 import net.sf.plantlore.server.manager.*;
 
@@ -44,7 +46,15 @@
 		} catch (IOException ex) {
 			ex.printStackTrace();
 		}
+		
+		 // Initialize Help
+        try {
+            PlantloreHelp.initialize();
+        } catch (PlantloreException e) {
+            // TODO: Display error message
+        }
 
+
         java.awt.EventQueue.invokeLater(new Runnable(){
         	public void run() {
         		ServerMng model = new ServerMng();

Modified: trunk/src/net/sf/plantlore/server/RMIServer.java
===================================================================
--- trunk/src/net/sf/plantlore/server/RMIServer.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/server/RMIServer.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -175,7 +175,6 @@
 	 */
 	public boolean ping() 
 	throws RemoteException {
-		logger.debug(&quot;Pinged!&quot;);
 		return !isDead;
 	}
 

Modified: trunk/src/net/sf/plantlore/server/manager/ServerCreateCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerCreateCtrl.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/server/manager/ServerCreateCtrl.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -26,8 +26,15 @@
 		mngView = new ServerMngView(model);
 		new ServerMngCtrl(model, mngView);
 		
-		view.next.setAction( new StandardAction(&quot;Server.Create&quot;) {
+        view.cancel.setAction( new StandardAction(&quot;Common.Cancel&quot;) {
 			public void actionPerformed(ActionEvent arg0) {
+				view.setVisible(false);
+				System.exit(0);
+			}
+        });
+		
+		view.next.setAction( new StandardAction(&quot;Server.Continue&quot;) {
+			public void actionPerformed(ActionEvent arg0) {
 				
 				switch( view.choicePane.getSelectedIndex() ) {
 				/* CREATE A NEW SERVER AND CONNECT TO IT */

Modified: trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form	2006-09-03 22:17:09 UTC (rev 649)
@@ -24,13 +24,15 @@
           &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;choicePane&quot; alignment=&quot;0&quot; pref=&quot;356&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;Component id=&quot;choicePane&quot; alignment=&quot;0&quot; pref=&quot;408&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;1&quot;&gt;
                       &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;220&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;next&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;191&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;cancel&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;next&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
-                  &lt;Component id=&quot;plantloreLogo&quot; alignment=&quot;0&quot; pref=&quot;356&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                  &lt;Component id=&quot;plantloreLogo&quot; alignment=&quot;0&quot; pref=&quot;408&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -47,6 +49,7 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;cancel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -70,7 +73,7 @@
       &lt;Layout&gt;
         &lt;DimensionLayout dim=&quot;0&quot;&gt;
           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace min=&quot;0&quot; pref=&quot;356&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;0&quot; pref=&quot;408&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
         &lt;/DimensionLayout&gt;
         &lt;DimensionLayout dim=&quot;1&quot;&gt;
@@ -110,7 +113,7 @@
         &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel3&quot;&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
-              &lt;JTabbedPaneConstraints tabName=&quot;Create new Server&quot;&gt;
+              &lt;JTabbedPaneConstraints tabName=&quot;Create a new Server&quot;&gt;
                 &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                   &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Server.CreateNewServer&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
@@ -121,7 +124,7 @@
           &lt;Layout&gt;
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jPanel1&quot; alignment=&quot;0&quot; pref=&quot;351&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;Component id=&quot;jPanel1&quot; alignment=&quot;0&quot; pref=&quot;403&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
                   &lt;Component id=&quot;jPanel2&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -239,13 +242,13 @@
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                               &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
-                                  &lt;Component id=&quot;databaseType&quot; pref=&quot;182&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;databaseType&quot; pref=&quot;234&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Component id=&quot;jLabel6&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Component id=&quot;databasePort&quot; min=&quot;-2&quot; pref=&quot;51&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;/Group&gt;
-                              &lt;Component id=&quot;databaseParameter&quot; pref=&quot;261&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;databaseParameter&quot; pref=&quot;313&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
@@ -339,7 +342,7 @@
         &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel4&quot;&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
-              &lt;JTabbedPaneConstraints tabName=&quot;Connect to a Running Server&quot;&gt;
+              &lt;JTabbedPaneConstraints tabName=&quot;Connect to a running Server&quot;&gt;
                 &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                   &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Server.ConnectToRunningServer&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
@@ -367,7 +370,7 @@
               &lt;Properties&gt;
                 &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
                   &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
-                    &lt;TitledBorder title=&quot;Remote server&quot;&gt;
+                    &lt;TitledBorder title=&quot;Remote host settings&quot;&gt;
                       &lt;ResourceString PropertyName=&quot;titleX&quot; bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Server.ConnectToSettings&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/TitledBorder&gt;
                   &lt;/Border&gt;
@@ -390,8 +393,8 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;remoteHost&quot; alignment=&quot;0&quot; pref=&quot;187&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                              &lt;Component id=&quot;remoteServerPassword&quot; alignment=&quot;0&quot; pref=&quot;187&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;remoteHost&quot; alignment=&quot;0&quot; pref=&quot;239&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;remoteServerPassword&quot; alignment=&quot;0&quot; pref=&quot;239&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;jLabel8&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -432,6 +435,9 @@
                 &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;remoteHost&quot;&gt;
                   &lt;Properties&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;localhost&quot;/&gt;
+                    &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                      &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Server.HostTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                    &lt;/Property&gt;
                   &lt;/Properties&gt;
                   &lt;AuxValues&gt;
                     &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
@@ -445,6 +451,11 @@
                   &lt;/Properties&gt;
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JPasswordField&quot; name=&quot;remoteServerPassword&quot;&gt;
+                  &lt;Properties&gt;
+                    &lt;Property name=&quot;toolTipText&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                      &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Server.PasswordTT&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+                    &lt;/Property&gt;
+                  &lt;/Properties&gt;
                   &lt;AuxValues&gt;
                     &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
                   &lt;/AuxValues&gt;
@@ -474,5 +485,15 @@
         &lt;/Container&gt;
       &lt;/SubComponents&gt;
     &lt;/Container&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;cancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -9,6 +9,7 @@
 import java.util.Observable;
 import java.util.Observer;
 
+import net.sf.plantlore.common.DocumentSizeFilter;
 import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 import net.sf.plantlore.server.ServerSettings;
@@ -31,10 +32,9 @@
         initComponents();
         getRootPane().setDefaultButton(next);
         setLocationRelativeTo(null); // center of the screen
-        /*
+        
         PlantloreHelp.addKeyHelp(PlantloreHelp.SERVER, this.getRootPane());
         PlantloreHelp.addButtonHelp(PlantloreHelp.SERVER, this.help);
-        */
         
         // Initialize the components' contents.
         ServerSettings settings = model.getSettings(true);
@@ -49,6 +49,15 @@
         }
         
         setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
+        
+        DocumentSizeFilter.patch(serverPassword, 20);
+        DocumentSizeFilter.patch(serverPort, 5);
+        DocumentSizeFilter.patch(databaseType, 30);
+        DocumentSizeFilter.patch(databasePort, 5);
+        DocumentSizeFilter.patch(databaseParameter, 60);
+        DocumentSizeFilter.patch(remoteHost, 50);
+        DocumentSizeFilter.patch(remoteServerPort, 5);
+        DocumentSizeFilter.patch(remoteServerPassword, 20);
     }
     
     /** This method is called from within the constructor to
@@ -57,8 +66,7 @@
      * always regenerated by the Form Editor.
      */
     // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Generated Code &quot;&gt;//GEN-BEGIN:initComponents
-    @SuppressWarnings(&quot;static-access&quot;)
-	private void initComponents() {
+    private void initComponents() {
         plantloreLogo = new javax.swing.JPanel();
         next = new javax.swing.JButton();
         help = new javax.swing.JButton();
@@ -84,6 +92,7 @@
         remoteServerPassword = new javax.swing.JPasswordField();
         jLabel8 = new javax.swing.JLabel();
         remoteServerPort = new javax.swing.JTextField();
+        cancel = new javax.swing.JButton();
 
         setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
         setTitle(L10n.getString(&quot;Server.Create&quot;));
@@ -94,7 +103,7 @@
         plantloreLogo.setLayout(plantloreLogoLayout);
         plantloreLogoLayout.setHorizontalGroup(
             plantloreLogoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-            .add(0, 356, Short.MAX_VALUE)
+            .add(0, 408, Short.MAX_VALUE)
         );
         plantloreLogoLayout.setVerticalGroup(
             plantloreLogoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
@@ -169,12 +178,12 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(jPanel2Layout.createSequentialGroup()
-                        .add(databaseType, 0, 182, Short.MAX_VALUE)
+                        .add(databaseType, 0, 234, Short.MAX_VALUE)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(jLabel6)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(databasePort, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 51, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
-                    .add(databaseParameter, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 261, Short.MAX_VALUE))
+                    .add(databaseParameter, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 313, Short.MAX_VALUE))
                 .addContainerGap())
         );
         jPanel2Layout.setVerticalGroup(
@@ -197,7 +206,7 @@
         jPanel3.setLayout(jPanel3Layout);
         jPanel3Layout.setHorizontalGroup(
             jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-            .add(jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 351, Short.MAX_VALUE)
+            .add(jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 403, Short.MAX_VALUE)
             .add(jPanel2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
         );
         jPanel3Layout.setVerticalGroup(
@@ -214,9 +223,12 @@
         jLabel3.setText(L10n.getString(&quot;Server.Host&quot;));
 
         remoteHost.setText(&quot;localhost&quot;);
+        remoteHost.setToolTipText(L10n.getString(&quot;Server.HostTT&quot;));
 
         jLabel4.setText(L10n.getString(&quot;Server.Password&quot;));
 
+        remoteServerPassword.setToolTipText(L10n.getString(&quot;Server.PasswordTT&quot;));
+
         jLabel8.setText(L10n.getString(&quot;Server.Port&quot;));
 
         remoteServerPort.setHorizontalAlignment(javax.swing.JTextField.LEFT);
@@ -237,8 +249,8 @@
                         .add(jLabel4)))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                    .add(remoteHost, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 187, Short.MAX_VALUE)
-                    .add(remoteServerPassword, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 187, Short.MAX_VALUE))
+                    .add(remoteHost, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 239, Short.MAX_VALUE)
+                    .add(remoteServerPassword, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 239, Short.MAX_VALUE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(jLabel8)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
@@ -276,6 +288,8 @@
         );
         choicePane.addTab(L10n.getString(&quot;Server.ConnectToRunningServer&quot;), jPanel4);
 
+        cancel.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -283,14 +297,19 @@
             .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                 .addContainerGap()
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
-                    .add(org.jdesktop.layout.GroupLayout.LEADING, choicePane, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 356, Short.MAX_VALUE)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, choicePane, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 408, Short.MAX_VALUE)
                     .add(layout.createSequentialGroup()
                         .add(help)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 220, Short.MAX_VALUE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 191, Short.MAX_VALUE)
+                        .add(cancel)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(next))
-                    .add(org.jdesktop.layout.GroupLayout.LEADING, plantloreLogo, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 356, Short.MAX_VALUE))
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, plantloreLogo, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 408, Short.MAX_VALUE))
                 .addContainerGap())
         );
+
+        layout.linkSize(new java.awt.Component[] {cancel, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
@@ -301,7 +320,8 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(next)
-                    .add(help))
+                    .add(help)
+                    .add(cancel))
                 .addContainerGap())
         );
         pack();
@@ -309,6 +329,7 @@
     
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JButton cancel;
     protected javax.swing.JTabbedPane choicePane;
     protected javax.swing.JTextField databaseParameter;
     protected javax.swing.JTextField databasePort;

Modified: trunk/src/net/sf/plantlore/server/manager/ServerMngView.java
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerMngView.java	2006-09-03 22:04:51 UTC (rev 648)
+++ trunk/src/net/sf/plantlore/server/manager/ServerMngView.java	2006-09-03 22:17:09 UTC (rev 649)
@@ -9,6 +9,7 @@
 import java.util.Observable;
 import java.util.Observer;
 
+import net.sf.plantlore.common.PlantloreHelp;
 import net.sf.plantlore.l10n.L10n;
 import net.sf.plantlore.server.ConnectionInfo;
 
@@ -30,7 +31,11 @@
     	model.addObserver(this);
     	
         initComponents();
-        //getRootPane().setDefaultButton(hide);
+        getRootPane().setDefaultButton(hide);
+        
+        PlantloreHelp.addKeyHelp(PlantloreHelp.SERVER, this.getRootPane());
+        PlantloreHelp.addButtonHelp(PlantloreHelp.SERVER, this.help);
+        
         setLocationRelativeTo(null); // center of the screen
     }
     


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000905.html">[Plantlore-dev] r648 - trunk/src/net/sf/plantlore/l10n
</A></li>
	<LI>Next message: <A HREF="000907.html">[Plantlore-dev] r650 - in trunk/src/net/sf/plantlore/help: cs	cs/html default default/html en en/html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#906">[ date ]</a>
              <a href="thread.html#906">[ thread ]</a>
              <a href="subject.html#906">[ subject ]</a>
              <a href="author.html#906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
