<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r438 - in trunk/src/net/sf/plantlore: client client/login l10n middleware server/manager
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r438%20-%20in%20trunk/src/net/sf/plantlore%3A%20client%20client/login%20l10n%20middleware%20server/manager&In-Reply-To=%3C200606041508.k54F8IFK010648%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000547.html">
   <LINK REL="Next"  HREF="000549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r438 - in trunk/src/net/sf/plantlore: client client/login l10n middleware server/manager</H1>
    <B>krater at berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r438%20-%20in%20trunk/src/net/sf/plantlore%3A%20client%20client/login%20l10n%20middleware%20server/manager&In-Reply-To=%3C200606041508.k54F8IFK010648%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r438 - in trunk/src/net/sf/plantlore: client client/login l10n middleware server/manager">krater at berlios.de
       </A><BR>
    <I>Sun Jun  4 17:08:18 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000547.html">[Plantlore-dev] [Bug #7748] Application freezes (Windows XP)
</A></li>
        <LI>Next message: <A HREF="000549.html">[Plantlore-dev] [Bug #7733] Login dialog is not shown when you switch windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#548">[ date ]</a>
              <a href="thread.html#548">[ thread ]</a>
              <a href="subject.html#548">[ subject ]</a>
              <a href="author.html#548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: krater
Date: 2006-06-04 17:08:16 +0200 (Sun, 04 Jun 2006)
New Revision: 438

Modified:
   trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
   trunk/src/net/sf/plantlore/client/login/AuthView.form
   trunk/src/net/sf/plantlore/client/login/AuthView.java
   trunk/src/net/sf/plantlore/client/login/ItemCtrl.java
   trunk/src/net/sf/plantlore/client/login/ItemView.form
   trunk/src/net/sf/plantlore/client/login/ItemView.java
   trunk/src/net/sf/plantlore/client/login/Login.java
   trunk/src/net/sf/plantlore/client/login/LoginCtrl.java
   trunk/src/net/sf/plantlore/client/login/LoginView.java
   trunk/src/net/sf/plantlore/l10n/Plantlore.properties
   trunk/src/net/sf/plantlore/middleware/RMIDBLayerFactory.java
   trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form
   trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java
   trunk/src/net/sf/plantlore/server/manager/ServerMngView.form
   trunk/src/net/sf/plantlore/server/manager/ServerMngView.java
Log:
Login. Bug#007733 and Bug#007726 fixed (involves the RMIDBLayerFactory). GUI partially updated.

Server. Views fixed.

Modified: trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -1099,7 +1099,7 @@
                 if(loginModel == null) {
                 	loginModel = new Login(new RMIDBLayerFactory(), model.getMainConfig());
                 	loginModel.addObserver(new DatabaseChange());
-                	loginView = new LoginView(loginModel);
+                	loginView = new LoginView(view, loginModel);
                 	loginCtrl = new LoginCtrl(loginModel, loginView);
                 }
                 loginCtrl.setVisible(true);

Modified: trunk/src/net/sf/plantlore/client/login/AuthView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/AuthView.form	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/AuthView.form	2006-06-04 15:08:16 UTC (rev 438)
@@ -35,7 +35,11 @@
                           &lt;Component id=&quot;user&quot; alignment=&quot;0&quot; pref=&quot;223&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
-                  &lt;Component id=&quot;next&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;discard&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;next&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -56,7 +60,10 @@
                   &lt;Component id=&quot;password&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;next&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;discard&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;status&quot; min=&quot;-2&quot; pref=&quot;22&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -118,5 +125,15 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;discard&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Cancel&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/login/AuthView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/AuthView.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/AuthView.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -7,6 +7,7 @@
 package net.sf.plantlore.client.login;
 
 import java.awt.Cursor;
+import java.awt.Dialog;
 import java.util.Observable;
 import java.util.Observer;
 
@@ -23,7 +24,9 @@
 public class AuthView extends javax.swing.JDialog implements Observer {
 	
     /** Creates new form AuthView */
-    public AuthView(Login model) {
+    public AuthView(Dialog parent, Login model) {
+    	super(parent, true);
+    	
     	model.addObserver(this);
         initComponents();
         getRootPane().setDefaultButton(next);
@@ -44,6 +47,7 @@
         password = new javax.swing.JPasswordField();
         next = new javax.swing.JButton();
         status = new javax.swing.JLabel();
+        discard = new javax.swing.JButton();
 
         setTitle(L10n.getString(&quot;Login.Authentication&quot;));
         setTitle(L10n.getString(&quot;Login.Authentication&quot;));
@@ -60,6 +64,8 @@
         status.setText(&quot; ...&quot;);
         status.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED));
 
+        discard.setText(L10n.getString(&quot;Common.Cancel&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -75,10 +81,16 @@
                         .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                             .add(password, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 223, Short.MAX_VALUE)
                             .add(user, 0, 223, Short.MAX_VALUE)))
-                    .add(org.jdesktop.layout.GroupLayout.TRAILING, next))
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                        .add(discard)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
+                        .add(next)))
                 .addContainerGap())
             .add(status, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
         );
+
+        layout.linkSize(new java.awt.Component[] {discard, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.setVerticalGroup(
             layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
             .add(layout.createSequentialGroup()
@@ -91,7 +103,9 @@
                     .add(jLabel2)
                     .add(password, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                .add(next)
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
+                    .add(next)
+                    .add(discard))
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(status, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 22, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
         );
@@ -144,6 +158,7 @@
     
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    protected javax.swing.JButton discard;
     private javax.swing.JLabel jLabel1;
     private javax.swing.JLabel jLabel2;
     protected javax.swing.JButton next;

Modified: trunk/src/net/sf/plantlore/client/login/ItemCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemCtrl.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/ItemCtrl.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -3,7 +3,6 @@
 import java.awt.event.ActionEvent;
 
 import javax.swing.AbstractAction;
-import javax.swing.Action;
 
 
 import net.sf.plantlore.l10n.L10n;
@@ -79,8 +78,6 @@
 				&amp;&amp;
 				view.databaseIdentifier.getText().length() &gt; 0;
 				
-			System.out.println(&quot;@---------&gt; &quot;+newState);
-				
 			if(newState)
 				try {
 					if( Integer.parseInt(view.databasePort.getText()) &lt;= 0 )
@@ -101,13 +98,17 @@
 			putValue(NAME, L10n.getString(&quot;Login.Change&quot;));
 		}
 		public void actionPerformed(ActionEvent arg0) {
-			int port = 1099, databasePort = -1;
+			int port = 1099, databasePort = 0;
 			try {
 				port = Integer.parseInt(view.port.getText());
-			} catch(NumberFormatException e) {}
+			} catch(NumberFormatException e) {
+				// Never mind, use the default port.
+			}
 			try {
 				databasePort = Integer.parseInt(view.databasePort.getText());
-			} catch(NumberFormatException e) {}
+			} catch(NumberFormatException e) {
+				// Nothing we can do.
+			}
 			
 			switch(mode) {
 			case ADD:

Modified: trunk/src/net/sf/plantlore/client/login/ItemView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView.form	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/ItemView.form	2006-06-04 15:08:16 UTC (rev 438)
@@ -24,52 +24,65 @@
           &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;alias&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;host&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel8&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;port&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;database&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel9&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;databaseIdentifier&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel4&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;databasePort&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel5&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;databaseParameter&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel6&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;databaseMasterUser&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jLabel7&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                              &lt;Component id=&quot;databaseMasterPassword&quot; linkSize=&quot;2&quot; min=&quot;-2&quot; pref=&quot;231&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;1&quot;&gt;
+                      &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;80&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;discard&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;next&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;10&quot; pref=&quot;10&quot; max=&quot;10&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;jLabel1&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jLabel2&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jLabel8&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
-                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;6&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;host&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;alias&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;port&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
-                  &lt;/Group&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;jLabel3&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jLabel9&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
-                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;8&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;databaseIdentifier&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;database&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
-                  &lt;/Group&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;jLabel4&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jLabel5&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jLabel6&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jLabel7&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
-                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;databasePort&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;databaseParameter&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;databaseMasterUser&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;databaseMasterPassword&quot; alignment=&quot;0&quot; pref=&quot;231&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
-                  &lt;/Group&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -125,6 +138,7 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;next&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;discard&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;help&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
           &lt;/Group&gt;
@@ -314,5 +328,15 @@
         &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
       &lt;/AuxValues&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;help&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;net/sf/plantlore/l10n/Plantlore.properties&quot; key=&quot;Common.Help&quot; replaceFormat=&quot;L10n.getString(&quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;JavaCodeGenerator_VariableModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;4&quot;/&gt;
+      &lt;/AuxValues&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/src/net/sf/plantlore/client/login/ItemView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/ItemView.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/ItemView.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -6,6 +6,7 @@
 
 package net.sf.plantlore.client.login;
 
+import java.awt.Dialog;
 import java.util.Observable;
 import java.util.Observer;
 
@@ -21,7 +22,9 @@
 	private Login model;
     
     /** Creates new form ItemView */
-    public ItemView(Login model) {
+    public ItemView(Dialog parent, Login model) {
+    	super(parent, true);
+    	
 		this.model = model;
 		model.addObserver(this);
 		initComponents();
@@ -56,6 +59,7 @@
         port = new javax.swing.JTextField();
         jLabel9 = new javax.swing.JLabel();
         databaseIdentifier = new javax.swing.JTextField();
+        help = new javax.swing.JButton();
 
         setTitle(L10n.getString(&quot;Login.Change&quot;));
         setTitle(L10n.getString(&quot;Login.Add&quot;));
@@ -103,6 +107,8 @@
 
         databaseIdentifier.setToolTipText(L10n.getString(&quot;Login.DatabaseIdentifierTT&quot;));
 
+        help.setText(L10n.getString(&quot;Common.Help&quot;));
+
         org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -111,42 +117,55 @@
                 .addContainerGap()
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel1)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(alias, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel2)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(host, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel8)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(port, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel3)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(database, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel9)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(databaseIdentifier, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel4)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(databasePort, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel5)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(databaseParameter, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel6)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(databaseMasterUser, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
+                            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                                .add(jLabel7)
+                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .add(databaseMasterPassword, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
+                        .addContainerGap())
+                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
+                        .add(help)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 80, Short.MAX_VALUE)
                         .add(discard)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                        .add(next))
-                    .add(layout.createSequentialGroup()
-                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(jLabel1)
-                            .add(jLabel2)
-                            .add(jLabel8))
-                        .add(6, 6, 6)
-                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(host, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)
-                            .add(alias, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)
-                            .add(port, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)))
-                    .add(layout.createSequentialGroup()
-                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(jLabel3)
-                            .add(jLabel9))
-                        .add(8, 8, 8)
-                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(databaseIdentifier, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)
-                            .add(database, 0, 231, Short.MAX_VALUE)))
-                    .add(layout.createSequentialGroup()
-                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(jLabel4)
-                            .add(jLabel5)
-                            .add(jLabel6)
-                            .add(jLabel7))
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                            .add(databasePort, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)
-                            .add(databaseParameter, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)
-                            .add(databaseMasterUser, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE)
-                            .add(databaseMasterPassword, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 231, Short.MAX_VALUE))))
-                .addContainerGap())
+                        .add(next)
+                        .add(10, 10, 10))))
         );
 
+        layout.linkSize(new java.awt.Component[] {alias, database, databaseIdentifier, databaseMasterPassword, databaseMasterUser, databaseParameter, databasePort, host, port}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
+
         layout.linkSize(new java.awt.Component[] {discard, next}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
 
         layout.setVerticalGroup(
@@ -191,7 +210,8 @@
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(next)
-                    .add(discard))
+                    .add(discard)
+                    .add(help))
                 .addContainerGap())
         );
         pack();
@@ -229,6 +249,7 @@
     protected javax.swing.JTextField databaseParameter;
     protected javax.swing.JTextField databasePort;
     protected javax.swing.JButton discard;
+    protected javax.swing.JButton help;
     protected javax.swing.JTextField host;
     private javax.swing.JLabel jLabel1;
     private javax.swing.JLabel jLabel2;

Modified: trunk/src/net/sf/plantlore/client/login/Login.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/Login.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/Login.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -229,55 +229,58 @@
 		
 		final DBInfo selectedClone = selected.clone();
 		
-		 final SwingWorker worker = new SwingWorker() {
-	            public Object construct() {
-	            	
-            		logout();
-	            	try {
-	            		// The current username is moved to the top of the list of names :) Nice feature.
-	            		selectedClone.promoteUser(name);
-	            		// Save the current state.
-	            		save();
-	            		
-	            		// Create a new database layer.
-	            		logger.debug(&quot;Asking the DBLayerFactory for a new DBLayer @ &quot; + selectedClone.host + &quot;:&quot; + selectedClone.port);
-	            		setChanged(); notifyObservers(L10n.getString(&quot;Login.Connecting&quot;));
-	            		dblayer = factory.create( selectedClone );
-	            		
-	            		logger.debug(&quot;Connection successful.&quot;);
-	            		setChanged(); notifyObservers(L10n.getString(&quot;Login.Connected&quot;));
-	            		
-	            		// Initialize the database layer.
-	            		setChanged(); notifyObservers(L10n.getString(&quot;Login.InitializingDBLayer&quot;));
-	            		logger.debug(&quot;Initializing that DBLayer (&quot; + selectedClone.databaseType + &quot;, &quot; + name + &quot;, &quot; + password + &quot;...&quot;);
-
-	            		Object[] init = dblayer.initialize(selectedClone.getDatabaseIdentifier(), name, password);
-	            		plantloreUser = (User)init[0];
-	            		accessRights = (Right)init[1];
-	            	} 
-	            	catch (Exception exception) {
-	            		logger.error(&quot;The initialization of the DBLayer failed! &quot; + exception.getMessage());
-	            		// If the initialization of the DBLayer failed, the uninitialized DBLayer must be destroyed!
-	            		// If it is not, the server's policy may not allow another connection from this client!
-	            		try {
-	            			factory.destroy(dblayer);
-	            		} catch(RemoteException re) {}
-	            		setChanged();
-            			notifyObservers( exception );
-	            		return null;
-	            	}
-	            	
-	            	setChanged(); 
-	            	notifyObservers(L10n.getString(&quot;Login.DBLayerInitialized&quot;));
-	            	logger.debug(&quot;DBLayer initialized.&quot;);
-	            	
-	            	// Everything went fine.
-	            	setChanged(); notifyObservers(dblayer);
-	            	return null;
-	            }
-		 };
-		 
-		 worker.start();
+		final SwingWorker worker = new SwingWorker() {
+			public Object construct() {
+				
+				logout();
+				try {
+					// The current username is moved to the top of the list of names :) Nice feature.
+					selectedClone.promoteUser(name);
+					// Save the current state.
+					save();
+					
+					// Create a new database layer.
+					logger.debug(&quot;Asking the DBLayerFactory for a new DBLayer @ &quot; + selectedClone.host + &quot;:&quot; + selectedClone.port);
+					setChanged(); notifyObservers(L10n.getString(&quot;Login.Connecting&quot;));
+					dblayer = factory.create( selectedClone );
+					
+					logger.debug(&quot;Connection successful.&quot;);
+					setChanged(); notifyObservers(L10n.getString(&quot;Login.Connected&quot;));
+					
+					// Initialize the database layer.
+					setChanged(); notifyObservers(L10n.getString(&quot;Login.InitializingDBLayer&quot;));
+					logger.debug(&quot;Initializing that DBLayer (&quot; + selectedClone.databaseType + &quot;, &quot; + name + &quot;, &quot; + password + &quot;...&quot;);
+					
+					Object[] init = dblayer.initialize(selectedClone.getDatabaseIdentifier(), name, password);
+					plantloreUser = (User)init[0];
+					accessRights = (Right)init[1];
+				} 
+				catch (Exception e) {
+					logger.error(&quot;The initialization of the DBLayer failed! &quot; + e.getMessage());
+					// If the initialization of the DBLayer failed, the uninitialized DBLayer must be destroyed!
+					// If it is not, the server's policy may not allow another connection from this client!
+					if(dblayer != null)
+						try {
+							factory.destroy(dblayer);
+						} catch(RemoteException re) {
+							// Nothing we can do; the server is probably in trouble, or the network connection failed. 
+						}
+					setChanged();
+					notifyObservers( e );
+					return null;
+				}
+				
+				setChanged(); 
+				notifyObservers(L10n.getString(&quot;Login.DBLayerInitialized&quot;));
+				logger.debug(&quot;DBLayer initialized.&quot;);
+				
+				// Everything went fine.
+				setChanged(); notifyObservers(dblayer);
+				return null;
+			}
+		};
+		
+		worker.start();
 	}
 	
 	

Modified: trunk/src/net/sf/plantlore/client/login/LoginCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginCtrl.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/LoginCtrl.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -27,10 +27,10 @@
 		java.awt.EventQueue.invokeLater(new Runnable() {
 			public void run() {
 				// Create Item Add/Edit dialog.
-				itemView = new ItemView(model);
+				itemView = new ItemView(view, model);
 				itemCtrl = new ItemCtrl(model, itemView);
 				// Create Authorization dialog.
-				authView = new AuthView(model);
+				authView = new AuthView(view, model);
 				new AuthCtrl(model, authView);
 			}
 		});

Modified: trunk/src/net/sf/plantlore/client/login/LoginView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/login/LoginView.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/client/login/LoginView.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -6,6 +6,7 @@
 
 package net.sf.plantlore.client.login;
 
+import java.awt.Frame;
 import java.util.Observable;
 import java.util.Observer;
 
@@ -21,7 +22,9 @@
 	private Login model;
     
     /** Creates new form LoginView */
-    public LoginView(Login model) {
+    public LoginView(Frame parent, Login model) {
+    	super(parent, true);
+    	
 		this.model = model;
 		model.addObserver(this);
         initComponents();

Modified: trunk/src/net/sf/plantlore/l10n/Plantlore.properties
===================================================================
--- trunk/src/net/sf/plantlore/l10n/Plantlore.properties	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/l10n/Plantlore.properties	2006-06-04 15:08:16 UTC (rev 438)
@@ -414,7 +414,7 @@
 Login.Authentication = Authentication
 Login.UserName = User name
 Login.Password = Password
-Login.Authorize = Authorize
+Login.Authorize = Login
 Login.AuthorizeTT = Connect to the database with the specified username and password.
 Login.ConnectingTo = Connecting to
 
@@ -1257,13 +1257,15 @@
 Server.RefreshTT=Reload the list of currently conntected users.
 Server.KickUser=Kick user
 Server.KickUserTT=Disconnect the selected user from the server.
-Server.Terminate=Terminate
+Server.Terminate=Stop
 Server.TerminateTT=Terminate the Plantlore server and disconnect all its clients.
 Server.ListOfUsersTT=The list of currently connected users.
 
 
 Server.SettingsLoaded = Settings loaded.
+Server.SettingsNotLoaded = Settings not loaded. 
 Server.SettingsSaved = Settings saved.
+Server.SettingsNotSaved = Settings not saved.
 Server.Info.CreatingNewServer = Creating a new server...
 Server.Info.StartingNewServer = Starting the server...
 Server.Info.ServerUpAndRunning = Server is up and running.

Modified: trunk/src/net/sf/plantlore/middleware/RMIDBLayerFactory.java
===================================================================
--- trunk/src/net/sf/plantlore/middleware/RMIDBLayerFactory.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/middleware/RMIDBLayerFactory.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -127,7 +127,8 @@
 	 * @param db The database layer to be taken care of.
 	 */
 	public synchronized void destroy(DBLayer db) throws RemoteException {
-		assert(db != null);
+		if(db == null)
+			return;
 		
 		// Get the stored information about the connection
 		ConnectionInfo info = client.remove(db);

Modified: trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/server/manager/ServerCreateView.form	2006-06-04 15:08:16 UTC (rev 438)
@@ -31,12 +31,10 @@
           &lt;Component id=&quot;status&quot; alignment=&quot;0&quot; pref=&quot;453&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jPanel2&quot; alignment=&quot;0&quot; min=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Group type=&quot;103&quot; alignment=&quot;0&quot; groupAlignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;jPanel1&quot; alignment=&quot;0&quot; pref=&quot;433&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                      &lt;Component id=&quot;plantloreLogo&quot; alignment=&quot;0&quot; pref=&quot;433&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                  &lt;/Group&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;jPanel2&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jPanel1&quot; alignment=&quot;0&quot; pref=&quot;433&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;Component id=&quot;plantloreLogo&quot; alignment=&quot;0&quot; pref=&quot;433&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;

Modified: trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/server/manager/ServerCreateView.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -221,11 +221,10 @@
             .add(status, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 453, Short.MAX_VALUE)
             .add(layout.createSequentialGroup()
                 .addContainerGap()
-                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
-                    .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel2, 0, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                    .add(org.jdesktop.layout.GroupLayout.LEADING, layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
-                        .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 433, Short.MAX_VALUE)
-                        .add(org.jdesktop.layout.GroupLayout.LEADING, plantloreLogo, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 433, Short.MAX_VALUE)))
+                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 433, Short.MAX_VALUE)
+                    .add(org.jdesktop.layout.GroupLayout.LEADING, plantloreLogo, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 433, Short.MAX_VALUE))
                 .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
         );
         layout.setVerticalGroup(

Modified: trunk/src/net/sf/plantlore/server/manager/ServerMngView.form
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerMngView.form	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/server/manager/ServerMngView.form	2006-06-04 15:08:16 UTC (rev 438)
@@ -23,10 +23,10 @@
           &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;315&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;343&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;help&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;86&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;166&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;terminate&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;hide&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -34,8 +34,8 @@
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
-          &lt;Component id=&quot;status&quot; alignment=&quot;0&quot; pref=&quot;335&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-          &lt;Component id=&quot;jToolBar1&quot; alignment=&quot;0&quot; pref=&quot;335&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+          &lt;Component id=&quot;status&quot; alignment=&quot;0&quot; pref=&quot;363&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+          &lt;Component id=&quot;jToolBar1&quot; alignment=&quot;0&quot; pref=&quot;363&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
@@ -43,7 +43,7 @@
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;Component id=&quot;jToolBar1&quot; min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;141&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;215&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                   &lt;Component id=&quot;hide&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;

Modified: trunk/src/net/sf/plantlore/server/manager/ServerMngView.java
===================================================================
--- trunk/src/net/sf/plantlore/server/manager/ServerMngView.java	2006-06-04 13:33:49 UTC (rev 437)
+++ trunk/src/net/sf/plantlore/server/manager/ServerMngView.java	2006-06-04 15:08:16 UTC (rev 438)
@@ -80,16 +80,16 @@
             .add(layout.createSequentialGroup()
                 .addContainerGap()
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
-                    .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 315, Short.MAX_VALUE)
+                    .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 343, Short.MAX_VALUE)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                         .add(help)
-                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 86, Short.MAX_VALUE)
+                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 166, Short.MAX_VALUE)
                         .add(terminate)
                         .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                         .add(hide)))
                 .addContainerGap())
-            .add(status, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 335, Short.MAX_VALUE)
-            .add(jToolBar1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 335, Short.MAX_VALUE)
+            .add(status, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 363, Short.MAX_VALUE)
+            .add(jToolBar1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 363, Short.MAX_VALUE)
         );
 
         layout.linkSize(new java.awt.Component[] {hide, terminate}, org.jdesktop.layout.GroupLayout.HORIZONTAL);
@@ -99,7 +99,7 @@
             .add(layout.createSequentialGroup()
                 .add(jToolBar1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 25, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
-                .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 141, Short.MAX_VALUE)
+                .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 215, Short.MAX_VALUE)
                 .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                 .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(hide)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000547.html">[Plantlore-dev] [Bug #7748] Application freezes (Windows XP)
</A></li>
	<LI>Next message: <A HREF="000549.html">[Plantlore-dev] [Bug #7733] Login dialog is not shown when you switch windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#548">[ date ]</a>
              <a href="thread.html#548">[ thread ]</a>
              <a href="subject.html#548">[ subject ]</a>
              <a href="author.html#548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
