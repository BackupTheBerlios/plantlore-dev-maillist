<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r491 - trunk/src/net/sf/plantlore/client
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-August/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r491%20-%20trunk/src/net/sf/plantlore/client&In-Reply-To=%3C200608070950.k779oDp5029461%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000664.html">
   <LINK REL="Next"  HREF="000666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r491 - trunk/src/net/sf/plantlore/client</H1>
    <B>fraktalek at mail.berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r491%20-%20trunk/src/net/sf/plantlore/client&In-Reply-To=%3C200608070950.k779oDp5029461%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r491 - trunk/src/net/sf/plantlore/client">fraktalek at mail.berlios.de
       </A><BR>
    <I>Mon Aug  7 11:50:13 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000664.html">[Plantlore-dev] [Task #3058] Use record locking in the client
</A></li>
        <LI>Next message: <A HREF="000666.html">[Plantlore-dev] r492 - in trunk/src/net/sf/plantlore/client: .	overview overview/detail overview/search print settings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#665">[ date ]</a>
              <a href="thread.html#665">[ thread ]</a>
              <a href="subject.html#665">[ subject ]</a>
              <a href="author.html#665">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fraktalek
Date: 2006-08-07 11:50:12 +0200 (Mon, 07 Aug 2006)
New Revision: 491

Modified:
   trunk/src/net/sf/plantlore/client/SchedaView.form
   trunk/src/net/sf/plantlore/client/Search.java
   trunk/src/net/sf/plantlore/client/SearchView.form
   trunk/src/net/sf/plantlore/client/SearchView.java
Log:
Just minor fixes.



Modified: trunk/src/net/sf/plantlore/client/SchedaView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/SchedaView.form	2006-08-06 22:24:40 UTC (rev 490)
+++ trunk/src/net/sf/plantlore/client/SchedaView.form	2006-08-07 09:50:12 UTC (rev 491)
@@ -12,6 +12,7 @@
     &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
     &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
     &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
+    &lt;AuxValue name=&quot;designerSize&quot; type=&quot;java.awt.Dimension&quot; value=&quot;-84,-19,0,5,115,114,0,18,106,97,118,97,46,97,119,116,46,68,105,109,101,110,115,105,111,110,65,-114,-39,-41,-84,95,68,20,2,0,2,73,0,6,104,101,105,103,104,116,73,0,5,119,105,100,116,104,120,112,0,0,1,44,0,0,1,-112&quot;/&gt;
   &lt;/AuxValues&gt;
 
   &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignBorderLayout&quot;/&gt;

Modified: trunk/src/net/sf/plantlore/client/Search.java
===================================================================
--- trunk/src/net/sf/plantlore/client/Search.java	2006-08-06 22:24:40 UTC (rev 490)
+++ trunk/src/net/sf/plantlore/client/Search.java	2006-08-07 09:50:12 UTC (rev 491)
@@ -901,7 +901,8 @@
     }
     
     public void setAuthor(int i, Pair&lt;String,Integer&gt; author) {
-        authorList.get(i).setFirst(author);
+        if (i &lt; authorList.size())
+            authorList.get(i).setFirst(author);
         logger.debug(&quot;Author name in row &quot;+i+&quot; set to &quot;+author);
     }
     

Modified: trunk/src/net/sf/plantlore/client/SearchView.form
===================================================================
--- trunk/src/net/sf/plantlore/client/SearchView.form	2006-08-06 22:24:40 UTC (rev 490)
+++ trunk/src/net/sf/plantlore/client/SearchView.form	2006-08-07 09:50:12 UTC (rev 491)
@@ -55,8 +55,8 @@
                   &lt;Component id=&quot;taxonLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                      &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;270&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;245&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;245&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;EmptySpace min=&quot;-2&quot; pref=&quot;85&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
@@ -65,8 +65,8 @@
                   &lt;/Group&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;townComboBox&quot; alignment=&quot;1&quot; pref=&quot;325&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                      &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; pref=&quot;325&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Component id=&quot;townComboBox&quot; alignment=&quot;1&quot; pref=&quot;300&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; pref=&quot;300&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
                       &lt;Component id=&quot;extendedButton&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -94,7 +94,7 @@
                           &lt;Component id=&quot;jScrollPane1&quot; min=&quot;-2&quot; pref=&quot;82&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;EmptySpace min=&quot;-2&quot; pref=&quot;14&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;65&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;67&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
                               &lt;Component id=&quot;taxonLabel&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                       &lt;/Group&gt;
@@ -482,7 +482,7 @@
                               &lt;EmptySpace min=&quot;-2&quot; pref=&quot;19&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;territoryLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;territoryNameCombo&quot; pref=&quot;173&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;territoryNameCombo&quot; pref=&quot;177&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -527,7 +527,7 @@
                           &lt;Component id=&quot;quadrantLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;quadrantTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
-                      &lt;EmptySpace pref=&quot;13&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -673,7 +673,7 @@
                           &lt;Component id=&quot;sourceLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;sourceCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
-                      &lt;EmptySpace pref=&quot;15&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;12&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                           &lt;Component id=&quot;publicationLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;publicationCombo&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -790,7 +790,7 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;219&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
@@ -798,7 +798,7 @@
             &lt;DimensionLayout dim=&quot;1&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;91&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;96&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
@@ -900,7 +900,7 @@
                           &lt;Component id=&quot;longitudeLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;longitudeTextField&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
-                      &lt;EmptySpace pref=&quot;43&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;48&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -1039,7 +1039,7 @@
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jScrollPane5&quot; pref=&quot;279&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane5&quot; pref=&quot;219&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
@@ -1047,7 +1047,7 @@
             &lt;DimensionLayout dim=&quot;1&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;jScrollPane5&quot; pref=&quot;113&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane5&quot; pref=&quot;115&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
@@ -1090,7 +1090,7 @@
               &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;helpButton&quot; linkSize=&quot;12&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;EmptySpace pref=&quot;626&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace pref=&quot;598&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;okButton&quot; linkSize=&quot;12&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;cancelButton&quot; linkSize=&quot;12&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;

Modified: trunk/src/net/sf/plantlore/client/SearchView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/SearchView.java	2006-08-06 22:24:40 UTC (rev 490)
+++ trunk/src/net/sf/plantlore/client/SearchView.java	2006-08-07 09:50:12 UTC (rev 491)
@@ -716,7 +716,7 @@
     }
         
     public void clearComponentData() {
-        model.clearAuthors(); resetAuthorModel(); initAuthorTable();
+        resetAuthorModel(); initAuthorTable();
         townComboBox.setSelectedIndex(0);
         taxonTextArea.setText(&quot;&quot;);
         descriptionArea.setText(&quot;&quot;);
@@ -821,8 +821,10 @@
         if (arg != null &amp;&amp; arg instanceof String) {
             String s = (String) arg;
             
-            if (s.equals(&quot;CLEAR&quot;))
+            if (s.equals(&quot;CLEAR&quot;)) {
                 clearComponentData();
+                return;
+            }
             
             if (s.equals(&quot;PLANTS_CHANGED&quot;)) {
                 logger.debug(&quot;Updating plant area&quot;);
@@ -836,6 +838,7 @@
                     choices[i] = plants[i].getFirst();
                 
                 ((AutoTextArea)taxonTextArea).setChoices(choices);
+                return;
             }
             
             if (s.equals(&quot;AUTHORS_CHANGED&quot;)) {
@@ -851,6 +854,7 @@
 
                 
                 tc1.setCellEditor(new DefaultCellEditor(cb));  
+                return;
             }
 
             if (s.equals(&quot;AUTHORROLES_CHANGED&quot;)) {
@@ -865,6 +869,7 @@
                 TableColumn tc2 = authorTable.getColumnModel().getColumn(1);
                 
                 tc2.setCellEditor(new DefaultCellEditor(cb));                
+                return;
             }
             
             if (s.equals(&quot;VILLAGES_CHANGED&quot;)) {
@@ -874,6 +879,7 @@
                 else
                     townComboBox.setModel(new DefaultComboBoxModel(model.getVillages()));
                 townComboBox.insertItemAt(model.EMPTY_PAIR,0);
+                return;
             }
             
             if (s.equals(&quot;TERRITORIES_CHANGED&quot;)) {
@@ -883,6 +889,7 @@
                 else
                     territoryNameCombo.setModel(new DefaultComboBoxModel(model.getTerritories()));
                 territoryNameCombo.insertItemAt(model.EMPTY_PAIR,0);
+                return;
             }
 
             if (s.equals(&quot;PHYTNAMES_CHANGED&quot;)) {
@@ -892,6 +899,7 @@
                 else
                     phytNameCombo.setModel(new DefaultComboBoxModel(model.getPhytNames()));
                 phytNameCombo.insertItemAt(model.EMPTY_PAIR,0);
+                return;
             }
 
             if (s.equals(&quot;PHYTCODES_CHANGED&quot;)) {
@@ -901,6 +909,7 @@
                 else
                     phytCodeCombo.setModel(new DefaultComboBoxModel(model.getPhytCodes()));
                 phytCodeCombo.insertItemAt(model.EMPTY_PAIR,0);
+                return;
             }
 
             if (s.equals(&quot;COUNTRIES_CHANGED&quot;)) {
@@ -910,6 +919,7 @@
                 else
                     phytCountryCombo.setModel(new DefaultComboBoxModel(model.getCountries()));
                 phytCountryCombo.insertItemAt(model.EMPTY_STRING,0);
+                return;
             }
             
             if (s.equals(&quot;SOURCES_CHANGED&quot;)) {
@@ -919,6 +929,7 @@
                 else
                     sourceCombo.setModel(new DefaultComboBoxModel(model.getSources()));
                 sourceCombo.insertItemAt(model.EMPTY_STRING,0);
+                return;
             }
             
             if (s.equals(&quot;PUBLICATIONS_CHANGED&quot;)) {
@@ -928,6 +939,7 @@
                 else
                     publicationCombo.setModel(new DefaultComboBoxModel(model.getPublications()));
                 publicationCombo.insertItemAt(model.EMPTY_PAIR,0);
+                return;
             }
 
             if (s.equals(&quot;PROJECTS_CHANGED&quot;)) {
@@ -937,6 +949,7 @@
                 else
                     projectCombo.setModel(new DefaultComboBoxModel(model.getProjects()));
                 projectCombo.insertItemAt(model.EMPTY_PAIR,0);
+                return;
             }                       
         }//instanceof String
     }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000664.html">[Plantlore-dev] [Task #3058] Use record locking in the client
</A></li>
	<LI>Next message: <A HREF="000666.html">[Plantlore-dev] r492 - in trunk/src/net/sf/plantlore/client: .	overview overview/detail overview/search print settings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#665">[ date ]</a>
              <a href="thread.html#665">[ thread ]</a>
              <a href="subject.html#665">[ subject ]</a>
              <a href="author.html#665">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
