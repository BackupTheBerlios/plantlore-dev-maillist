<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] Table Import kapacita
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-August/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20Table%20Import%20kapacita&In-Reply-To=%3Cf4dc39b90608131410v277823d4i21b0386ae78fe033%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000686.html">
   <LINK REL="Next"  HREF="000688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] Table Import kapacita</H1>
    <B>Erik Kratochv&#237;l</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20Table%20Import%20kapacita&In-Reply-To=%3Cf4dc39b90608131410v277823d4i21b0386ae78fe033%40mail.gmail.com%3E"
       TITLE="[Plantlore-dev] Table Import kapacita">discontinuum at gmail.com
       </A><BR>
    <I>Sun Aug 13 23:10:52 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000686.html">[Plantlore-dev] Otestovani serveru
</A></li>
        <LI>Next message: <A HREF="000688.html">[Plantlore-dev] r503 - in trunk/src/net/sf/plantlore: client common	common/debug common/record
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#687">[ date ]</a>
              <a href="thread.html#687">[ thread ]</a>
              <a href="subject.html#687">[ subject ]</a>
              <a href="author.html#687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Zdravim,
trochu jsem si hral jeste s table importem (tj. importem do jednotlivych
tabulek) a dosel jsem k zajimavym pozorovanim:


   - Dom4j je fakt zruda. Soubor obsahujici 4tis (velmi jednoduchych)
   zaznamu celkove velikosti cca 500kB kratce po rozparsovani sezere asi 10MB
   pameti.
   - Java je taky zruda. Zatimco pri startu parsovani vyzadovala cca 22MB
   pameti, ke konci souboru uz to bylo skoro 90MB. Podle toho, co sem zjistil z
   toho MemoryMonitoru, tak behem parsovani postupne ta pamet narusta. Proste
   kdyz Java Memory Manager nema dostatek pameti a pritom to, co naalokoval, je
   porad mene, nez co celkove naalokovat smi, tak si bez ostychu rekne o dalsi
   pamet. Zda se, ze garbage collection se pousti az pri dosazeni maxima.

Zkousel jsem zavolat garbage collection behem toho monitoringu pri
prekroceni 30MB pameti, bez efektu; tzn. volani
Runtime.getRuntime().gc()bere spis jako doporuceni, ze by mohl zkusit
GC. Ale to jste mozna vedeli
(rekl bych, ze minimalne Kovo).

Zaver z toho je takovy, ze teda pokud se ten importovany soubor podari
nacpat do pameti pri parsovani, je uz celkem dobra sance, ze se cely import
povede. Pokud zamyslime pouziti Table import prevazne pro mensi upravy typu
opraveni preklepu ve jmene kytky nebo pridani par novych druhu, je to v
pohode. O neco horsi situace by byla, pokud by se pokouseli naimportovat
neco kompletne noveho, rekneme seznam nejblizsich vetsich sidel Slovenska,
kde se da cekat velikost radove nekolik (desitek?) tisic zaznamu. Kazdopadne
i tak je table import relativne svizny a diky malinke velikosti zaznamu je
doba parsovani rozumne unosna (max. nekolik vterin).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/plantlore-dev/attachments/20060813/5de55140/attachment.html">https://lists.berlios.de/pipermail/plantlore-dev/attachments/20060813/5de55140/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000686.html">[Plantlore-dev] Otestovani serveru
</A></li>
	<LI>Next message: <A HREF="000688.html">[Plantlore-dev] r503 - in trunk/src/net/sf/plantlore: client common	common/debug common/record
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#687">[ date ]</a>
              <a href="thread.html#687">[ thread ]</a>
              <a href="subject.html#687">[ subject ]</a>
              <a href="author.html#687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
