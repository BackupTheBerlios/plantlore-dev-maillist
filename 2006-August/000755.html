<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] Planlore - ERROR :(
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-August/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20Planlore%20-%20ERROR%20%3A%28&In-Reply-To=%3C004201c6c655%2431ac40d0%245113a8c0%40Jose%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000753.html">
   <LINK REL="Next"  HREF="000756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] Planlore - ERROR :(</H1>
    <B>Lada Oberreiterov&#225;</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20Planlore%20-%20ERROR%20%3A%28&In-Reply-To=%3C004201c6c655%2431ac40d0%245113a8c0%40Jose%3E"
       TITLE="[Plantlore-dev] Planlore - ERROR :(">ladaOb at seznam.cz
       </A><BR>
    <I>Wed Aug 23 03:40:57 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000753.html">[Plantlore-dev] r551 - trunk/src/net/sf/plantlore/server
</A></li>
        <LI>Next message: <A HREF="000756.html">[Plantlore-dev] Planlore - ERROR :(
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#755">[ date ]</a>
              <a href="thread.html#755">[ thread ]</a>
              <a href="subject.html#755">[ subject ]</a>
              <a href="author.html#755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ahojte,

 plantlore je v nove verzi hodne tragicka aneb hodne pada na vecech co byly drive v poradku.
Posilam jen par prikladu - kdyz zkusite klikat, tak to urcite poznate.



METADATA MANAGER (drive fungoval bez problemu)

1. Zaeditujte vybrany nalez

2. Zkuste ho po te smazat

nebo

1. Zaeditujte vybrany nalez

2. Zkuste ho zaeditovat znovu

03:27:03,718 ERROR Thread-14 AbstractFlushingEventListener:300 - Could not synchronize database state with session

org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [net.sf.plantlore.common.record.Metadata#33]

at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:1635)

at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2208)

at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2118)

at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2374)

at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:91)

at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:248)

at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:232)

at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:140)

at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)

at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)

at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)

at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)

at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)

at net.sf.plantlore.server.HibernateDBLayer.lowLevelOperation(HibernateDBLayer.java:282)

at net.sf.plantlore.server.HibernateDBLayer.executeUpdate(HibernateDBLayer.java:374)

at net.sf.plantlore.client.metadata.MetadataManager$4.task(MetadataManager.java:457)

at net.sf.plantlore.common.Task$1.construct(Task.java:185)

at net.sf.plantlore.common.SwingWorker$2.run(SwingWorker.java:108)

at java.lang.Thread.run(Thread.java:595)

03:27:03,718 WARN Thread-14 server:287 - StaleObjectStateException caught (Concurrent transactions running and trying to commit). Details: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [net.sf.plantlore.common.record.Metadata#33]

03:27:03,718 ERROR Thread-14 metadata:465 - Process delete metadata failed. DBLayer exception caught in MetadataManager. Details: Error.ConcurrentUpdate

03:27:03,734 DEBUG Thread-14 metadata:177 - Received message: STOPPING

03:27:03,734 DEBUG AWT-EventQueue-0 metadata:184 - Progress bar visible

03:27:03,765 DEBUG Thread-14 metadata:223 - ProgressBar:Stopping net.sf.plantlore.client.metadata.MetadataManager$<A HREF="https://lists.berlios.de/mailman/listinfo/plantlore-dev">4 at 14ba9a2</A>

03:27:03,765 WARN Thread-14 l10n:95 - The key &quot;Error.ConnectionLost&quot; is not defined in the property file!

*******************************************************************************************************************************************

User Manager ( Edit bez zmeny hesla, takze se nedela Alter User)

1. jen ulozeni dat do tabulky tRight -  nechapu, kde se tam vzalo delete

Hibernate: update TRIGHT set CVERSION=?, CADMINISTRATOR=?, CEDITALL=?, CEDITGROUP=?, CADD=? where CID=? and CVERSION=?

Hibernate: delete from TRIGHT where CID=? and CVERSION=?

03:13:58,312 WARN Thread-8 JDBCExceptionReporter:71 - SQL Error: 0, SQLState: 23503

03:13:58,312 ERROR Thread-8 JDBCExceptionReporter:72 - ERROR: update or delete on &quot;tright&quot; violates foreign key constraint &quot;tuser_crightid_fkey&quot; on &quot;tuser&quot;

03:13:58,312 ERROR Thread-8 AbstractFlushingEventListener:300 - Could not synchronize database state with session

org.hibernate.exception.ConstraintViolationException: could not delete: [net.sf.plantlore.common.record.Right#1]

at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:71)

at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)

at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2308)

at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2440)

at org.hibernate.action.EntityDeleteAction.execute(EntityDeleteAction.java:73)

at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:248)

at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:232)

at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:144)

at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)

at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)

at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)

at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)

at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)

at net.sf.plantlore.server.HibernateDBLayer.commitTransaction(HibernateDBLayer.java:830)

at net.sf.plantlore.client.user.UserManager$3.task(UserManager.java:431)

at net.sf.plantlore.common.Task$1.construct(Task.java:185)

at net.sf.plantlore.common.SwingWorker$2.run(SwingWorker.java:108)

at java.lang.Thread.run(Thread.java:595)

Caused by: java.sql.SQLException: ERROR: update or delete on &quot;tright&quot; violates foreign key constraint &quot;tuser_crightid_fkey&quot; on &quot;tuser&quot;

at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:1471)

at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1256)

at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:175)

at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:389)

at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:330)

at org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:282)

at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2294)

... 15 more

03:13:58,312 FATAL Thread-8 server:836 - JDBC Exception caught while commiting database transaction. SQL State: 23503; Details: could not delete: [net.sf.plantlore.common.record.Right#1]

03:13:58,328 DEBUG Thread-8 user:432 - Transakce v editu byla ukoncena.

03:13:58,328 DEBUG Thread-8 user:177 - Received message: STOPPING

03:13:58,328 DEBUG AWT-EventQueue-0 user:184 - Progress bar visible

03:13:58,328 DEBUG Thread-8 user:223 - ProgressBar:Stopping net.sf.plantlore.client.user.UserManager$<A HREF="https://lists.berlios.de/mailman/listinfo/plantlore-dev">3 at ecb3f1</A>

03:13:58,328 DEBUG Thread-8 user:77 - UserManager - Init data.

03:14:18,281 INFO AWT-EventQueue-0 middleware:149 - The DBLayer (Lada Jose (postgres) @ localhost (direct connection)) has been destroyed.

03:14:18,281 INFO AWT-EventQueue-0 login:433 - The client disconnected itself from the server. The communication may no longer be possible.

03:14:18,281 INFO AWT-EventQueue-0 client:330 - Saving main window preferences.

BUILD SUCCESSFUL (total time: 52 seconds)

*******************************************************************************************************************************************

User Manager ( Edit bez zmeny hesla, takze se nedela Alter User, nechapu, kde se tam vzalo delete)

1. ulozeni dat do tabulky tRight i tUser

Hibernate: update TRIGHT set CVERSION=?, CADMINISTRATOR=?, CEDITALL=?, CEDITGROUP=?, CADD=? where CID=? and CVERSION=?

Hibernate: update TUSER set CVERSION=?, CLOGIN=?, CFIRSTNAME=?, CSURNAME=?, CWHOLENAME=?, CEMAIL=?, CADDRESS=?, CCREATEWHEN=?, CDROPWHEN=?, CRIGHTID=?, CNOTE=? where CID=? and CVERSION=?

03:16:25,062 WARN Thread-8 JDBCExceptionReporter:71 - SQL Error: 0, SQLState: 23502

03:16:25,062 ERROR Thread-8 JDBCExceptionReporter:72 - ERROR: null value in column &quot;crightid&quot; violates not-null constraint

03:16:25,078 ERROR Thread-8 AbstractFlushingEventListener:300 - Could not synchronize database state with session

org.hibernate.exception.ConstraintViolationException: could not update: [net.sf.plantlore.common.record.User#8]

at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:71)

at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)

at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2222)

at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2118)

at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2374)

at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:91)

at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:248)

at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:232)

at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:140)

at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)

at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)

at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)

at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)

at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)

at net.sf.plantlore.server.HibernateDBLayer.commitTransaction(HibernateDBLayer.java:830)

at net.sf.plantlore.client.user.UserManager$3.task(UserManager.java:431)

at net.sf.plantlore.common.Task$1.construct(Task.java:185)

at net.sf.plantlore.common.SwingWorker$2.run(SwingWorker.java:108)

at java.lang.Thread.run(Thread.java:595)

Caused by: java.sql.SQLException: ERROR: null value in column &quot;crightid&quot; violates not-null constraint

at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:1471)

at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1256)

at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:175)

at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:389)

at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:330)

at org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:282)

at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2208)

... 16 more

03:16:25,093 FATAL Thread-8 server:836 - JDBC Exception caught while commiting database transaction. SQL State: 23502; Details: could not update: [net.sf.plantlore.common.record.User#8]

03:16:25,093 DEBUG Thread-8 user:432 - Transakce v editu byla ukoncena.

03:16:25,093 DEBUG Thread-8 user:177 - Received message: STOPPING

03:16:25,093 DEBUG AWT-EventQueue-0 user:184 - Progress bar visible

03:16:25,109 DEBUG Thread-8 user:223 - ProgressBar:Stopping net.sf.plantlore.client.user.UserManager$<A HREF="https://lists.berlios.de/mailman/listinfo/plantlore-dev">3 at 4298e</A>

03:16:25,109 DEBUG Thread-8 user:77 - UserManager - Init data.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/plantlore-dev/attachments/20060823/4af5bd90/attachment.html">https://lists.berlios.de/pipermail/plantlore-dev/attachments/20060823/4af5bd90/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000753.html">[Plantlore-dev] r551 - trunk/src/net/sf/plantlore/server
</A></li>
	<LI>Next message: <A HREF="000756.html">[Plantlore-dev] Planlore - ERROR :(
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#755">[ date ]</a>
              <a href="thread.html#755">[ thread ]</a>
              <a href="subject.html#755">[ subject ]</a>
              <a href="author.html#755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
