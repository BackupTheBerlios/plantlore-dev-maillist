<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r39 - trunk/src/net/sf/plantlore/client/dblayer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r39%20-%20trunk/src/net/sf/plantlore/client/dblayer&In-Reply-To=%3C200602182006.k1IK6938017948%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000019.html">
   <LINK REL="Next"  HREF="000020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r39 - trunk/src/net/sf/plantlore/client/dblayer</H1>
    <B>kovo at berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r39%20-%20trunk/src/net/sf/plantlore/client/dblayer&In-Reply-To=%3C200602182006.k1IK6938017948%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r39 - trunk/src/net/sf/plantlore/client/dblayer">kovo at berlios.de
       </A><BR>
    <I>Sat Feb 18 21:06:09 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000019.html">[Plantlore-dev] r38 - trunk/src/net/sf/plantlore/client/dblayer
</A></li>
        <LI>Next message: <A HREF="000020.html">[Plantlore-dev] r40 - trunk/src/net/sf/plantlore/client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22">[ date ]</a>
              <a href="thread.html#22">[ thread ]</a>
              <a href="subject.html#22">[ subject ]</a>
              <a href="author.html#22">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kovo
Date: 2006-02-18 21:05:29 +0100 (Sat, 18 Feb 2006)
New Revision: 39

Removed:
   trunk/src/net/sf/plantlore/client/dblayer/AuthorRecord.java
   trunk/src/net/sf/plantlore/client/dblayer/DeleteQuery.java
   trunk/src/net/sf/plantlore/client/dblayer/InsertQuery.java
   trunk/src/net/sf/plantlore/client/dblayer/OccurenceRecord.java
   trunk/src/net/sf/plantlore/client/dblayer/PlantRecord.java
   trunk/src/net/sf/plantlore/client/dblayer/PublicationRecord.java
   trunk/src/net/sf/plantlore/client/dblayer/QueryResult.java
   trunk/src/net/sf/plantlore/client/dblayer/SelectQuery.java
   trunk/src/net/sf/plantlore/client/dblayer/UpdateQuery.java
   trunk/src/net/sf/plantlore/client/dblayer/UserRecord.java
Log:
Holder objects moved to common package. *Query and QueryResult objects moved to subpackages.

Deleted: trunk/src/net/sf/plantlore/client/dblayer/AuthorRecord.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/AuthorRecord.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/AuthorRecord.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,213 +0,0 @@
-/*
- * AuthorRecord.java
- *
- * Created on 16. leden 2006, 2:32
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-/**
- *  Data holder object containing information about an author
- *
- *  @author Tomas Kovarik
- *  @version 0.1, Jan 16, 2006
- */
-public class AuthorRecord {
-    /** Parameters of the author */
-    private int id;
-    private String firstName;
-    private String surname;
-    private String organization;
-    private String role;
-    private String address;
-    private String phoneNumber;
-    private String email;
-    private String url;
-    private String note;
-    
-    /** Creates a new instance of AuthorRecord */
-    public AuthorRecord() {
-        
-    }
-    
-    /**
-     *   Set unique id of the author
-     *   @param id unique id of the author
-     *   @see getID
-     */
-    public void setID(int id) {
-        this.id = id;
-    }
-    
-    /**
-     *   Get unique id of the author
-     *   @return int unique id of the user
-     *   @see setID
-     */
-    public int getID() {
-        return this.id;
-    }
-    
-    /**
-     *   Get first name of the author
-     *   @return string containing the first name of the author
-     *   @see setFirstName
-     */
-    public String getFirstName() {
-        return this.firstName;
-    }
-    
-    /**
-     *   Set first name of the author
-     *   @param firstName string containing the first name of the author
-     *   @see getFirstName
-     */
-    public void setFirstName(String firstName) {
-        this.firstName = firstName;
-    }
-    
-    /**
-     *   Get surname of the author
-     *   @return string containing surname of the author
-     *   @see setSurname
-     */
-    public String getSurname() {
-        return this.surname;
-    }
-    
-    /**
-     *   Set surname of the author
-     *   @param surname string containing surname of the author
-     *   @see getSurname
-     */
-    public void setSurname(String surname) {
-        this.surname = surname;
-    }
-    
-    /**
-     *   Set organization the author belongs to
-     *   @param organization string containing organization the author belongs to
-     *   @see getOrganization
-     */
-    public void setOrganization(String organization) {
-        this.organization = organization;
-    }
-    
-    /**
-     *   Get organization the author belongs to
-     *   @return string containing organization the author belongs to
-     *   @see setOrganization
-     */
-    public String getOrganization() {
-        return this.organization;
-    }
-    
-    /**
-     *   Set role of the author
-     *   @param role string containing role of the author
-     *   @see getRole
-     */
-    public void setRole(String role) {
-        this.role = role;
-    }
-    
-    /**
-     *   Get role of the author
-     *   @return string representation of author's role
-     *   @see setRole
-     */
-    public String getRole() {
-        return this.role;
-    }
-    
-    /**
-     *   Get address of the author
-     *   @return string containing address of the author
-     *   @see setAddress
-     */
-    public String getAddress() {
-        return this.address;
-    }
-    
-    /**
-     *   Set address of the author
-     *   @param address string containing address of the author
-     *   @see getAddress
-     */
-    public void setAddress(String address) {
-        this.address = address;
-    }
-    
-    /**
-     *   Get phone number of the author
-     *   @return string containing phone number of the author
-     *   @see setPhoneNumber
-     */
-    public String getPhoneNumber() {
-        return this.phoneNumber;
-    }
-    
-    /**
-     *   Set email of the author
-     *   @param phoneNumber string containing phone number of the author
-     *   @see getPhoneNumber
-     */
-    public void setPhoneNumber(String phoneNumber) {
-        this.phoneNumber = phoneNumber;
-    }
-    
-    /**
-     *   Get email of the author
-     *   @return string containing email of the author
-     *   @see setEmail
-     */
-    public String getEmail() {
-        return this.email;
-    }
-    
-    /**
-     *   Set email of the author
-     *   @param email string containing email of the author
-     *   @see getEmail
-     */
-    public void setEmail(String email) {
-        this.email = email;
-    }
-    
-    /**
-     *   Get URL of the author
-     *   @return URL of the author's webpage
-     *   @see setUrl
-     */
-    public String getUrl() {
-        return this.url;
-    }
-    
-    /**
-     *   Set URL of the author
-     *   @param url URL of the author's webpage
-     *   @see getUrl
-     */
-    public void setUrl(String url) {
-        this.url = url;
-    }
-    
-    /**
-     *   Get note about the author
-     *   @return string containing note about the author
-     *   @see setNote
-     */
-    public String getNote() {
-        return this.note;
-    }
-    
-    /**
-     *   Set note about the author
-     *   @param contact string containing note about the author
-     *   @see getNote
-     */
-    public void setNote(String note) {
-        this.note = note;
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/DeleteQuery.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/DeleteQuery.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/DeleteQuery.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,128 +0,0 @@
-/*
- * DeleteQuery.java
- *
- * Created on 15. leden 2006, 13:56
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-import java.util.ArrayList;
-import org.apache.log4j.Logger;
-
-/**
- * Object holding parameters of delete query
- *
- * @author Tomas Kovarik
- * @version 0.1, Jan 15, 2006
- */
-public class DeleteQuery {
-    /** Type of data we are working with. For the list of types see DBmapping class */
-    private String type;
-    /** List of triples for the WHERE part of the query */
-    private ArrayList whereList;
-    /** Instance of DBMapping object */
-    private DBMapping dbmap;
-    /** Instance of a logger */
-    private Logger logger;
-    
-    /**
-     * Create a new instance of DeleteQuery. Initializes empty &lt;code&gt;whereList&lt;/code&gt; array.
-     */
-    public DeleteQuery() {
-        whereList = new ArrayList();
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Create new instance of the DeleteQuery. Initializes &lt;code&gt;whereList&lt;/code&gt; with the given values
-     *
-     *  @param type         type of data we are working with
-     *  @param whereList    List of triples for the WHERE clause
-     *  @throws DBLayetException in case the given type was not found in the DBMapping class
-     */
-    public DeleteQuery(String type, ArrayList where) throws DBLayerException {
-        this.whereList = where;
-        setType(type);
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Add an item (triplet) to the list of triples for the WHERE part of the query
-     *
-     *  @param field    name of the field (left operand)
-     *  @param operator operator connecting operands
-     *  @param value    value of the field (right operand)
-     */
-    public void addWhere(String field, String operator, String value) {
-        String[] triple = {new String(field), new String(operator), new String(value) };
-        whereList.add(triple);
-    }
-    
-    /**
-     *  Set the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @param type Type of data we are working with
-     *  @throws DBLayerException in case the given type was not found in the DBMapping class
-     */
-    public void setType(String type) throws DBLayerException {
-        if (dbmap.checkType(type)) {
-            this.type = type;
-        } else {
-            logger.error(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-            throw new DBLayerException(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-        }
-    }
-    
-    /**
-     *  Get the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @return Type of data we are working with
-     */
-    public String getType() {
-        return this.type;
-    }
-    
-    /**
-     *  Transform data in this object to the SQL query.
-     *
-     *  @return String with the SQL query constructed from the data stored in the object
-     *  @throws DBLayerException in case some part of the SQL query cannot be constructed
-     */
-    public String toSQL() throws DBLayerException {
-        StringBuffer sql;
-        StringBuffer where;
-        String from;
-        String fieldName;
-        String[] triple;
-        
-        // Initialize StringBuffers
-        sql = new StringBuffer();
-        where = new StringBuffer();
-        // Get the name of the table from which we want to delete records
-        from = dbmap.getTableName(this.type);
-        // Construct the WHERE clasue
-        for (int i=0;i&lt;whereList.size();i++) {
-            if (i&gt;0) {
-                where.append(&quot; AND &quot;);
-            }
-            triple = (String[])whereList.get(i);
-            fieldName = dbmap.getFieldName(triple[0], this.type);
-            where.append(fieldName);
-            where.append(&quot; &quot;);
-            where.append(triple[1]);
-            where.append(&quot; &quot;);
-            where.append(&quot;'&quot;+triple[2]+&quot;'&quot;);
-        }
-        // Construct SQL query
-        sql.append(&quot;DELETE FROM &quot;);
-        sql.append(from);
-        sql.append(&quot; WHERE &quot;);
-        sql.append(where);
-        
-        logger.debug(sql.toString());
-        return sql.toString();
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/InsertQuery.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/InsertQuery.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/InsertQuery.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,135 +0,0 @@
-/*
- * InsertQuery.java
- *
- * Created on 15. leden 2006, 13:56
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-import java.util.ArrayList;
-import org.apache.log4j.Logger;
-
-/**
- * Object hodling parameters of an insert query
- *
- * @author Tomas Kovarik
- * @versionm 0.1, Jan 15, 2006
- */
-public class InsertQuery {
-    /** Type of data we are working with. For the list of types see DBmapping class */
-    private String type;
-    // Array of tuples containing the data we want to insert
-    private ArrayList data;
-    /** Instance of DBMapping object */
-    private DBMapping dbmap;
-    /** Instance of a logger */
-    private Logger logger;
-    
-    /**
-     * Create a new instance of InsertQuery. Initializes empty &lt;code&gt;data&lt;/code&gt; array.
-     */
-    public InsertQuery() {
-        data = new ArrayList();
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Create new instance of the InsertQuery. Initializes &lt;code&gt;data&lt;/code&gt; array with the given values
-     *
-     *  @param type     type of data we are working with
-     *  @param data     List of tuples containing values to insert
-     *  @throws DBLayetException in case the given type was not found in the DBMapping class
-     */
-    public InsertQuery(String type, ArrayList insertData) throws DBLayerException {
-        this.data = insertData;
-        setType(type);
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Add an item (tuple) to the list of values which will be inserted
-     *
-     *  @param field    name of the field (column)
-     *  @param value    value of the field (column)
-     */
-    public void addData(String field, String value) {
-        String[] tuple = {new String(field), new String(value) };
-        data.add(tuple);
-    }
-    
-    /**
-     *  Set the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @param type Type of data we are working with
-     *  @throws DBLayerException in case the given type was not found in the DBMapping class
-     */
-    public void setType(String type) throws DBLayerException {
-        if (dbmap.checkType(type)) {
-            this.type = type;
-        } else {
-            logger.error(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-            throw new DBLayerException(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-        }
-    }
-    
-    /**
-     *  Get the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @return Type of data we are working with
-     */
-    public String getType() {
-        return this.type;
-    }
-    
-    /**
-     *  Transform data in this object to the SQL query.
-     *
-     *  @return String with the SQL query constructed from the data stored in the object
-     *  @throws DBLayerException in case some part of the SQL query cannot be constructed
-     */
-    public String toSQL() throws DBLayerException {
-        StringBuffer sql;
-        StringBuffer insertFields;
-        StringBuffer insertData;
-        String into;
-        String fieldName;
-        String[] tuple;
-        
-        // Initialize StringBuffers
-        sql = new StringBuffer();
-        insertFields = new StringBuffer();
-        insertData = new StringBuffer();
-        // Get the name of the table into which we will insert data
-        into = dbmap.getTableName(this.type);
-        // Construct part of the query with the data
-        for (int i=0;i&lt;data.size();i++) {
-            if (i&gt;0) {
-                insertFields.append(&quot;, &quot;);
-                insertData.append(&quot;, &quot;);
-            }
-            tuple = (String[])data.get(i);
-            fieldName = dbmap.getFieldName(tuple[0], this.type);
-            insertFields.append(fieldName);
-            // TODO: Rewrite adding quotes to the queries
-            if (i&gt;0) {
-                insertData.append(&quot;'&quot;+tuple[1]+&quot;'&quot;);
-            } else {
-                insertData.append(tuple[1]);                
-            }
-        }
-        // Construct SQL query
-        sql.append(&quot;INSERT INTO &quot;);
-        sql.append(into);
-        sql.append(&quot; (&quot;);
-        sql.append(insertFields);
-        sql.append(&quot;) VALUES (&quot;);
-        sql.append(insertData);
-        sql.append(&quot;)&quot;);
-        
-        logger.debug(sql.toString());
-        return sql.toString();
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/OccurenceRecord.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/OccurenceRecord.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/OccurenceRecord.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,179 +0,0 @@
-/*
- * OccurenceRecord.java
- *
- * Created on 23. leden 2006, 21:46
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-import java.util.ArrayList;
-import java.util.Date;
-
-/**
- *
- * @author Jakub
- */
-public class OccurenceRecord
-{
-    private int id;
-    private String recordDbId;
-    private String recordId;
-    private int year;
-    private int month;
-    private int day;
-    private Date time;
-    //private Date isoDateTime;
-    //private String DateSource;
-    private String herbarium;
-    private Date createdWhen;
-    private UserRecord createdWho; //?
-    private Date updatedWhen;
-    private UserRecord updatedWho; //?
-    private String note;
-    
-    /** we must not forget create better setters
-     *       - or at least think about it more
-     *
-     */
-    private AuthorRecord[] authorRecords; //?
-    
-    
-    
-    /** Creates a new instance of OccurenceRecord */
-    public OccurenceRecord()
-    {
-    }
-
-    public String getRecordDbId()
-    {
-        return recordDbId;
-    }
-
-    public void setRecordDbId(String recordDbId)
-    {
-        this.recordDbId = recordDbId;
-    }
-
-    public String getRecordId()
-    {
-        return recordId;
-    }
-
-    public void setRecordId(String recordId)
-    {
-        this.recordId = recordId;
-    }
-
-    public int getYear()
-    {
-        return year;
-    }
-
-    public void setYear(int year)
-    {
-        this.year = year;
-    }
-
-    public int getMonth()
-    {
-        return month;
-    }
-
-    public void setMonth(int month)
-    {
-        this.month = month;
-    }
-
-    public int getDay()
-    {
-        return day;
-    }
-
-    public void setDay(int day)
-    {
-        this.day = day;
-    }
-
-    public Date getTime()
-    {
-        return time;
-    }
-
-    public void setTime(Date time)
-    {
-        this.time = time;
-    }
-
-    public String getHerbarium()
-    {
-        return herbarium;
-    }
-
-    public void setHerbarium(String herbarium)
-    {
-        this.herbarium = herbarium;
-    }
-
-    public Date getCreatedWhen()
-    {
-        return createdWhen;
-    }
-
-    public void setCreatedWhen(Date createdWhen)
-    {
-        this.createdWhen = createdWhen;
-    }
-
-    public UserRecord getCreatedWho()
-    {
-        return createdWho;
-    }
-
-    public void setCreatedWho(UserRecord createdWho)
-    {
-        this.createdWho = createdWho;
-    }
-
-    public Date getUpdatedWhen()
-    {
-        return updatedWhen;
-    }
-
-    public void setUpdatedWhen(Date updatedWhen)
-    {
-        this.updatedWhen = updatedWhen;
-    }
-
-    public UserRecord getUpdatedWho()
-    {
-        return updatedWho;
-    }
-
-    public void setUpdatedWho(UserRecord updatedWho)
-    {
-        this.updatedWho = updatedWho;
-    }
-
-    public String getNote()
-    {
-        return note;
-    }
-
-    public void setNote(String note)
-    {
-        this.note = note;
-    }
-
-    public AuthorRecord[] getAuthorRecords()
-    {
-        return authorRecords;
-    }
-
-    public void setAuthorRecords(AuthorRecord[] authorRecords)
-    {
-        this.authorRecords = authorRecords;
-    }
-
-    
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/PlantRecord.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/PlantRecord.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/PlantRecord.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,77 +0,0 @@
-/*
- * PlantRecord.java
- *
- * Created on 16. leden 2006, 2:32
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-/**
- *  Data holder object containing information about a plant
- *
- *  @author Tomas Kovarik
- *  @version 0.1, Jan 16, 2006
- */
-public class PlantRecord {
-    // Paraneters of the plant
-    private int id;
-    private String adoptedName;
-    private String czechName;
-    private String publishableName;
-    private String abbreviation;
-    private String note;
-    
-    /** Creates a new instance of PlantRecord */
-    public PlantRecord() {
-        
-    }
-    
-    public void setID(int id) {
-        this.id = id;
-    }
-    
-    public int getID() {
-        return this.id;
-    }
-    
-    public void setAdoptedName(String adoptedName) {
-        this.adoptedName = adoptedName;
-    }
-    
-    public String getAdoptedName() {
-        return this.adoptedName;
-    }
-    
-    public void setCzechName(String czechName) {
-        this.czechName = czechName;
-    }
-    
-    public String getCzechName() {
-        return this.czechName;
-    }
-    
-    public void setPublishableName(String publishableName) {
-        this.publishableName = publishableName;
-    }
-    
-    public String getPublishableName() {
-        return this.publishableName;
-    }
-    
-    public void setAbbreviation(String abbreviation) {
-        this.abbreviation = abbreviation;
-    }
-    
-    public String getAbbreviation() {
-        return this.abbreviation;
-    }
-    
-    public void setNote(String note) {
-        this.note = note;
-    }
-    
-    public String getNote() {
-        return this.note;
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/PublicationRecord.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/PublicationRecord.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/PublicationRecord.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,68 +0,0 @@
-/*
- * PublicationRecord.java
- *
- * Created on 16. leden 2006, 2:32
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-/**
- *  Data holder object containing information about a publication
- *
- *  @author Tomas Kovarik
- *  @version 0.1, Jan 16, 2006
- */
-public class PublicationRecord {
-    // Parameters of the publication
-    private int id;
-    private String collectionName;
-    private int publicationYear;
-    private String journalName;
-    private String journalAuthor;
-    
-    /** Creates a new instance of PublicationRecord */
-    public PublicationRecord() {
-        
-    }
-    
-    public void setID(int id) {
-        this.id = id;
-    }
-    
-    public int getID() {
-        return this.id;
-    }
-    
-    public void setCollectionName(String collectionName) {
-        this.collectionName = collectionName;
-    }
-    
-    public String getCollectionName() {
-        return this.collectionName;
-    }
-    
-    public void setPublicationYear(int publicationYear) {
-        this.publicationYear = publicationYear;
-    }
-    
-    public int getPublicationYear() {
-        return this.publicationYear;
-    }
-    
-    public void setJournalName(String journalName) {
-        this.journalName = journalName;
-    }
-    
-    public String getJournalName() {
-        return this.journalName;
-    }
-    
-    public void setJournalAuthor(String journalAuthor) {
-        this.journalAuthor = journalAuthor;
-    }
-    
-    public String getJournalAuthor() {
-        return this.journalAuthor;
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/QueryResult.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/QueryResult.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/QueryResult.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,76 +0,0 @@
-/*
- * QueryResult.java
- *
- * Created on 14. leden 2006, 23:22
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-/**
- * Storage class for information about the results of a query.
- *
- * @author Tomas Kovarik
- * @version 0.1, Jan 14, 2006
- */
-public class QueryResult {
-    /** Unique identification of the result */
-    private int resultID;
-    /** Number of rows in the result / affected by the operation */
-    private int numRows;
-    /** Result code of the operation */
-    private int operationResult;
-    /** Type of the operation (entity which is in the result) */
-    private String type;
-    
-    /**
-     * Creates a new instance of QueryResult
-     *
-     * @param resultID          Unique identification of the result
-     * @param numRows           Number of rows in the result / affected by the operation
-     * @param operationResult   Result code of the operation
-     * @param type              Type of the operation
-     */
-    public QueryResult(int resultID, int numRows, int operationResult, String type) {
-        this.resultID = resultID;
-        this.numRows = numRows;
-        this.operationResult = operationResult;
-        this.type = type;
-    }
-    
-    /**
-     * Return unique ID of the result represented by this object
-     *
-     * @return Unique ID of the result
-     */
-    public int getResultID() {
-        return this.resultID;
-    }
-    
-    /**
-     * Return number of rows in the result (either number of selected or affected rows)
-     *
-     * @return Number of rows in the result
-     */
-    public int getNumRows() {
-        return this.numRows;
-    }
-    
-    /**
-     * Return result code of the operation (of the executed query)
-     *
-     * @return Code of the operation result
-     */
-    public int getOperationResult() {
-        return this.operationResult;
-    }
-    
-    /**
-     * Return type of the operation (entity returned by thye query)
-     *
-     * @return String type of the operation
-     */
-    public String getType() {
-        return this.type;
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/SelectQuery.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/SelectQuery.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/SelectQuery.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,165 +0,0 @@
-/*
- * SelectQuery.java
- *
- * Created on 15. leden 2006, 13:55
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-import java.util.ArrayList;
-import org.apache.log4j.Logger;
-
-/**
- * Object holding parameters of a select query.
- *
- * @author Tomas Kovarik
- * @version 0.1, Jan 15, 2006
- */
-public class SelectQuery {
-    /** Type of data we are working with. For the list of types see DBmapping class */
-    private String type;
-    /** List of triples for the WHERE part of the query */
-    private ArrayList whereList;
-    /** List of tuples for the ORDER BY part of the query */
-    private ArrayList orderbyList;
-    /** Instance of DBMapping object */
-    private DBMapping dbmap;
-    /** Instance of a logger */
-    private Logger logger;
-    
-    /**
-     * Create a new instance of SelectQuery. Initializes empty &lt;code&gt;whereList&lt;/code&gt; and &lt;code&gt;orderbyList&lt;/code&gt;
-     */
-    public SelectQuery() {
-        this.whereList = new ArrayList();
-        this.orderbyList = new ArrayList();
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Create new instance of the SelectQuery. Initializes &lt;code&gt;whereList&lt;/code&gt; and &lt;code&gt;orderbyList&lt;/code&gt;
-     *  with the given values
-     *
-     *  @param type     type of data we are working with
-     *  @param where    List of triples for the WHERE part of the query
-     *  @param orderby  List of tuples for the ORDER BY part of the query
-     *  @throws DBLayerException in case the given type was not found in the DBMapping class
-     */
-    public SelectQuery(String type, ArrayList where, ArrayList orderby) throws DBLayerException {
-        this.whereList = where;
-        this.orderbyList = orderby;
-        setType(type);
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Add an item (triplet) to the list of triples for the WHERE part of the query
-     *
-     *  @param field    name of the field (left operand)
-     *  @param operator operator connecting operands
-     *  @param value    value of the field (right operand)
-     */
-    public void addWhere(String field, String operator, String value) {
-        String[] triple = {new String(field), new String(operator), new String(value) };
-        whereList.add(triple);
-    }
-    
-    /**
-     *  Add an item (tuple) to the list of tuples for the ORDER BY part of the query
-     *
-     *  @param field    name of the field for sorting
-     *  @param value    direction of sorting (&lt;code&gt;ASC&lt;/code&gt; or &lt;code&gt;DESC&lt;/code&gt;)
-     */
-    public void addOrderby(String field, String direction) {
-        String[] tuple = { new String(field), new String(direction) };
-        orderbyList.add(tuple);
-    }
-    
-    /**
-     *  Set the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @param type Type of data we are working with
-     *  @throws DBLayerException in case the given type was not found in the DBMapping class
-     */
-    public void setType(String type) throws DBLayerException {
-        if (dbmap.checkType(type)) {
-            this.type = type;
-        } else {
-            logger.error(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-            throw new DBLayerException(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-        }
-    }
-    
-    /**
-     *  Get the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @return Type of data we are working with
-     */
-    public String getType() {
-        return this.type;
-    }
-    
-    /**
-     *  Transform data in this object to the SQL query.
-     *
-     *  @return String with the SQL query constructed from the data stored in the object
-     *  @throws DBLayerException in case some part of the SQL query cannot be constructed
-     */
-    public String toSQL() throws DBLayerException{
-        StringBuffer sql;
-        String from;
-        StringBuffer where;
-        StringBuffer orderby;
-        String fieldName;
-        String[] triple;
-        String[] tuple;
-        
-        // Initialize StringBuffers
-        where = new StringBuffer();
-        sql = new StringBuffer();
-        orderby = new StringBuffer();
-        // Get the table names we will be working with
-        from = dbmap.getTableName(this.type);
-        // Construct WHERE clause
-        for (int i=0;i&lt;whereList.size();i++) {
-            if (i&gt;0) {
-                where.append(&quot; AND &quot;);
-            }
-            triple = (String[])whereList.get(i);
-            fieldName = dbmap.getFieldName(triple[0], this.type);
-            where.append(fieldName);
-            where.append(&quot; &quot;);
-            where.append(triple[1]);
-            where.append(&quot; &quot;);
-            where.append(&quot;'&quot;+triple[2]+&quot;'&quot;);
-        }
-        // Construct orderby clause
-        for (int i=0;i&lt;orderbyList.size();i++) {
-            if (i&gt;0) {
-                orderby.append(&quot;, &quot;);
-            }
-            tuple = (String[])orderbyList.get(i);
-            fieldName = dbmap.getFieldName(tuple[0], this.type);
-            orderby.append(fieldName);
-            orderby.append(&quot; &quot;);
-            orderby.append(tuple[1]);
-        }
-        // Construct SQL query
-        sql.append(&quot;SELECT * FROM &quot;);
-        sql.append(from);
-        if (whereList.size() != 0) {
-            sql.append(&quot; WHERE &quot;);
-            sql.append(where);
-        }
-        if (orderbyList.size() != 0) {
-            sql.append(&quot; &quot;);
-            sql.append(orderby);
-        }
-        
-        logger.debug(sql.toString());
-        return sql.toString();
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/UpdateQuery.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/UpdateQuery.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/UpdateQuery.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,161 +0,0 @@
-/*
- * UpdateQuery.java
- *
- * Created on 15. leden 2006, 13:56
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-import java.util.ArrayList;
-import org.apache.log4j.Logger;
-
-/**
- * Object holding parameters of delte query
- *
- * @author Tomas Kovarik
- * @version 0.1, Jan 15, 2006
- */
-public class UpdateQuery {
-    /** Type of data we are working with. For the list of types see DBmapping class */
-    private String type;
-    /** List of triples for the WHERE part of the query */
-    private ArrayList whereList;
-    // Array of tuples containing the data we want to insert
-    private ArrayList data;
-    /** Instance of DBMapping object */
-    private DBMapping dbmap;
-    /** Instance of a logger */
-    private Logger logger;
-    
-    /**
-     * Creates a new instance of UpdateQuery. Initializes empty &lt;code&gt;whereList&lt;/code&gt; and &lt;code&gt;data&lt;/code&gt; array.
-     */
-    public UpdateQuery() {
-        whereList = new ArrayList();
-        data = new ArrayList();
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-        
-    }
-    
-    /**
-     *  Create new instance of the DeleteQuery. Initializes &lt;code&gt;whereList&lt;/code&gt; and &lt;code&gt;data&lt;/code&gt; with the given values
-     *
-     *  @param type         type of data we are working with
-     *  @param whereList    List of triples for the WHERE clause
-     *  @param updateData   List of tuples with the updated data
-     *  @throws DBLayetException in case the given type was not found in the DBMapping class
-     */
-    public UpdateQuery(String type, ArrayList where, ArrayList updateData) throws DBLayerException {
-        this.whereList = where;
-        this.data = updateData;
-        setType(type);
-        dbmap = new DBMapping();
-        logger = Logger.getLogger(this.getClass().getPackage().getName());
-    }
-    
-    /**
-     *  Add an item (triplet) to the list of triples for the WHERE part of the query
-     *
-     *  @param field    name of the field (left operand)
-     *  @param operator operator connecting operands
-     *  @param value    value of the field (right operand)
-     */
-    public void addWhere(String field, String operator, String value) {
-        String[] triple = {new String(field), new String(operator), new String(value) };
-        whereList.add(triple);
-    }
-    
-    /**
-     *  Add an item (tuple) to the list of values which will be updated
-     *
-     *  @param field    name of the field (column)
-     *  @param value    value of the field (column)
-     */
-    public void addData(String field, String value) {
-        String[] tuple = {new String(field), new String(value) };
-        data.add(tuple);
-    }
-    
-    /**
-     *  Set the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @param type Type of data we are working with
-     *  @throws DBLayerException in case the given type was not found in the DBMapping class
-     */
-    public void setType(String type) throws DBLayerException {
-        if (dbmap.checkType(type)) {
-            this.type = type;
-        } else {
-            logger.error(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-            throw new DBLayerException(&quot;Type '&quot;+type+&quot;' not found in DB mapping&quot;);
-        }
-    }
-    
-    /**
-     *  Get the type of data we are working with. For the list of types see DBmapping class.
-     *
-     *  @return Type of data we are working with
-     */
-    public String getType() {
-        return this.type;
-    }
-    
-    /**
-     *  Transform data in this object to the SQL query.
-     *
-     *  @return String with the SQL query constructed from the data stored in the object
-     *  @throws DBLayerException in case some part of the SQL query cannot be constructed
-     */
-    public String toSQL() throws DBLayerException {
-        StringBuffer sql;
-        String table;
-        StringBuffer where;
-        StringBuffer update;
-        String fieldName;
-        String[] triple;
-        String[] tuple;
-        
-        // Initialize StringBuffers
-        where = new StringBuffer();
-        sql = new StringBuffer();
-        update = new StringBuffer();
-        // Get the name of the table we want to update
-        table = dbmap.getTableName(this.type);
-        // Construct WHERE clause
-        for (int i=0;i&lt;whereList.size();i++) {
-            if (i&gt;0) {
-                where.append(&quot; AND &quot;);
-            }
-            triple = (String[])whereList.get(i);
-            fieldName = dbmap.getFieldName(triple[0], this.type);
-            where.append(fieldName);
-            where.append(&quot; &quot;);
-            where.append(triple[1]);
-            where.append(&quot; &quot;);
-            where.append(&quot;'&quot;+triple[2]+&quot;'&quot;);
-        }
-        // Construct swction of the query containing updated data
-        for (int i=0;i&lt;data.size();i++) {
-            if (i&gt;0) {
-                update.append(&quot;, &quot;);
-            }
-            tuple = (String[])data.get(i);
-            fieldName = dbmap.getFieldName(tuple[0], this.type);
-            update.append(fieldName);
-            update.append(&quot; = &quot;);
-            update.append(&quot;'&quot;+tuple[1]+&quot;'&quot;);
-        }
-        // Construct whole SQL query
-        sql.append(&quot;UPDATE &quot;);
-        sql.append(table);
-        sql.append(&quot; SET &quot;);
-        sql.append(update);
-        sql.append(&quot; &quot;);
-        sql.append(where);
-        
-        logger.debug(sql.toString());
-        return sql.toString();
-    }
-}

Deleted: trunk/src/net/sf/plantlore/client/dblayer/UserRecord.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/UserRecord.java	2006-02-18 20:04:05 UTC (rev 38)
+++ trunk/src/net/sf/plantlore/client/dblayer/UserRecord.java	2006-02-18 20:05:29 UTC (rev 39)
@@ -1,251 +0,0 @@
-/*
- * UserRecord.java
- *
- * Created on 16. leden 2006, 2:32
- *
- */
-
-package net.sf.plantlore.client.dblayer;
-
-/**
- *  Data holder object containing information about a user
- *
- *  @author Tomas Kovarik
- *  @version 0.1, Jan 16, 2006
- */
-public class UserRecord {
-    /** Parameters of the user */
-    private int id;
-    private String login;
-    private String firstName;
-    private String surname;
-    private String email;
-    private String address;
-    private java.util.Date whenCreated;
-    private java.util.Date whenDropped;
-    private String note;
-    private int exportRight;
-    private int importRight;
-    private String role;
-    
-    /** Creates a new instance of UserRecord */
-    public UserRecord() {
-        
-    }
-    
-    /**
-     *   Get user id
-     *   @return id of the user
-     *   @see setID
-     */
-    public int getID() {
-        return this.id;
-    }
-    
-    /**
-     *   Set user id
-     *   @param id   id of the user
-     *   @see getID
-     */
-    public void setID(int id) {
-        this.id = id;
-    }
-    
-    /**
-     *   Get login name of the user
-     *   @return login name of the user
-     *   @see setLogin
-     */
-    public String getLogin() {
-        return this.login;
-    }
-    
-    /**
-     *   Set login name of the user
-     *   @param login string containing login name of the user
-     *   @see getLogin
-     */
-    public void setLogin(String login) {
-        this.login = login;
-    }
-    
-    /**
-     *   Get first name of the user
-     *   @return string containing the first name of the user
-     *   @see setFirstName
-     */
-    public String getFirstName() {
-        return this.firstName;
-    }
-    
-    /**
-     *   Set first name of the user
-     *   @param firstName string containing the first name of the user
-     *   @see getFirstName
-     */
-    public void setFirstName(String firstName) {
-        this.firstName = firstName;
-    }
-    
-    /**
-     *   Get surname of the user
-     *   @return string containing surname of the user
-     *   @see setSurname
-     */
-    public String getSurname() {
-        return this.surname;
-    }
-    
-    /**
-     *   Set surname of the user
-     *   @param surname string containing surname of the user
-     *   @see getSurname
-     */
-    public void setSurname(String surname) {
-        this.surname = surname;
-    }
-    
-    /**
-     *   Get email of the user
-     *   @return string containing email of the user
-     *   @see setEmail
-     */
-    public String getEmail() {
-        return this.email;
-    }
-    
-    /**
-     *   Set email of the user
-     *   @param contact string containing email of the user
-     *   @see getEmail
-     */
-    public void setEmail(String email) {
-        this.email = email;
-    }
-    
-    /**
-     *   Get address of the user
-     *   @return string containing address of the user
-     *   @see setAddress
-     */
-    public String getAddress() {
-        return this.address;
-    }
-    
-    /**
-     *   Set address of the user
-     *   @param contact string containing address of the user
-     *   @see getAddress
-     */
-    public void setAddress(String address) {
-        this.address = address;
-    }
-    
-    /**
-     *   Get date when the user was created
-     *   @return date when the user was added to the system
-     *   @see setWhenCreated
-     */
-    public java.util.Date getWhenCreated() {
-        return this.whenCreated;
-    }
-    
-    /**
-     *   Set date when the user was created
-     *   @param whenCreated date when the user was added to the system
-     *   @see getWhenCreated
-     */
-    public void setWhenCreated(java.util.Date whenCreated) {
-        this.whenCreated = whenCreated;
-    }
-    
-    /**
-     *   Get date when the user was droped
-     *   @return date when the user was deleted from the system
-     *   @see setWhenDropped
-     */
-    public java.util.Date getWhenDropped() {
-        return this.whenDropped;
-    }
-    
-    /**
-     *   Set date when the user was droped
-     *   @param whenDropped date when the user was deleted from the system
-     *   @see getWhenDropped
-     */
-    public void setWhenDropped(java.util.Date whenDropped) {
-        this.whenDropped = whenDropped;
-    }
-    
-    /**
-     *   Get note about the user
-     *   @return string containing note about the user
-     *   @see setNote
-     */
-    public String getNote() {
-        return this.note;
-    }
-    
-    /**
-     *   Set note about the user
-     *   @param contact string containing note about the user
-     *   @see getNote
-     */
-    public void setNote(String note) {
-        this.note = note;
-    }
-    
-    /**
-     *  Get the information about the export right of the user
-     *  @return information about the export right of the user
-     *  @see setExportRight
-     */
-    public int getExportRight() {
-        return this.exportRight;
-    }
-    
-    /**
-     *   Set the information about the export right of the user
-     *   @param exportRight information about the export right of the user
-     *   @see getExportRight
-     */
-    public void setExportRight(int exportRight) {
-        this.exportRight = exportRight;
-    }
-    
-    /**
-     *  Get the information about the import right of the user
-     *  @return information about the import right of the user
-     *  @see setImportRight
-     */
-    public int getImportRight() {
-        return this.importRight;
-    }
-    
-    /**
-     *   Set the information about the imoprt right of the user
-     *   @param importRight information about the import right of the user
-     *   @see getImportRight
-     */
-    public void setImportRight(int importRight) {
-        this.importRight = importRight;
-    }
-    
-    /**
-     *  Get role of the user
-     *  @return String representation of the role of the user
-     *  @see setRole
-     */
-    public String getRole() {
-        return this.role;
-    }
-    
-    /**
-     *   Set the role of the user
-     *   @param role String representation of the role of the user
-     *   @see getRole
-     */
-    public void setRole(String role) {
-        this.role = role;
-    }
-}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000019.html">[Plantlore-dev] r38 - trunk/src/net/sf/plantlore/client/dblayer
</A></li>
	<LI>Next message: <A HREF="000020.html">[Plantlore-dev] r40 - trunk/src/net/sf/plantlore/client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22">[ date ]</a>
              <a href="thread.html#22">[ thread ]</a>
              <a href="subject.html#22">[ subject ]</a>
              <a href="author.html#22">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
