<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plantlore-dev] r42 - in trunk/src/net/sf/plantlore/client: . dblayer history
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plantlore-dev/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r42%20-%20in%20trunk/src/net/sf/plantlore/client%3A%20.%20dblayer%20history&In-Reply-To=%3C200602230143.k1N1h7VP032326%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000024.html">
   <LINK REL="Next"  HREF="000025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plantlore-dev] r42 - in trunk/src/net/sf/plantlore/client: . dblayer history</H1>
    <B>Lada at berlios.de</B> 
    <A HREF="mailto:plantlore-dev%40lists.berlios.de?Subject=Re%3A%20%5BPlantlore-dev%5D%20r42%20-%20in%20trunk/src/net/sf/plantlore/client%3A%20.%20dblayer%20history&In-Reply-To=%3C200602230143.k1N1h7VP032326%40sheep.berlios.de%3E"
       TITLE="[Plantlore-dev] r42 - in trunk/src/net/sf/plantlore/client: . dblayer history">Lada at berlios.de
       </A><BR>
    <I>Thu Feb 23 02:43:07 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000024.html">[Plantlore-dev] r41 - in trunk: analysis analysis/biocase analysis/database documentation
</A></li>
        <LI>Next message: <A HREF="000025.html">[Plantlore-dev] r43 - trunk/src/net/sf/plantlore/l10n
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26">[ date ]</a>
              <a href="thread.html#26">[ thread ]</a>
              <a href="subject.html#26">[ subject ]</a>
              <a href="author.html#26">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: Lada
Date: 2006-02-23 02:42:47 +0100 (Thu, 23 Feb 2006)
New Revision: 42

Added:
   trunk/src/net/sf/plantlore/client/history/
   trunk/src/net/sf/plantlore/client/history/History.java
   trunk/src/net/sf/plantlore/client/history/HistoryCtrl.java
   trunk/src/net/sf/plantlore/client/history/HistoryTableModel.java
   trunk/src/net/sf/plantlore/client/history/HistoryView.java
Modified:
   trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
   trunk/src/net/sf/plantlore/client/AppCoreView.java
   trunk/src/net/sf/plantlore/client/dblayer/DBMapping.java
Log:
Second try commit. Add history for selected occurrence. Add historyRecord. Update AppCoreView, AppCoreCtr, DBmapping for work with history - Odkaz na historii jednoho nalezu je dan zatim do menu, ale do budoucna bude u tabulky s nalezama a v menu bude odkaz do celkove historie

Modified: trunk/src/net/sf/plantlore/client/AppCoreCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/AppCoreCtrl.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -24,6 +24,10 @@
 import net.sf.plantlore.client.authors.AuthorManagerCtrl;
 import net.sf.plantlore.client.authors.AuthorManagerView;
 import net.sf.plantlore.client.dblayer.DBMapping;
+import net.sf.plantlore.client.history.History;
+import net.sf.plantlore.client.history.HistoryCtrl;
+import net.sf.plantlore.client.history.HistoryView;
+
 import org.apache.log4j.Logger;
 
 /** Application core controller.
@@ -42,6 +46,10 @@
     SettingsCtrl settingsCtrl;
     Preferences prefs;
     
+    History historyModel;
+    HistoryView historyView;
+    HistoryCtrl historyCtrl;
+    
     /** Creates a new instance of AppCoreCtrl */
     public AppCoreCtrl(AppCore model, AppCoreView view)
     {
@@ -56,6 +64,7 @@
         view.addHelpAboutListener(new HelpAboutListener());
         view.addDataAuthorsListener(new DataAuthorsListener());
         view.addDataPublicationsListener(new DataPublicationsListener());
+        view.addDataHistoryListener(new DataHistoryListener());
     }
     
     /** Handles click to menu item Settings.
@@ -161,5 +170,19 @@
         public void actionPerformed(ActionEvent actionEvent) {
             // Open publication manager - not implemented yet
         }
+    }   
+    
+    class DataHistoryListener implements ActionListener {
+    	public void actionPerformed(ActionEvent actionEvent)
+        {
+            System.out.println(&quot;Undo selected&quot;);
+            //toto volani historie nebude v menu, ale jako tlacitko pro vybrany zaznam        
+            //o vybranem zaznamu predame informace, ktere chceme o nem v historii zobrazit
+            //jmeno rosliny, jmeno autora a lokaci a idOccurrences
+            historyModel = new History(model.getDatabase(),&quot;Adis Abeba&quot;, &quot;Lada&quot;, &quot;Praha v&#253;chod&quot;, 1);
+            historyView = new HistoryView(historyModel);
+            historyCtrl = new HistoryCtrl(historyModel, historyView);
+            historyView.setVisible(true);
+        }
     }    
 }

Modified: trunk/src/net/sf/plantlore/client/AppCoreView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/AppCoreView.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/AppCoreView.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -63,6 +63,7 @@
     private JMenuItem helpAbout = new JMenuItem(L10n.getString(&quot;helpAbout&quot;));
     private JMenuItem dataAuthors = new JMenuItem(L10n.getString(&quot;authorMgr&quot;));
     private JMenuItem dataPublications = new JMenuItem(L10n.getString(&quot;publicationMgr&quot;));    
+    private JMenuItem dataHistory = new JMenuItem(L10n.getString(&quot;History&quot;));
     
     private JLabel statusLabel;
     
@@ -126,7 +127,8 @@
         
         dataMenu.setMnemonic(KeyEvent.VK_D);
         dataMenu.add(dataAuthors);
-        dataMenu.add(dataPublications);        
+        dataMenu.add(dataPublications);   
+        dataMenu.add(dataHistory); 
 
         helpMenu.setMnemonic(KeyEvent.VK_H);
         helpMenu.add(helpContents);
@@ -277,6 +279,13 @@
         dataPublications.addActionListener(al);
     }    
     
+    /** Adds a listener to the HistoryData menu item.
+    *
+    */
+    public void addDataHistoryListener(ActionListener al) {
+        dataHistory.addActionListener(al);
+    }
+    
     /** Returns the frame of the main window.
      *
      */

Modified: trunk/src/net/sf/plantlore/client/dblayer/DBMapping.java
===================================================================
--- trunk/src/net/sf/plantlore/client/dblayer/DBMapping.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/dblayer/DBMapping.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -26,7 +26,8 @@
     private Hashtable PUBLICATION;
     private Hashtable METADATA;
     private Hashtable HABITAT;
-    private Hashtable OCCURRENCE;                
+    private Hashtable OCCURRENCE;  
+    private Hashtable HISTORY;
     
     public static final int USERRECORD = 1;
     public static final int AUTHORRECORD = 2;
@@ -34,7 +35,8 @@
     public static final int PUBLICATIONRECORD = 4;
     public static final int METADATARECORD = 5;
     public static final int HABITATRECORD = 6;    
-    public static final int OCCURENCERECORD = 7;        
+    public static final int OCCURENCERECORD = 7;  
+    public static final int HISTORYRECORD = 8;
     
     /** List of tables for available entities*/
     private String AUTHOR_TABLES = &quot;TAUTHORS&quot;;
@@ -44,6 +46,8 @@
     private String METADATA_TABLES = &quot;TMETADATA&quot;;
     private String HABITAT_TABLES = &quot;THABITATS, TVILLAGES, TPHYTOCHORIA, TTERRITORIES&quot;;
     private String OCCURENCE_TABLES = &quot;TOCCURRENCES, TMETADATA, TPLANTS, TPUBLICATIONS, THABITATS, TUSER&quot;;
+    private String HISTORY_TABLES = &quot;THISTORY JOIN THISTORYCOLUMN JOIN THISTORYCHANGE ON (THISTORY.ccolumnid = THISTORYCOLUMN.cid) ON (THISTORY.cchangeid = THISTORYCHANGE.cid) &quot;;
+    
     /** Instance of a logger */
     private Logger logger;
     
@@ -59,6 +63,7 @@
         initMetadata();
         initHabitat();
         initOccurrence();
+        initHistory();
     }
         
     /**
@@ -84,7 +89,9 @@
             case HABITATRECORD:
                 return this.HABITAT_TABLES;                
             case OCCURENCERECORD:
-                return this.OCCURENCE_TABLES;                            
+                return this.OCCURENCE_TABLES;  
+            case HISTORYRECORD:
+                return this.HISTORY_TABLES;
             default:
                 logger.error(&quot;No table defined for type &quot;+type);
                 throw new DBLayerException(&quot;No table defined for type &quot;+type);                
@@ -123,6 +130,9 @@
             case OCCURENCERECORD:
                 value = getOccurrenceField(key);
                 break;
+            case HISTORYRECORD:
+            	value = getHistoryField(key);
+            	break;
             default:            
                 logger.error(&quot;No fields defined for type &quot;+type);
                 throw new DBLayerException(&quot;No fields defined for type &quot;+type);
@@ -234,6 +244,21 @@
     }
 
     /**
+     *  Get a specified field from history mapping.
+     *
+     *  @param key  String key representing a database column
+     *  @return     name of the database column. If the given key is not found &lt;code&gt;null&lt;/code&gt; is returned
+     */
+    private String getHistoryField(String key) {       
+    	if (HISTORY.containsKey(key)) {
+    		System.out.println((String)HISTORY.get(key));
+            return (String)HISTORY.get(key);
+        } else {        	
+            return null;
+        }
+    }    
+    
+    /**
      *  Initialization of the mapping of Users.
      */
     private void initUser() {
@@ -349,4 +374,18 @@
         OCCURRENCE.put(&quot;updatedwho&quot;,&quot;TOCCURRENCES.CUPDATEWHO&quot;);
         OCCURRENCE.put(&quot;note&quot;,&quot;TOCCURRENCES.CNOTE&quot;);                
     }    
+    
+    private void initHistory() {
+    	HISTORY = new Hashtable(10);
+    	HISTORY.put(&quot;cid&quot;,&quot;THISOTRY.CID&quot;);
+    	HISTORY.put(&quot;oldValue&quot;,&quot;THISTORY.COLDVALUE&quot;);
+    	HISTORY.put(&quot;newValue&quot;,&quot;THISTORY.CNEWVALUE&quot;);
+    	HISTORY.put(&quot;tableName&quot;,&quot;THISTORYCOLUMN.CTABLENAME&quot;);
+    	HISTORY.put(&quot;columnName&quot;,&quot;THISTORYCOLUMN.CCOLUMNNAME&quot;);
+    	HISTORY.put(&quot;occurrenceId&quot;,&quot;THISTORYCHANGE.COCCURRENCEID&quot;);
+    	HISTORY.put(&quot;recordId&quot;,&quot;THISTORYCHANGE.CRECORDID&quot;);
+    	HISTORY.put(&quot;operation&quot;,&quot;THISTORYCHANGE.COPEREATION&quot;);
+    	HISTORY.put(&quot;when&quot;,&quot;THISTORYCHANGE.CWHEN&quot;);
+    	HISTORY.put(&quot;who&quot;,&quot;THISTORYCHANGE.CWHO&quot;);    	
+    }
 }

Added: trunk/src/net/sf/plantlore/client/history/History.java
===================================================================
--- trunk/src/net/sf/plantlore/client/history/History.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/history/History.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -0,0 +1,355 @@
+/**
+ * 
+ */
+package net.sf.plantlore.client.history;
+
+import java.util.Observable;
+import net.sf.plantlore.client.dblayer.DBLayer;
+import net.sf.plantlore.client.dblayer.DBLayerException;
+import net.sf.plantlore.client.dblayer.DBMapping;
+import net.sf.plantlore.client.dblayer.query.Query;
+import net.sf.plantlore.client.dblayer.query.SelectQuery;
+import net.sf.plantlore.client.dblayer.result.Result;
+import net.sf.plantlore.common.record.HistoryRecord;
+
+import org.apache.log4j.Logger;
+
+
+/**
+ * @author Lada
+ *
+ */
+public class History extends Observable {
+
+	/** Instance of a logger */
+    private Logger logger;
+
+    /** Exception with details about an error */
+    private DBLayerException error = null;
+    /** Instance of a database management object */
+    private DBLayer database;   
+    
+    //result - searchig history for rocord
+    private Result resultHistory;
+    private Object[][] historyData;
+
+    /** Name of the table where value was changed*/
+	private String tableName;  
+	/** Name of the column where value was changed*/
+	private String columnName;
+	/** Unique value identified record. 
+	 * Foring key referenced to table TOCCURRENCES */	
+	private int occurrenceId;
+	/**Unique value identified record in table where value was changed */
+	private int recordId;
+	/** Operation whitch was used*/   
+	private String operation;
+	/** Date and time when the reccord was changed*/
+	private java.util.Date when;	
+	/** Old value of attribute*/    
+	private String oldValue;
+	/** New value of attribute*/
+	private String newValue;
+   /** Name of user who did changed*/
+	private String nameUser;
+
+	//Informations about occurrences
+	private String namePlant;
+	private String nameAuthor;
+	private String location;
+	
+    
+    /** Creates a new instance of History 
+     *  
+     *  v konstruktoru predame jednotlive informace, ktere chceme zobrazit o nalezu
+     * */
+    public History(DBLayer database, String namePlant, String nameAuthor, String location, int idOcc)
+    {
+       logger = Logger.getLogger(this.getClass().getPackage().getName());	 
+       this.database = database;	
+       
+       setOccurrenceId(idOcc);
+       setNamePlant(namePlant);
+       setNameAuthor(nameAuthor);
+       setLocation(location);
+	   
+	   //dohledani historie zmen pro nalez s id occurrenceId
+	   searchHistoryData(occurrenceId);
+    }	
+
+    /**
+     * Tato funkce dohleda data ulozene v historii pro nalez urceni id 
+     * 
+     * @param idOccurrence
+     */
+     
+    public void searchHistoryData(Integer idOccurrence)
+    {
+    	String idOcc = new String();
+    	
+    	 // Create new Select query
+        Query query = new SelectQuery();
+        query.setType(DBMapping.HISTORYRECORD);
+        query.addWhere(&quot;occurrenceId&quot;,&quot;=&quot;,idOcc.valueOf(idOccurrence));
+        query.addOrderby(&quot;when&quot;, &quot;ASC&quot;);
+        
+        Result result = null;
+        try {
+            // Execute query
+            result = database.executeQuery(query);        
+        } catch (DBLayerException e) {
+            // Log and set an error                   
+            logger.error(&quot;Searching history failed. Unable to execute search query.&quot;);
+            //setError(e);           
+        } finally {                              
+            // Save history data
+        	logger.debug(&quot;Searching history ends successfully&quot;);
+            saveResult(result);                
+        }      
+    }
+    
+    /**
+     * 
+     * @param result
+     */
+    public void saveResult(Result result) {
+    	this.resultHistory = result;
+    	int from = 0;
+    	int to = result.getNumRows();
+    	
+    	logger.debug(&quot;Retrieving query results.&quot;);
+        try {
+            // Retrieve selected row interval
+            Object[] objectHistory = database.more(this.resultHistory, from, to);  
+            int countResutl = objectHistory.length;
+            logger.debug(&quot;Results retrieved. Count: &quot;+ countResutl);
+            
+            System.out.println(objectHistory);
+
+        } catch (DBLayerException e) {
+            // Log and set error in case of an exception
+            logger.error(&quot;Processing search results failed: &quot;+e.toString());            
+        }
+    	
+    }
+    
+    public Object[][] getData() {
+ 	    historyData = new Object[][]{{new Boolean(false),&quot;12.01.2006&quot;,&quot;Lada&quot;,&quot;village&quot;,&quot;Stritez&quot;, &quot;Slavice&quot;},
+		          {new Boolean(false),&quot;12.01.2006&quot;,&quot;Lada&quot;,&quot;village&quot;,&quot;Stritez&quot;, &quot;Slavice&quot;}};
+
+    	return this.historyData;
+    }
+    
+
+    /**
+     * Tato funkce bude menit hodnoty v DB (DELETE v historii, zmena v jakekoliv 
+     * tabulce pro kterou se zaznamenava historie) - UNDO
+     * 
+     * bude volana z CTR po stisku klavesy
+     * jako parametr dostane seznam oznacenych zmen, ktere se maji vratit
+     * 
+     */
+    public void undo()
+    {
+    	
+    }
+    
+    /**
+     * Tato funkce bude overovat prava, zda dany uzivatel ma
+     * pravo provest UNDO - spravne by se uzivateli nevela
+     * historie zobrazit pokud nema prava, takze overeni prav
+     * musi byt volano jiz v konstruktoru nebo na miste, kde 
+     * se vola undo pro dany zaznam, coz by bylo asi nejlogictejsi
+     * !!! OVERIT TUTO MYSLENKU 
+     * pokud to tak bude, tak po zavolani historie vime, ze je autor nebo ma prava
+     * jeste je tu otazka, zda editace od admina zakaze zruseni teto editace neadminem 
+     */
+    public void checkRight()
+    {
+    	
+    }
+    
+    /**
+     *  overeni, zda nechce vratit starsi zmenu aniz by chtel vratit mladsi
+     *  nebo spise, pokud oznaci starsi v tu chvili se mu oznaci i ty mlatsi pro
+     *  stejeny atribut
+     */
+    public void checkCorrectMark()
+    {
+    	
+    }
+       
+    
+    //****************************//
+    //****Get and set metods*****//
+    //**************************//
+    
+
+   public String getNamePlant() {
+		  return this.namePlant;
+	   }
+
+   public void setNamePlant(String namePlant) {
+		  this.namePlant = namePlant;
+	}    
+   
+   public String getNameAuthor() {
+		  return this.nameAuthor;
+	   }
+
+   public void setNameAuthor(String nameAuthor) {
+	  this.nameAuthor = nameAuthor;
+   } 
+   
+   public String getLocation() {
+		  return this.location;
+	   }
+
+   public void setLocation(String location) {
+		  this.location = location;
+	}    
+   
+    /**
+	*   Get name of the table where value was changed
+	*   @return of the table where value was changed	
+	*/
+   public String getTableName() {
+	  return this.tableName;
+   }
+
+   /**
+	*   Set name of the table where value was changed
+	*   @param tableName string containing of the table where value was changed
+	*/
+   public void setTableName(String tableName) {
+	  this.tableName = tableName;
+   }
+
+   /**
+   *   Get name of the column where value was changed
+   *   @return  name of the column where value was changed
+   */
+  public String getColumnName() {
+	 return this.columnName;
+  }
+
+  /**
+   *   Set  name of the column where value was changed
+   *   @param columnName string containing  name of the column where value was changed
+   */
+  public void setColumnName(String columnName) {
+	 this.columnName = columnName;
+  }
+	/**
+	 *   Get identifier of the occurrence whitch was changed
+	 *   @return foreign identifier of the occurrence whitch was changed
+	 */
+	public int getOccurrenceId() {
+	   return this.occurrenceId;
+	}
+
+	/**
+	 *   Set identifier of the occurrence whitch was changed
+	 *   @param occurrenceId identifier of the occurrence whitch was changed
+	 */
+	public void setOccurrenceId(int occurrenceId) {
+	   this.occurrenceId= occurrenceId;
+	}	
+	
+   /**
+	 *   Get identifier of the record whitch was changed
+	 *   @return identifier of the record whitch was changed
+	 */
+	public int getRecordId() {
+	   return this.recordId;
+	}
+
+	/**
+	 *   Set identifier of the record whitch was changed
+	 *   @param recordId string containing identifier of the record whitch was changed
+	 */
+	public void setRecordId(int recordId) {
+	   this.recordId = recordId;
+	}
+	  
+	/**
+	*   Get operation whitch was used
+	*   @return operation whitch was used
+	*/
+	public String getOperation() {
+	  return this.operation;
+	}
+
+	/**
+	*   Set operation whitch was used
+	*   @param operation string containing operation whitch was used 
+	*/
+	public void setOperation(String operation) {
+	  this.operation = operation;
+	}
+	 
+	   
+	/**
+	*   Get date and time when the reccord was changed
+	*   @return date and time when the reccord was changed
+	*/         
+    public java.util.Date getWhen() {
+	  return this.when;
+    }
+ 
+   /**
+	*   Set date and time when the reccord was changed
+	*   @param when date and time when the reccord was changed
+	*/            
+    public void setWhen(java.util.Date when) {
+	  this.when = when;
+    }     	  
+ 
+	/**
+	*   Get name of user who did changed
+	*   @return name of user who did changed
+	*/
+    public String getNameUser() {
+	  return this.nameUser;
+    }
+
+    /**
+	*   Set name of user who did changed
+	*   @param nameUser string containing name of user who did changed	
+	*/
+    public void setNameUser(String nameUser) {
+	  this.nameUser = nameUser;
+    }  
+    
+	/**
+	*   Get old value of atribute whitch was changed
+	*   @return old value of atribute whitch was changed
+	*/
+    public String getOldValue() {
+	  return this.oldValue;
+    }
+
+    /**
+	*   Set old value of atribute whitch was changed
+	*   @param oldValue string containing old value of atribute whitch was changed
+	*/
+    public void setOldValue(String oldValue) {
+	  this.oldValue = oldValue;
+    }
+	   
+	 /**
+	*   Get new value of atribute whitch was changed
+	*   @return new value of atribute whitch was changed 
+	*/
+    public String getNewValue() {
+	  return this.newValue;
+    }
+
+    /**
+	*   Set new value of atribute whitch was changed
+	*   @param newValue string containing new value of atribute whitch was changed
+	*/
+    public void setNewValue(String newValue) {
+	  this.newValue = newValue;
+    }    
+}

Added: trunk/src/net/sf/plantlore/client/history/HistoryCtrl.java
===================================================================
--- trunk/src/net/sf/plantlore/client/history/HistoryCtrl.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/history/HistoryCtrl.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -0,0 +1,157 @@
+/**
+ * 
+ */
+package net.sf.plantlore.client.history;
+
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.awt.event.WindowEvent;
+import java.awt.event.WindowListener;
+
+import net.sf.plantlore.client.Settings;
+import net.sf.plantlore.client.SettingsView;
+
+
+import org.apache.log4j.Logger;
+
+/**
+ * @author Lada
+ *
+ */
+public class HistoryCtrl {
+
+	private Logger logger;
+    private History model;
+    private HistoryView view;
+    
+    /** Creates a new instance of HistoryCtrl */
+    public HistoryCtrl(History model, HistoryView view)
+    {
+        logger = Logger.getLogger(this.getClass().getPackage().getName());        
+        this.model = model;
+        this.view = view;
+                     
+        view.addOkButtonListener(new okButtonListener());
+        view.addCancelButtonListener(new cancelButtonListener());
+        view.addHelpButtonListener(new helpButtonListener());
+        view.addPreviousButtonListener(new previousButtonListener());
+        view.addNextButtonListener(new nextButtonListener());
+        view.addSelectAllButtonListener(new selectAllButtonListener());
+        view.addUnselectAllButtonListener(new unselectAllButtonListener());
+        view.addUnselectAllButtonListener(new unselectAllButtonListener());
+        view.addUndoToButtonListener(new undoToButtonListener());
+    }
+    
+    /** 
+    * On Ok makes the model store() the preferences and hides the view.
+    * 
+    */
+   class okButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {       
+           view.dispose();           
+       }
+   }
+  
+   /**
+    * On Cancel just hides the view.
+    *
+    */
+   class cancelButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+    	   view.dispose();
+       }
+   }
+   
+   /**
+    * On Help should call help.
+    *
+    */
+   class helpButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+    	   System.out.println(&quot;Tady se bude volat Help!&quot;);
+       }
+   }
+   
+   /**
+    * 
+    *
+    */
+   class previousButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+          
+       }
+   }
+   
+   /**
+    * 
+    *
+    */
+   class nextButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+          
+       }
+   }
+   
+   /**
+    * 
+    *
+    */
+   class selectAllButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+    	   int countRow = view.getTable().getRowCount();
+           for (int row=0; row &lt; countRow; row++)
+           {
+         	  //System.out.println(view.getTable().getValueAt(row, 0));         	
+         	  view.getTable().setValueAt(true, row, 0);           	
+           } 
+           view.repaint();
+       }
+   }
+   
+   /**
+    * 
+    *
+    */
+   class unselectAllButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+    	   int countRow = view.getTable().getRowCount();
+           for (int row=0; row &lt; countRow; row++)
+           {
+         	  //System.out.println(view.getTable().getValueAt(row, 0));         	  
+         	  view.getTable().setValueAt(false, row, 0);           	
+           }
+           view.repaint();
+       }
+   }
+   
+   /**
+    * 
+    *
+    */
+   class undoSelectedButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+          
+       }
+   }
+   
+   /**
+    * 
+    *
+    */
+   class undoToButtonListener implements ActionListener {
+       public void actionPerformed(ActionEvent actionEvent)
+       {
+          
+       }
+   }
+    
+
+}

Added: trunk/src/net/sf/plantlore/client/history/HistoryTableModel.java
===================================================================
--- trunk/src/net/sf/plantlore/client/history/HistoryTableModel.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/history/HistoryTableModel.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -0,0 +1,88 @@
+package net.sf.plantlore.client.history;
+
+import javax.swing.DefaultCellEditor;
+import javax.swing.JCheckBox;
+import javax.swing.table.AbstractTableModel;
+
+/** 
+ *
+ * @author Lada
+ */
+public class HistoryTableModel extends AbstractTableModel
+{
+    private String[] columnNames = {&quot;Mark&quot;, &quot;Date&quot;, &quot;User&quot;, &quot;Item&quot;, &quot;Old value&quot;, &quot;New value&quot;};
+    private Object[][] data;
+
+    public final static int MARK = 0;
+    public final static int DATE = 1; 
+    public final static int USER = 2;
+    public final static int ITEM = 3;
+    public final static int OLD_VALUE = 4;
+    public final static int NEW_VALUE = 5;
+    
+    /** Creates a new instance of HistoryTableModel */
+    public HistoryTableModel()
+    {    	
+    }
+
+    /** Creates a new instance of HistoryTableModel with data*/
+    public HistoryTableModel(Object[][] tableData)
+    {
+    	data = tableData;
+    }
+    
+    //povoleni editace sloupce pro vyber radku
+    public boolean isCellEditable(int row, int column) 
+    {
+    	if (column == MARK )
+    	{
+    		return true;
+    	}
+    	return false;
+    }
+    
+    //pro zmenu hodnoty v tabulce
+    public void setValueAt(Object value, int row, int column)
+    {
+        data[row][column] = value;
+    }
+ 
+    //vyzadam si hodnotu dane polozky
+    public Object getValueAt(int row, int column)
+    {
+        return data[row][column];
+    }    
+    
+    //vyzadam si pocet zobrazenych radku
+    public int getRowCount()
+    {
+        return data.length;
+    }
+    
+    public int getColumnCount()
+    {
+        return columnNames.length;
+    }
+
+    public String getColumnName(int column){
+        return columnNames[column];
+    }
+    
+    //nastaveni datoveho typu pro jednotlive sloupce
+    //implicitne je zobrazovan string
+    public Class getColumnClass(int column) {
+    	Class dataType = super.getColumnClass(column);
+    	if (column == MARK){
+    		dataType = Boolean.class;
+    	}
+    	//FIXME: do budoucna by sloupec DATE mel byt typu Date
+    	//else if (column == DATE){
+    	//	dataType = java.util.Date.class;
+    	//}
+    	else {
+    		dataType = String.class;
+    	}    		
+        return dataType;
+    }
+    
+}

Added: trunk/src/net/sf/plantlore/client/history/HistoryView.java
===================================================================
--- trunk/src/net/sf/plantlore/client/history/HistoryView.java	2006-02-21 22:21:07 UTC (rev 41)
+++ trunk/src/net/sf/plantlore/client/history/HistoryView.java	2006-02-23 01:42:47 UTC (rev 42)
@@ -0,0 +1,435 @@
+package net.sf.plantlore.client.history;
+
+
+import java.awt.FlowLayout;
+import java.awt.GridBagConstraints;
+import java.awt.GridBagLayout;
+import java.awt.event.ActionListener;
+import java.awt.event.WindowListener;
+import java.util.Observable;
+import java.util.Observer;
+import javax.swing.AbstractAction;
+
+import javax.swing.JButton;
+import javax.swing.JCheckBox;
+import javax.swing.JComboBox;
+import javax.swing.JRadioButton;
+import javax.swing.JDialog;
+import javax.swing.JLabel;
+import javax.swing.JPanel;
+import javax.swing.JTable;
+import javax.swing.table.TableColumn;
+import javax.swing.table.TableColumnModel;
+import javax.swing.DefaultCellEditor;
+import javax.swing.table.DefaultTableModel;
+import javax.swing.table.AbstractTableModel;
+import javax.swing.JScrollPane;
+
+import net.sf.plantlore.common.ComponentAdjust;
+import net.sf.plantlore.common.record.OccurenceRecord;
+import net.sf.plantlore.l10n.L10n;
+
+/**
+ * 
+ * @author Lada
+ *
+ */
+public class HistoryView extends JDialog implements Observer {
+
+	private History model;
+	//Panels
+    private JPanel buttonsPane;
+    private JPanel infoRecordPanel;
+    private JPanel infoInsertPanel;
+    private JPanel infoEditPanel;
+    //Labels
+    private JLabel nameLabel;    
+    private JLabel authorLabel;
+    private JLabel locationLabel;    
+    private JLabel dateLabel;
+    private JLabel insertWhoLabel;
+    private JLabel nameValueLabel;
+    private JLabel authorValueLabel;
+    private JLabel locationValueLabel;
+    private JLabel dateValueLabel;
+    private JLabel insertWhoValueLabel;
+    //JTable
+    private JTable tableEditList;
+    private DefaultTableModel tableModel;
+    private JScrollPane jsp;
+    //data
+    private Object[][] dateTable;
+    //Buttons
+    private JButton nextButton;
+    private JButton previousButton;
+    private JButton selectAllButton;
+    private JButton unselectAllButton;
+    private JButton undoSelectedButton;
+    private JButton undoToButton;
+    private JButton okButton;
+    private JButton cancelButton;
+    private JButton helpButton;
+    
+    
+    /** Creates a new instance of HistoryView */
+    public HistoryView(History model)
+    {
+        this.model = model;
+        init();
+    }
+
+    public void update(Observable observable, Object object)
+    {
+    } 
+    
+    /** 
+     *
+     * The top initializing method.
+     *
+     */
+    private void init()
+    {
+    	//Set properties of this dialog
+    	setTitle(L10n.getString(&quot;History&quot;));
+    	setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);    	
+        setSize(700,600);
+        setVisible(false);
+        
+        //initialization of the subPanel
+        initButtonsPane();
+        
+        //Layout (JDialog)
+        setLayout(new GridBagLayout());
+        GridBagConstraints gbConstraints;       
+        gbConstraints = new GridBagConstraints();
+            
+        //Add panel with information about record
+        infoRecordPanel = new JPanel();
+ 	    infoRecordPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Details of the record&quot;));
+ 	    infoRecordPanel.setLayout(new java.awt.GridBagLayout()); 
+ 	    gbConstraints = new GridBagConstraints();
+        gbConstraints.gridy = 0;
+        gbConstraints.gridx = 0;       
+        gbConstraints.weighty = 0.1;
+        gbConstraints.weightx = 1.0;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        gbConstraints.anchor = GridBagConstraints.NORTH;
+        gbConstraints.fill = GridBagConstraints.BOTH;  
+        add(infoRecordPanel, gbConstraints);
+         
+        //Add panel with information about record created
+        infoInsertPanel = new JPanel();
+ 	    infoInsertPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Record created&quot;));
+ 	    infoInsertPanel.setLayout(new java.awt.GridBagLayout()); 
+ 	    gbConstraints = new GridBagConstraints();
+ 	    gbConstraints.gridy = 1;
+        gbConstraints.gridx = 0;
+        gbConstraints.weighty = 0.1;
+        gbConstraints.weightx = 1;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        gbConstraints.anchor = GridBagConstraints.NORTH;
+        gbConstraints.fill = GridBagConstraints.BOTH;  
+        add(infoInsertPanel, gbConstraints);
+        
+        //Add panel with list of changes
+        infoEditPanel = new JPanel();
+ 	    infoEditPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;List of changes&quot;));
+ 	    infoEditPanel.setLayout(new java.awt.GridBagLayout()); 
+ 	    gbConstraints = new GridBagConstraints();
+ 	    gbConstraints.gridy = 2;
+        gbConstraints.gridx = 0;
+        gbConstraints.weighty = 0.75;
+        gbConstraints.weightx = 1;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        gbConstraints.anchor = GridBagConstraints.NORTH;
+        gbConstraints.fill = GridBagConstraints.BOTH;  
+        add(infoEditPanel, gbConstraints);
+        
+        //Add panel with ok, cancle and help buttons
+        gbConstraints.gridy = 3;
+        gbConstraints.gridx = 0;
+        gbConstraints.weighty = 0.05;
+        gbConstraints.weightx = 1.0;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        gbConstraints.anchor = GridBagConstraints.SOUTHEAST;
+        add(buttonsPane, gbConstraints);
+       
+        // Add labels to the infoRecordPanel panel
+        nameLabel = new JLabel();
+        nameLabel.setText(&quot;Name:&quot;); 
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 0;
+        gbConstraints.gridy = 0;       
+        gbConstraints.weightx = 0.1;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
+        infoRecordPanel.add(nameLabel, gbConstraints);    
+        
+        nameValueLabel = new JLabel();
+        nameValueLabel.setText(model.getNamePlant());        
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 0;       
+        gbConstraints.weightx = 0.9;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 5, 0, 5);
+        infoRecordPanel.add(nameValueLabel, gbConstraints);   
+        
+        authorLabel = new JLabel();
+        authorLabel.setText(&quot;Author:&quot;); 
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 0;
+        gbConstraints.gridy = 1;
+        gbConstraints.weightx = 0.1;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
+        infoRecordPanel.add(authorLabel, gbConstraints);
+        
+        authorValueLabel = new JLabel();
+        authorValueLabel.setText(model.getNameAuthor());   
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 1;
+        gbConstraints.weightx = 0.9;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 5, 0, 5);
+        infoRecordPanel.add(authorValueLabel, gbConstraints);
+        
+        locationLabel = new JLabel();
+        locationLabel.setText(&quot;Location:&quot;);  
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 0;
+        gbConstraints.gridy = 2;
+        gbConstraints.weightx = 0.1;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
+        infoRecordPanel.add(locationLabel, gbConstraints);
+        
+        locationValueLabel = new JLabel();
+        locationValueLabel.setText(model.getLocation());  
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 2;
+        gbConstraints.weightx = 0.9;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 5, 0, 5);
+        infoRecordPanel.add(locationValueLabel, gbConstraints);
+
+        // Add labels to the infoInsertPanel panel
+        dateLabel = new JLabel();
+        dateLabel.setText(&quot;Date record creation:&quot;); 
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 0;
+        gbConstraints.gridy = 0;       
+        gbConstraints.weightx = 0.1;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
+        infoInsertPanel.add(dateLabel, gbConstraints);    
+        
+        dateValueLabel = new JLabel();
+        dateValueLabel.setText(&quot;getCreateWhen()&quot;);        
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 0;       
+        gbConstraints.weightx = 0.9;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 5, 0, 5);
+        infoInsertPanel.add(dateValueLabel, gbConstraints);   
+        
+        insertWhoLabel = new JLabel();
+        insertWhoLabel.setText(&quot;User who record created:&quot;); 
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 0;
+        gbConstraints.gridy = 1;
+        gbConstraints.weightx = 0.1;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
+        infoInsertPanel.add(insertWhoLabel, gbConstraints);
+        
+        insertWhoValueLabel = new JLabel();
+        insertWhoValueLabel.setText(&quot;getCreateWho()&quot;);   
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 1;
+        gbConstraints.weightx = 0.9;
+        gbConstraints.anchor = java.awt.GridBagConstraints.WEST;
+        gbConstraints.insets = new java.awt.Insets(0, 5, 0, 5);
+        infoInsertPanel.add(insertWhoValueLabel, gbConstraints);              
+        
+        // Add table to the infoEditPanel panel    
+        //!!!pro velke mnozstvi dat je lepsi pouzit AbstractTableModel, ktera umoznuje postupne nacitani do pameti
+        // defaultTableModel vytvari odkazy na vsechny zapouzdrene informace
+        
+        Object[][] data = model.getData();
+          
+        tableEditList = new JTable(new HistoryTableModel(data));
+        TableColumnModel tcm = tableEditList.getColumnModel();
+        TableColumn tc = tcm.getColumn(HistoryTableModel.MARK);
+        tc.setCellEditor(new MyCheckBoxEditor());
+        tableEditList.setPreferredScrollableViewportSize(new java.awt.Dimension(500, 100)); 
+        tableEditList.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);
+        jsp = new JScrollPane(tableEditList);                     
+
+        
+        gbConstraints = new java.awt.GridBagConstraints();
+        gbConstraints.gridx = 0;
+        gbConstraints.gridy = 0;
+        gbConstraints.anchor = java.awt.GridBagConstraints.CENTER;
+        gbConstraints.fill = java.awt.GridBagConstraints.BOTH;
+        gbConstraints.weightx = 1;        
+        gbConstraints.weighty = 0.7;  
+        gbConstraints.gridheight = 6;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        jsp.setMinimumSize(new java.awt.Dimension(500, 100));        
+        jsp.setPreferredSize(new java.awt.Dimension(500, 100));        
+        infoEditPanel.add(jsp, gbConstraints);
+        jsp.add(tableEditList);
+        jsp.setViewportView(tableEditList); 
+        
+        //Add buttons to the infoEditPanel panel       
+        previousButton = new JButton(&quot;Previous&quot;);
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 4;   
+        gbConstraints.weighty = 0.1; 
+        gbConstraints.anchor = java.awt.GridBagConstraints.SOUTH;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        previousButton.setMinimumSize(new java.awt.Dimension(110, 25));        
+        previousButton.setPreferredSize(new java.awt.Dimension(110, 25));
+        infoEditPanel.add(previousButton, gbConstraints);
+        
+        nextButton = new JButton(&quot;Next&quot;);
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 5;         
+        gbConstraints.anchor = java.awt.GridBagConstraints.SOUTH;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        nextButton.setMinimumSize(new java.awt.Dimension(110, 25));        
+        nextButton.setPreferredSize(new java.awt.Dimension(110, 25));
+        infoEditPanel.add(nextButton, gbConstraints);
+                
+        selectAllButton = new JButton(&quot;Select all&quot;);
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 0;        
+        gbConstraints.anchor = java.awt.GridBagConstraints.NORTH;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        selectAllButton.setMinimumSize(new java.awt.Dimension(110, 25));        
+        selectAllButton.setPreferredSize(new java.awt.Dimension(110, 25));
+        infoEditPanel.add(selectAllButton, gbConstraints);
+        
+        unselectAllButton = new JButton(&quot;Unselect all&quot;);
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 1;        
+        gbConstraints.anchor = java.awt.GridBagConstraints.NORTH;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        unselectAllButton.setMinimumSize(new java.awt.Dimension(110, 25));        
+        unselectAllButton.setPreferredSize(new java.awt.Dimension(110, 25));
+        infoEditPanel.add(unselectAllButton, gbConstraints);
+        
+        undoSelectedButton = new JButton(&quot;Undo selected secord&quot;);
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 2;        
+        gbConstraints.anchor = java.awt.GridBagConstraints.NORTH;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        undoSelectedButton.setMinimumSize(new java.awt.Dimension(110, 25));        
+        undoSelectedButton.setPreferredSize(new java.awt.Dimension(110, 25));
+        infoEditPanel.add(undoSelectedButton, gbConstraints);
+        
+        undoToButton = new JButton(&quot;Undo to selected record&quot;);
+        gbConstraints = new GridBagConstraints();
+        gbConstraints.gridx = 1;
+        gbConstraints.gridy = 3;        
+        gbConstraints.anchor = java.awt.GridBagConstraints.NORTH;
+        gbConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
+        undoToButton.setMinimumSize(new java.awt.Dimension(110, 25));        
+        undoToButton.setPreferredSize(new java.awt.Dimension(110, 25));
+        infoEditPanel.add(undoToButton, gbConstraints);
+        
+    }   
+    
+    //editace bunky v tabulce
+    public class MyCheckBoxEditor extends DefaultCellEditor {
+        public MyCheckBoxEditor() {
+            super(new JCheckBox());
+        }               
+    }
+    
+    public JTable getTable()
+    {
+    	return this.tableEditList;
+    }
+    
+    /** 
+    *  Constructs the buttons pane.
+    */
+   private void initButtonsPane()
+   {
+       ComponentAdjust ca = new ComponentAdjust();
+              
+       okButton = new JButton(L10n.getString(&quot;Ok&quot;));
+       cancelButton = new JButton(L10n.getString(&quot;Cancel&quot;));
+       helpButton = new JButton(L10n.getString(&quot;Help&quot;));
+       okButton.setActionCommand(&quot;OK&quot;);
+       cancelButton.setActionCommand(&quot;CANCEL&quot;);
+       helpButton.setActionCommand(&quot;HELP&quot;);
+       
+       ca.add(okButton);
+       ca.add(cancelButton);
+       ca.add(helpButton);
+       ca.setMaxWidth();
+       
+       buttonsPane = new JPanel();                    
+       buttonsPane.setLayout(new FlowLayout());
+       buttonsPane.add(okButton);
+       buttonsPane.add(cancelButton);
+       buttonsPane.add(helpButton);
+   }
+   
+   
+   /** Adds a listener to the whole window events.
+   *
+   */
+  public void addListener(WindowListener wl) 
+  {
+      addWindowListener(wl);
+  }  
+  
+  public void addOkButtonListener(ActionListener al) {
+     okButton.addActionListener(al);     
+  }  
+  
+  public void addCancelButtonListener(ActionListener al) {	     
+	     cancelButton.addActionListener(al);	     
+	  }  
+  
+  public void addHelpButtonListener(ActionListener al) {
+	     helpButton.addActionListener(al);
+	  }  
+  
+  public void addNextButtonListener(ActionListener al) {
+      nextButton.addActionListener(al);
+  }
+  
+  public void addPreviousButtonListener(ActionListener al) {
+      previousButton.addActionListener(al);
+  }
+  
+  public void addSelectAllButtonListener(ActionListener al) {
+      selectAllButton.addActionListener(al);
+  }
+  
+  public void addUnselectAllButtonListener(ActionListener al) {
+      unselectAllButton.addActionListener(al);
+  }
+  
+  public void addUndoSelectedButtonListener(ActionListener al) {
+      undoSelectedButton.addActionListener(al);
+  }
+  
+  public void addUndoToButtonListener(ActionListener al) {
+      undoToButton.addActionListener(al);
+  }
+}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000024.html">[Plantlore-dev] r41 - in trunk: analysis analysis/biocase analysis/database documentation
</A></li>
	<LI>Next message: <A HREF="000025.html">[Plantlore-dev] r43 - trunk/src/net/sf/plantlore/l10n
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26">[ date ]</a>
              <a href="thread.html#26">[ thread ]</a>
              <a href="subject.html#26">[ subject ]</a>
              <a href="author.html#26">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plantlore-dev">More information about the Plantlore-dev
mailing list</a><br>
</body></html>
